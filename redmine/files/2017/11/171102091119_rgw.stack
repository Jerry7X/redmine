Thread 696 (Thread 0x7fe0fabff700 (LWP 136675)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bd0286b in ceph::log::Log::entry (this=0x7fe0fac37300) at log/Log.cc:457
#2  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#3  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 695 (Thread 0x7fe0f9278700 (LWP 136677)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10be17a6a in WaitUntil (when=..., mutex=..., this=0x7fe0fac72140) at ./common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fac72140) at ./common/Cond.h:81
#3  CephContextServiceThread::entry (this=0x7fe0fac720c0) at common/ceph_context.cc:99
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 694 (Thread 0x7fe0f8a77700 (LWP 136678)):
#0  0x00007fe10a1b5bcd in poll () from /lib64/libc.so.6
#1  0x00007fe10bdf5af3 in poll (__timeout=-1, __nfds=2, __fds=0x7fe0f8a75b00) at /usr/include/bits/poll2.h:46
#2  AdminSocket::entry (this=0x7fe0fac691c0) at common/admin_socket.cc:267
#3  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#4  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 693 (Thread 0x7fe0f7bff700 (LWP 136679)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a4270f in lock_guard (__m=..., this=<synthetic pointer>) at /usr/include/c++/4.8.2/mutex:414
#4  Objecter::tick (this=0x7fe0fad71d00) at osdc/Objecter.cc:2017
#5  0x00007fe100a13801 in operator() (this=0x7fe0fac48410) at /usr/include/c++/4.8.2/functional:2471
#6  ceph::timer_detail::timer<ceph::time_detail::mono_clock>::timer_thread (this=0x7fe0fad71f00) at ./common/ceph_timer.h:137
#7  0x00007fe10a756220 in ?? () from /lib64/libstdc++.so.6
#8  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#9  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 692 (Thread 0x7fe0f73fe700 (LWP 136680)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fad71e50, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a4fbbc in lock (this=0x7fe0f73fc550) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0f73fc550) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::ms_handle_reset (this=0x7fe0fad71d00, con=<optimized out>) at osdc/Objecter.cc:4261
#6  0x00007fe100c6fd36 in ms_deliver_handle_reset (con=0x7fe0fac38380, this=0x7fe0fad71600) at ./msg/Messenger.h:657
#7  DispatchQueue::entry (this=0x7fe0fad717d0) at msg/simple/DispatchQueue.cc:173
#8  0x00007fe100c95d1d in DispatchQueue::DispatchThread::entry (this=<optimized out>) at msg/simple/DispatchQueue.h:103
#9  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#10 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 691 (Thread 0x7fe0f6bfd700 (LWP 136681)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100c6fa8f in Wait (mutex=..., this=0x7fe0fad719e8) at ./common/Cond.h:56
#2  DispatchQueue::run_local_delivery (this=0x7fe0fad717d0) at msg/simple/DispatchQueue.cc:114
#3  0x00007fe100c95d3d in DispatchQueue::LocalDeliveryThread::entry (this=<optimized out>) at msg/simple/DispatchQueue.h:117
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 690 (Thread 0x7fe0f63fc700 (LWP 136682)):
#0  0x00007fe10abb5ef7 in pthread_join () from /lib64/libpthread.so.0
#1  0x00007fe100b00f40 in Thread::join (this=0x7fe0fada5048, prval=<optimized out>) at common/Thread.cc:171
#2  0x00007fe100c74525 in Pipe::join (this=0x7fe0fada5000) at msg/simple/Pipe.cc:1285
#3  0x00007fe100c909a8 in SimpleMessenger::reaper (this=this@entry=0x7fe0fad71600) at msg/simple/SimpleMessenger.cc:254
#4  0x00007fe100c910b8 in SimpleMessenger::reaper_entry (this=0x7fe0fad71600) at msg/simple/SimpleMessenger.cc:214
#5  0x00007fe100c9644d in SimpleMessenger::ReaperThread::entry (this=<optimized out>) at msg/simple/SimpleMessenger.h:196
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 689 (Thread 0x7fe0f5bfb700 (LWP 136683)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100adb916 in WaitUntil (when=..., mutex=..., this=0x7fe0facbba18) at common/Cond.h:72
#2  SafeTimer::timer_thread (this=0x7fe0facbba08) at common/Timer.cc:118
#3  0x00007fe100adcc2d in SafeTimerThread::entry (this=<optimized out>) at common/Timer.cc:38
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 688 (Thread 0x7fe0f53fa700 (LWP 136684)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100addad0 in Wait (mutex=..., this=0x7fe0facbbb30) at ./common/Cond.h:56
#2  Finisher::finisher_thread_entry (this=0x7fe0facbbad0) at common/Finisher.cc:96
#3  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#4  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 687 (Thread 0x7fe0f3bff700 (LWP 136689)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100adb68f in Wait (mutex=..., this=0x7fe0facbbed0) at common/Cond.h:56
#2  SafeTimer::timer_thread (this=0x7fe0facbbec0) at common/Timer.cc:116
#3  0x00007fe100adcc2d in SafeTimerThread::entry (this=<optimized out>) at common/Timer.cc:38
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 686 (Thread 0x7fe0f33fe700 (LWP 136690)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100addad0 in Wait (mutex=..., this=0x7fe0facbc010) at ./common/Cond.h:56
#2  Finisher::finisher_thread_entry (this=0x7fe0facbbfb0) at common/Finisher.cc:96
#3  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#4  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 685 (Thread 0x7fe0f2bfd700 (LWP 136691)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bbdc43b in ceph::oplog::Log::entry (this=0x7fe0fac37900) at rgw/op_log.cc:343
#2  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#3  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 684 (Thread 0x7fe0f23fc700 (LWP 136692)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a17b21 in Wait (mutex=..., this=0x7fe0f23fa690) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate (this=0x7fe0f1697200, oid=..., o=<optimized out>, pmtime=<optimized out>, flags=flags@entry=0) at librados/IoCtxImpl.cc:690
#3  0x00007fe1009e4963 in librados::IoCtx::operate (this=this@entry=0x7fe0f23fa7c0, oid="data_log.5", o=o@entry=0x7fe0f23fa7d0) at librados/librados.cc:1418
#4  0x00007fe10baca5c6 in RGWRados::time_log_add (this=<optimized out>, oid="data_log.5", entries=std::list, completion=completion@entry=0x0, monotonic_inc=monotonic_inc@entry=true) at rgw/rgw_rados.cc:4721
#5  0x00007fe10b99a15a in RGWDataChangesLog::renew_entries (this=0x7fe0fac2e600) at rgw/rgw_bucket.cc:1599
#6  0x00007fe10b99a7a0 in RGWDataChangesLog::ChangesRenewThread::entry (this=0x7fe0fac73940) at rgw/rgw_bucket.cc:1897
#7  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#8  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 683 (Thread 0x7fe0f1afa700 (LWP 136699)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe10b46fba4 in je_malloc_mutex_lock (mutex=0x7fe0fb0f5210) at include/jemalloc/internal/mutex.h:77
#4  je_tcache_bin_flush_small (tbin=tbin@entry=0x7fe0ef806068, binind=binind@entry=2, rem=100, tcache=tcache@entry=0x7fe0ef806000) at src/tcache.c:105
#5  0x00007fe10b444638 in je_tcache_dalloc_small (binind=2, ptr=0x7fe0ca85ae20, tcache=0x7fe0ef806000) at include/jemalloc/internal/tcache.h:402
#6  je_arena_dalloc (try_tcache=true, ptr=0x7fe0ca85ae20, chunk=<optimized out>, arena=<optimized out>) at include/jemalloc/internal/arena.h:1044
#7  je_idalloct (try_tcache=true, ptr=0x7fe0ca85ae20) at include/jemalloc/internal/jemalloc_internal.h:898
#8  je_iqalloct (try_tcache=true, ptr=0x7fe0ca85ae20) at include/jemalloc/internal/jemalloc_internal.h:917
#9  je_iqalloc (ptr=0x7fe0ca85ae20) at include/jemalloc/internal/jemalloc_internal.h:924
#10 ifree (ptr=0x7fe0ca85ae20) at src/jemalloc.c:1233
#11 free (ptr=0x7fe0ca85ae20) at src/jemalloc.c:1308
#12 0x00007fe115547eff in deallocate (this=0x7fe0f1af8ab0, __p=0x7fe0ca85ae20) at /usr/include/c++/4.8.2/ext/new_allocator.h:110
#13 _M_put_node (this=0x7fe0f1af8ab0, __p=0x7fe0ca85ae20) at /usr/include/c++/4.8.2/bits/stl_list.h:338
#14 std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear (this=0x7fe0f1af8ab0) at /usr/include/c++/4.8.2/bits/list.tcc:79
#15 0x00007fe100c8b677 in ~_List_base (this=0x7fe0f1af8ab0, __in_chrg=<optimized out>) at /usr/include/c++/4.8.2/bits/stl_list.h:378
#16 ~list (this=0x7fe0f1af8ab0, __in_chrg=<optimized out>) at /usr/include/c++/4.8.2/bits/stl_list.h:438
#17 ~list (this=0x7fe0f1af8ab0, __in_chrg=<optimized out>) at ./include/buffer.h:259
#18 Pipe::writer (this=0x7fe0fad90000) at msg/simple/Pipe.cc:1862
#19 0x00007fe100c8e85d in Pipe::Writer::entry (this=<optimized out>) at msg/simple/Pipe.h:63
#20 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#21 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 682 (Thread 0x7fe0f19f9700 (LWP 136702)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe100abac68 in Mutex::Lock (this=0x7fe0fad91170, no_lockdep=<optimized out>) at common/Mutex.cc:110
#4  0x00007fe100c84fe0 in Pipe::reader (this=0x7fe0fad90000) at msg/simple/Pipe.cc:1596
#5  0x00007fe100c8e83d in Pipe::Reader::entry (this=<optimized out>) at msg/simple/Pipe.h:52
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 681 (Thread 0x7fe0ef1fd700 (LWP 136705)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe10b470c6e in je_malloc_mutex_lock (mutex=0x7fe0fb0f5210) at include/jemalloc/internal/mutex.h:77
#4  je_tcache_bin_flush_small (rem=0, tcache=<optimized out>, binind=2, tbin=0x7fe0ee406068) at src/tcache.c:105
#5  je_tcache_destroy (tcache=0x7fe0ee406000) at src/tcache.c:325
#6  0x00007fe10b471523 in je_tcache_thread_cleanup (arg=<optimized out>) at src/tcache.c:396
#7  0x00007fe10abb4bc2 in __nptl_deallocate_tsd () from /lib64/libpthread.so.0
#8  0x00007fe10abb4dd3 in start_thread () from /lib64/libpthread.so.0
#9  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 680 (Thread 0x7fe0ee3ff700 (LWP 136708)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe10b470c6e in je_malloc_mutex_lock (mutex=0x7fe0fb0f5210) at include/jemalloc/internal/mutex.h:77
#4  je_tcache_bin_flush_small (rem=0, tcache=<optimized out>, binind=2, tbin=0x7fe0edc06068) at src/tcache.c:105
#5  je_tcache_destroy (tcache=0x7fe0edc06000) at src/tcache.c:325
#6  0x00007fe10b471523 in je_tcache_thread_cleanup (arg=<optimized out>) at src/tcache.c:396
#7  0x00007fe10abb4bc2 in __nptl_deallocate_tsd () from /lib64/libpthread.so.0
#8  0x00007fe10abb4dd3 in start_thread () from /lib64/libpthread.so.0
#9  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 679 (Thread 0x7fe0ee1fd700 (LWP 136710)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe10b470c6e in je_malloc_mutex_lock (mutex=0x7fe0fb0f5210) at include/jemalloc/internal/mutex.h:77
#4  je_tcache_bin_flush_small (rem=0, tcache=<optimized out>, binind=2, tbin=0x7fe0ed406068) at src/tcache.c:105
#5  je_tcache_destroy (tcache=0x7fe0ed406000) at src/tcache.c:325
#6  0x00007fe10b471523 in je_tcache_thread_cleanup (arg=<optimized out>) at src/tcache.c:396
#7  0x00007fe10abb4bc2 in __nptl_deallocate_tsd () from /lib64/libpthread.so.0
#8  0x00007fe10abb4dd3 in start_thread () from /lib64/libpthread.so.0
#9  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 678 (Thread 0x7fe0ed3ff700 (LWP 136711)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100c8aedf in Wait (mutex=..., this=0x7fe0f0455248) at ./common/Cond.h:56
#2  Pipe::writer (this=0x7fe0f0454000) at msg/simple/Pipe.cc:1869
#3  0x00007fe100c8e85d in Pipe::Writer::entry (this=<optimized out>) at msg/simple/Pipe.h:63
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 677 (Thread 0x7fe0ed2fe700 (LWP 136714)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe10b46fba4 in je_malloc_mutex_lock (mutex=0x7fe0fb0f5210) at include/jemalloc/internal/mutex.h:77
#4  je_tcache_bin_flush_small (tbin=tbin@entry=0x7fe0ec806068, binind=binind@entry=2, rem=100, tcache=tcache@entry=0x7fe0ec806000) at src/tcache.c:105
#5  0x00007fe10b444638 in je_tcache_dalloc_small (binind=2, ptr=0x7fe0b1c6a1c0, tcache=0x7fe0ec806000) at include/jemalloc/internal/tcache.h:402
#6  je_arena_dalloc (try_tcache=true, ptr=0x7fe0b1c6a1c0, chunk=<optimized out>, arena=<optimized out>) at include/jemalloc/internal/arena.h:1044
#7  je_idalloct (try_tcache=true, ptr=0x7fe0b1c6a1c0) at include/jemalloc/internal/jemalloc_internal.h:898
#8  je_iqalloct (try_tcache=true, ptr=0x7fe0b1c6a1c0) at include/jemalloc/internal/jemalloc_internal.h:917
#9  je_iqalloc (ptr=0x7fe0b1c6a1c0) at include/jemalloc/internal/jemalloc_internal.h:924
#10 ifree (ptr=0x7fe0b1c6a1c0) at src/jemalloc.c:1233
#11 free (ptr=0x7fe0b1c6a1c0) at src/jemalloc.c:1308
#12 0x00007fe115547eff in deallocate (this=0x7fe0ec816548, __p=0x7fe0b1c6a1c0) at /usr/include/c++/4.8.2/ext/new_allocator.h:110
#13 _M_put_node (this=0x7fe0ec816548, __p=0x7fe0b1c6a1c0) at /usr/include/c++/4.8.2/bits/stl_list.h:338
#14 std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear (this=0x7fe0ec816548) at /usr/include/c++/4.8.2/bits/list.tcc:79
#15 0x00007fe100a241d8 in ~_List_base (this=0x7fe0ec816548, __in_chrg=<optimized out>) at /usr/include/c++/4.8.2/bits/stl_list.h:378
#16 ~list (this=0x7fe0ec816548, __in_chrg=<optimized out>) at /usr/include/c++/4.8.2/bits/stl_list.h:438
#17 ~list (this=0x7fe0ec816548, __in_chrg=<optimized out>) at ./include/buffer.h:259
#18 ~OSDOp (this=0x7fe0ec8164c0, __in_chrg=<optimized out>) at ./osd/osd_types.h:4150
#19 _Destroy<OSDOp> (__pointer=0x7fe0ec8164c0) at /usr/include/c++/4.8.2/bits/stl_construct.h:93
#20 __destroy<OSDOp*> (__last=<optimized out>, __first=0x7fe0ec8164c0) at /usr/include/c++/4.8.2/bits/stl_construct.h:103
#21 _Destroy<OSDOp*> (__last=<optimized out>, __first=<optimized out>) at /usr/include/c++/4.8.2/bits/stl_construct.h:126
#22 _Destroy<OSDOp*, OSDOp> (__last=0x7fe0ec8165a0, __first=0x7fe0ec816300) at /usr/include/c++/4.8.2/bits/stl_construct.h:151
#23 std::vector<OSDOp, std::allocator<OSDOp> >::~vector (this=0x7fe0ed2fc6f0, __in_chrg=<optimized out>) at /usr/include/c++/4.8.2/bits/stl_vector.h:415
#24 0x00007fe100a50da9 in Objecter::handle_osd_op_reply (this=this@entry=0x7fe0fad71d00, m=m@entry=0x7fe0ec816900) at osdc/Objecter.cc:3270
#25 0x00007fe100a57d83 in Objecter::ms_dispatch (this=0x7fe0fad71d00, m=0x7fe0ec816900) at osdc/Objecter.cc:938
#26 0x00007fe100c6e5c6 in ms_fast_dispatch (m=0x7fe0ec816900, this=0x7fe0fad71600) at ./msg/Messenger.h:555
#27 DispatchQueue::fast_dispatch (this=0x7fe0fad717d0, m=0x7fe0ec816900) at msg/simple/DispatchQueue.cc:71
#28 0x00007fe100c86274 in Pipe::reader (this=0x7fe0f0454000) at msg/simple/Pipe.cc:1673
#29 0x00007fe100c8e83d in Pipe::Reader::entry (this=<optimized out>) at msg/simple/Pipe.h:52
#30 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#31 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 676 (Thread 0x7fe0ec2fe700 (LWP 136717)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe10b46fba4 in je_malloc_mutex_lock (mutex=0x7fe0fb0f5210) at include/jemalloc/internal/mutex.h:77
#4  je_tcache_bin_flush_small (tbin=tbin@entry=0x7fe0eb806068, binind=binind@entry=2, rem=100, tcache=tcache@entry=0x7fe0eb806000) at src/tcache.c:105
#5  0x00007fe10b444638 in je_tcache_dalloc_small (binind=2, ptr=0x7fdf7bb9e7c0, tcache=0x7fe0eb806000) at include/jemalloc/internal/tcache.h:402
#6  je_arena_dalloc (try_tcache=true, ptr=0x7fdf7bb9e7c0, chunk=<optimized out>, arena=<optimized out>) at include/jemalloc/internal/arena.h:1044
#7  je_idalloct (try_tcache=true, ptr=0x7fdf7bb9e7c0) at include/jemalloc/internal/jemalloc_internal.h:898
#8  je_iqalloct (try_tcache=true, ptr=0x7fdf7bb9e7c0) at include/jemalloc/internal/jemalloc_internal.h:917
#9  je_iqalloc (ptr=0x7fdf7bb9e7c0) at include/jemalloc/internal/jemalloc_internal.h:924
#10 ifree (ptr=0x7fdf7bb9e7c0) at src/jemalloc.c:1233
#11 free (ptr=0x7fdf7bb9e7c0) at src/jemalloc.c:1308
#12 0x00007fe100c8b376 in deallocate (this=<optimized out>, __p=0x7fdf7bb9e7c0) at /usr/include/c++/4.8.2/ext/new_allocator.h:110
#13 _M_put_node (this=<optimized out>, __p=0x7fdf7bb9e7c0) at /usr/include/c++/4.8.2/bits/stl_list.h:338
#14 _M_erase (this=<optimized out>, __position=...) at /usr/include/c++/4.8.2/bits/stl_list.h:1577
#15 pop_front (this=<optimized out>) at /usr/include/c++/4.8.2/bits/stl_list.h:1002
#16 _get_next_outgoing (this=0x7fe0ebc40000) at msg/simple/Pipe.h:320
#17 Pipe::writer (this=0x7fe0ebc40000) at msg/simple/Pipe.cc:1802
#18 0x00007fe100c8e85d in Pipe::Writer::entry (this=<optimized out>) at msg/simple/Pipe.h:63
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 675 (Thread 0x7fe0ec1fd700 (LWP 136718)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe100abac68 in Mutex::Lock (this=0x7fe0ebc41170, no_lockdep=<optimized out>) at common/Mutex.cc:110
#4  0x00007fe100c84ada in Pipe::reader (this=0x7fe0ebc40000) at msg/simple/Pipe.cc:1546
#5  0x00007fe100c8e83d in Pipe::Reader::entry (this=<optimized out>) at msg/simple/Pipe.h:52
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 674 (Thread 0x7fe0eb2fe700 (LWP 136722)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe10b47083f in je_malloc_mutex_lock (mutex=<optimized out>) at include/jemalloc/internal/mutex.h:77
#4  je_tcache_stats_merge (arena=0x7fe0fb0f4fc0, tcache=0x7fe0ea806000) at src/tcache.c:414
#5  je_tcache_arena_dissociate (tcache=0x7fe0ea806000) at src/tcache.c:263
#6  0x00007fe10b470bef in je_tcache_destroy (tcache=0x7fe0ea806000) at src/tcache.c:321
#7  0x00007fe10b471523 in je_tcache_thread_cleanup (arg=<optimized out>) at src/tcache.c:396
#8  0x00007fe10abb4bc2 in __nptl_deallocate_tsd () from /lib64/libpthread.so.0
#9  0x00007fe10abb4dd3 in start_thread () from /lib64/libpthread.so.0
#10 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 673 (Thread 0x7fe0eb1fd700 (LWP 136723)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe10b46fba4 in je_malloc_mutex_lock (mutex=0x7fe0fb0f5210) at include/jemalloc/internal/mutex.h:77
#4  je_tcache_bin_flush_small (tbin=tbin@entry=0x7fe0ea406068, binind=binind@entry=2, rem=100, tcache=tcache@entry=0x7fe0ea406000) at src/tcache.c:105
#5  0x00007fe10b444638 in je_tcache_dalloc_small (binind=2, ptr=0x7fe0f047fa60, tcache=0x7fe0ea406000) at include/jemalloc/internal/tcache.h:402
#6  je_arena_dalloc (try_tcache=true, ptr=0x7fe0f047fa60, chunk=<optimized out>, arena=<optimized out>) at include/jemalloc/internal/arena.h:1044
#7  je_idalloct (try_tcache=true, ptr=0x7fe0f047fa60) at include/jemalloc/internal/jemalloc_internal.h:898
#8  je_iqalloct (try_tcache=true, ptr=0x7fe0f047fa60) at include/jemalloc/internal/jemalloc_internal.h:917
#9  je_iqalloc (ptr=0x7fe0f047fa60) at include/jemalloc/internal/jemalloc_internal.h:924
#10 ifree (ptr=0x7fe0f047fa60) at src/jemalloc.c:1233
#11 free (ptr=0x7fe0f047fa60) at src/jemalloc.c:1308
#12 0x00007fe115547eff in deallocate (this=0x7fe0eb1fbab0, __p=0x7fe0f047fa60) at /usr/include/c++/4.8.2/ext/new_allocator.h:110
#13 _M_put_node (this=0x7fe0eb1fbab0, __p=0x7fe0f047fa60) at /usr/include/c++/4.8.2/bits/stl_list.h:338
#14 std::_List_base<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::_M_clear (this=0x7fe0eb1fbab0) at /usr/include/c++/4.8.2/bits/list.tcc:79
#15 0x00007fe100c8b677 in ~_List_base (this=0x7fe0eb1fbab0, __in_chrg=<optimized out>) at /usr/include/c++/4.8.2/bits/stl_list.h:378
#16 ~list (this=0x7fe0eb1fbab0, __in_chrg=<optimized out>) at /usr/include/c++/4.8.2/bits/stl_list.h:438
#17 ~list (this=0x7fe0eb1fbab0, __in_chrg=<optimized out>) at ./include/buffer.h:259
#18 Pipe::writer (this=0x7fe0edc46000) at msg/simple/Pipe.cc:1862
#19 0x00007fe100c8e85d in Pipe::Writer::entry (this=<optimized out>) at msg/simple/Pipe.h:63
#20 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#21 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 672 (Thread 0x7fe0ea3ff700 (LWP 136724)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe100abac68 in Mutex::Lock (this=0x7fe0edc47170, no_lockdep=<optimized out>) at common/Mutex.cc:110
#4  0x00007fe100c851c9 in Pipe::reader (this=0x7fe0edc46000) at msg/simple/Pipe.cc:1611
#5  0x00007fe100c8e83d in Pipe::Reader::entry (this=<optimized out>) at msg/simple/Pipe.h:52
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 671 (Thread 0x7fe0e9bff700 (LWP 136725)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bcdc8b0 in Wait (mutex=..., this=0x7fe0fac386e0) at ./common/Cond.h:56
#2  Finisher::finisher_thread_entry (this=0x7fe0fac38680) at common/Finisher.cc:96
#3  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#4  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 670 (Thread 0x7fe0e93fe700 (LWP 136726)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fad71df8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a4357b in lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  lock_shared (this=0x7fe0e93fc400) at ./common/shunique_lock.h:163
#4  shunique_lock (m=..., this=0x7fe0e93fc400) at ./common/shunique_lock.h:70
#5  Objecter::op_submit (this=0x7fe0fad71d00, op=op@entry=0x7fe0e7c35100, ptid=ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2134
#6  0x00007fe100a17a81 in librados::IoCtxImpl::operate (this=0x7fe0fac2f400, oid=..., o=0x7fe0e7c12080, pmtime=<optimized out>, flags=flags@entry=0) at librados/IoCtxImpl.cc:686
#7  0x00007fe1009e4963 in librados::IoCtx::operate (this=this@entry=0x7fe0fad50f78, oid="gc.18", o=o@entry=0x7fe0e93fc730) at librados/librados.cc:1418
#8  0x00007fe10bc0faf5 in rados::cls::lock::lock (ioctx=ioctx@entry=0x7fe0fad50f78, oid="gc.18", name="gc_process", type=type@entry=LOCK_EXCLUSIVE, cookie="", tag="", description="", duration=..., flags=0 '\000') at cls/lock/cls_lock_client.cc:63
#9  0x00007fe10bc0fbcb in rados::cls::lock::Lock::lock_exclusive (this=this@entry=0x7fe0e93fc8c0, ioctx=ioctx@entry=0x7fe0fad50f78, oid=...) at cls/lock/cls_lock_client.cc:239
#10 0x00007fe10b9c78aa in RGWGC::process (this=this@entry=0x7fe0fada1b50, index=18, max_secs=max_secs@entry=3600) at rgw/rgw_gc.cc:148
#11 0x00007fe10b9c8461 in RGWGC::process (this=0x7fe0fada1b50) at rgw/rgw_gc.cc:246
#12 0x00007fe10b9c8646 in RGWGC::GCWorker::entry (this=0x7fe0fadb1320) at rgw/rgw_gc.cc:280
#13 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#14 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 669 (Thread 0x7fe0e8bfd700 (LWP 136727)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fad71df8, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a4357b in lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  lock_shared (this=0x7fe0e8bfb340) at ./common/shunique_lock.h:163
#4  shunique_lock (m=..., this=0x7fe0e8bfb340) at ./common/shunique_lock.h:70
#5  Objecter::op_submit (this=0x7fe0fad71d00, op=op@entry=0x7fe0e7b31280, ptid=ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2134
#6  0x00007fe100a17a81 in librados::IoCtxImpl::operate (this=0x7fe0fac2d400, oid=..., o=0x7fe0e7814080, pmtime=<optimized out>, flags=flags@entry=0) at librados/IoCtxImpl.cc:686
#7  0x00007fe1009e4963 in librados::IoCtx::operate (this=this@entry=0x7fe0fad50f80, oid="obj_delete_at_hint.0000000000", o=o@entry=0x7fe0e8bfb670) at librados/librados.cc:1418
#8  0x00007fe10bc0faf5 in rados::cls::lock::lock (ioctx=0x7fe0fad50f80, oid="obj_delete_at_hint.0000000000", name="gc_process", type=type@entry=LOCK_EXCLUSIVE, cookie="", tag="", description="", duration=..., flags=0 '\000') at cls/lock/cls_lock_client.cc:63
#9  0x00007fe10bc0fbcb in rados::cls::lock::Lock::lock_exclusive (this=this@entry=0x7fe0e8bfb7d0, ioctx=<optimized out>, oid="obj_delete_at_hint.0000000000") at cls/lock/cls_lock_client.cc:239
#10 0x00007fe10ba4ca2a in RGWObjectExpirer::process_single_shard (this=this@entry=0x7fe0fad4df00, shard="obj_delete_at_hint.0000000000", last_run=..., round_start=...) at rgw/rgw_object_expirer_core.cc:168
#11 0x00007fe10ba4d002 in RGWObjectExpirer::inspect_all_shards (this=0x7fe0fad4df00, last_run=..., round_start=...) at rgw/rgw_object_expirer_core.cc:222
#12 0x00007fe10ba4d274 in RGWObjectExpirer::OEWorker::entry (this=0x7fe0fadb1400) at rgw/rgw_object_expirer_core.cc:257
#13 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#14 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 668 (Thread 0x7fe0e77ff700 (LWP 136728)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0e77fcba0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55ce0a00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe0e77fcdd0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0e77fcd50, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0e77fcd30, pbl=pbl@entry=0x7fe0e77fcdd0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0d68b7118, pmtime=0x7fe0d68b7120, epoch=0x7fe0d68b7128, attrs=0x7fe0d68b7558, first_chunk=0x0, objv_tracker=0x7fdf54d77630) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0e77fd7d0, obj=..., state=state@entry=0x7fe0e77fd098, objv_tracker=objv_tracker@entry=0x7fdf54d77630) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0e77fd7d0, obj=..., state=state@entry=0x7fe0e77fd098, objv_tracker=objv_tracker@entry=0x7fdf54d77630) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdf54d77630) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0e77fd2a0, objv_tracker=objv_tracker@entry=0x7fdf54d77630) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdf54d77630, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10b97e954 in RGWAsyncGetBucketInstanceInfo::_send_request (this=0x7fdf7acae2c0) at rgw/rgw_cr_rados.cc:478
#13 0x00007fe10b97cc32 in send_request (this=0x7fdf7acae2c0) at rgw/rgw_cr_rados.h:31
#14 RGWAsyncRadosProcessor::handle_request (this=<optimized out>, req=0x7fdf7acae2c0) at rgw/rgw_cr_rados.cc:76
#15 0x00007fe10b97ccfd in RGWAsyncRadosProcessor::RGWWQ::_process (this=0x7fe0fad9f390, req=<optimized out>, handle=...) at rgw/rgw_cr_rados.cc:36
#16 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fada1d90) at common/WorkQueue.cc:128
#17 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#18 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#19 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 667 (Thread 0x7fe0e6ffe700 (LWP 136729)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fada1f40) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 666 (Thread 0x7fe0e67fd700 (LWP 136730)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fada1fa0) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 665 (Thread 0x7fe0e5ffc700 (LWP 136731)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf040) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 664 (Thread 0x7fe0e57fb700 (LWP 136732)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf0a0) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 663 (Thread 0x7fe0e4ffa700 (LWP 136733)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0e4ff7ba0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55e59c00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe0e4ff7dd0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0e4ff7d50, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0e4ff7d30, pbl=pbl@entry=0x7fe0e4ff7dd0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0d1600518, pmtime=0x7fe0d1600520, epoch=0x7fe0d1600528, attrs=0x7fe0d1600958, first_chunk=0x0, objv_tracker=0x7fdf54d83630) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0e4ff87d0, obj=..., state=state@entry=0x7fe0e4ff8098, objv_tracker=objv_tracker@entry=0x7fdf54d83630) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0e4ff87d0, obj=..., state=state@entry=0x7fe0e4ff8098, objv_tracker=objv_tracker@entry=0x7fdf54d83630) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdf54d83630) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0e4ff82a0, objv_tracker=objv_tracker@entry=0x7fdf54d83630) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdf54d83630, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10b97e954 in RGWAsyncGetBucketInstanceInfo::_send_request (this=0x7fdf54e9ce20) at rgw/rgw_cr_rados.cc:478
#13 0x00007fe10b97cc32 in send_request (this=0x7fdf54e9ce20) at rgw/rgw_cr_rados.h:31
#14 RGWAsyncRadosProcessor::handle_request (this=<optimized out>, req=0x7fdf54e9ce20) at rgw/rgw_cr_rados.cc:76
#15 0x00007fe10b97ccfd in RGWAsyncRadosProcessor::RGWWQ::_process (this=0x7fe0fad9f390, req=<optimized out>, handle=...) at rgw/rgw_cr_rados.cc:36
#16 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf100) at common/WorkQueue.cc:128
#17 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#18 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#19 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 662 (Thread 0x7fe0e47f9700 (LWP 136734)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf160) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 661 (Thread 0x7fe0e3ff8700 (LWP 136735)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf1c0) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 660 (Thread 0x7fe0e37f7700 (LWP 136736)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf220) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 659 (Thread 0x7fe0e2ff6700 (LWP 136737)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf280) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 658 (Thread 0x7fe0e27f5700 (LWP 136738)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf2e0) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 657 (Thread 0x7fe0e1ff4700 (LWP 136739)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf340) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 656 (Thread 0x7fe0e17f3700 (LWP 136740)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf3a0) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 655 (Thread 0x7fe0e0ff2700 (LWP 136741)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf400) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 654 (Thread 0x7fe0e07f1700 (LWP 136742)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf460) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 653 (Thread 0x7fe0dfff0700 (LWP 136743)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf4c0) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 652 (Thread 0x7fe0df7ef700 (LWP 136744)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf520) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 651 (Thread 0x7fe0defee700 (LWP 136745)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf580) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 650 (Thread 0x7fe0de7ed700 (LWP 136746)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0de7eaea0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55e1ec00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe0de7eb2a8, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0de7eb030, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe0de7eb2a0, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdf54d89630) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdf54d89630, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#9  0x00007fe10b97e954 in RGWAsyncGetBucketInstanceInfo::_send_request (this=0x7fdf7adbc0c0) at rgw/rgw_cr_rados.cc:478
#10 0x00007fe10b97cc32 in send_request (this=0x7fdf7adbc0c0) at rgw/rgw_cr_rados.h:31
#11 RGWAsyncRadosProcessor::handle_request (this=<optimized out>, req=0x7fdf7adbc0c0) at rgw/rgw_cr_rados.cc:76
#12 0x00007fe10b97ccfd in RGWAsyncRadosProcessor::RGWWQ::_process (this=0x7fe0fad9f390, req=<optimized out>, handle=...) at rgw/rgw_cr_rados.cc:36
#13 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf5e0) at common/WorkQueue.cc:128
#14 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#15 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#16 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 649 (Thread 0x7fe0ddfec700 (LWP 136747)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf640) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 648 (Thread 0x7fe0dd7eb700 (LWP 136748)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf6a0) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 647 (Thread 0x7fe0dcfea700 (LWP 136749)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0dcfe7ea0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55e10c00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe0dcfe82a8, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0dcfe8030, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe0dcfe82a0, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdf54d74e30) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdf54d74e30, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#9  0x00007fe10b97e954 in RGWAsyncGetBucketInstanceInfo::_send_request (this=0x7fdf7adbc600) at rgw/rgw_cr_rados.cc:478
#10 0x00007fe10b97cc32 in send_request (this=0x7fdf7adbc600) at rgw/rgw_cr_rados.h:31
#11 RGWAsyncRadosProcessor::handle_request (this=<optimized out>, req=0x7fdf7adbc600) at rgw/rgw_cr_rados.cc:76
#12 0x00007fe10b97ccfd in RGWAsyncRadosProcessor::RGWWQ::_process (this=0x7fe0fad9f390, req=<optimized out>, handle=...) at rgw/rgw_cr_rados.cc:36
#13 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf700) at common/WorkQueue.cc:128
#14 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#15 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#16 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 646 (Thread 0x7fe0dc7e9700 (LWP 136750)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf760) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 645 (Thread 0x7fe0dbfe8700 (LWP 136751)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf7c0) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 644 (Thread 0x7fe0db7e7700 (LWP 136752)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf820) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 643 (Thread 0x7fe0dafe6700 (LWP 136753)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf880) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 642 (Thread 0x7fe0da7e5700 (LWP 136754)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf8e0) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 641 (Thread 0x7fe0d9fe4700 (LWP 136755)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf940) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 640 (Thread 0x7fe0d97e3700 (LWP 136756)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbf9a0) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 639 (Thread 0x7fe0d8fe2700 (LWP 136757)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbfa00) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 638 (Thread 0x7fe0d87e1700 (LWP 136758)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bdf171a in WaitUntil (when=..., mutex=..., this=0x7fe0fad9f1e0) at common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fad9f1e0) at common/Cond.h:81
#3  ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbfa60) at common/WorkQueue.cc:151
#4  0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#5  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#6  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 637 (Thread 0x7fe0d7fe0700 (LWP 136759)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0d7fddba0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d7dc00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe0d7fdddd0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0d7fddd50, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0d7fddd30, pbl=pbl@entry=0x7fe0d7fdddd0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ac0af318, pmtime=0x7fe0ac0af320, epoch=0x7fe0ac0af328, attrs=0x7fe0ac0af758, first_chunk=0x0, objv_tracker=0x7fdf54d7ee30) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0d7fde7d0, obj=..., state=state@entry=0x7fe0d7fde098, objv_tracker=objv_tracker@entry=0x7fdf54d7ee30) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0d7fde7d0, obj=..., state=state@entry=0x7fe0d7fde098, objv_tracker=objv_tracker@entry=0x7fdf54d7ee30) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdf54d7ee30) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0d7fde2a0, objv_tracker=objv_tracker@entry=0x7fdf54d7ee30) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdf54d7ee30, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10b97e954 in RGWAsyncGetBucketInstanceInfo::_send_request (this=0x7fdf74dfe2c0) at rgw/rgw_cr_rados.cc:478
#13 0x00007fe10b97cc32 in send_request (this=0x7fdf74dfe2c0) at rgw/rgw_cr_rados.h:31
#14 RGWAsyncRadosProcessor::handle_request (this=<optimized out>, req=0x7fdf74dfe2c0) at rgw/rgw_cr_rados.cc:76
#15 0x00007fe10b97ccfd in RGWAsyncRadosProcessor::RGWWQ::_process (this=0x7fe0fad9f390, req=<optimized out>, handle=...) at rgw/rgw_cr_rados.cc:36
#16 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fad9f160, wt=0x7fe0fadbfac0) at common/WorkQueue.cc:128
#17 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#18 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#19 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 636 (Thread 0x7fe0d77df700 (LWP 136760)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bde9f0f in Wait (mutex=..., this=0x7fe0fac2eb08) at common/Cond.h:56
#2  SafeTimer::timer_thread (this=0x7fe0fac2eaf8) at common/Timer.cc:116
#3  0x00007fe10bdeb4ad in SafeTimerThread::entry (this=<optimized out>) at common/Timer.cc:38
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 635 (Thread 0x7fe0d67ff700 (LWP 136761)):
#0  0x00007fe10a1b5bcd in poll () from /lib64/libc.so.6
#1  0x00007fe10b2102b9 in Curl_poll () from /lib64/libcurl.so.4
#2  0x00007fe10b2091fd in curl_multi_wait () from /lib64/libcurl.so.4
#3  0x00007fe10b9c9c88 in do_curl_wait (cct=0x7fe0fac41140, handle=<optimized out>, signal_fd=21) at rgw/rgw_http_client.cc:452
#4  0x00007fe10b9cce1c in RGWHTTPManager::reqs_thread_entry (this=0x7fe0fadc2200) at rgw/rgw_http_client.cc:919
#5  0x00007fe10b9cd4ed in RGWHTTPManager::ReqsThread::entry (this=<optimized out>) at rgw/rgw_http_client.cc:526
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 634 (Thread 0x7fe0d57ff700 (LWP 136762)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10ba8b235 in WaitUntil (when=..., mutex=..., this=0x7fe0fadb1c70) at ./common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fadb1c70) at ./common/Cond.h:81
#3  RGWRadosThread::Worker::entry (this=0x7fe0fadb1be0) at rgw/rgw_rados.cc:2882
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 633 (Thread 0x7fe0d43ff700 (LWP 136763)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bde9f0f in Wait (mutex=..., this=0x7fe0fac2f308) at common/Cond.h:56
#2  SafeTimer::timer_thread (this=0x7fe0fac2f2f8) at common/Timer.cc:116
#3  0x00007fe10bdeb4ad in SafeTimerThread::entry (this=<optimized out>) at common/Timer.cc:38
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 632 (Thread 0x7fe0d33ff700 (LWP 136764)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10ba8b2e0 in Wait (mutex=..., this=0x7fe0fadb1e30) at ./common/Cond.h:56
#2  RGWRadosThread::Worker::entry (this=0x7fe0fadb1da0) at rgw/rgw_rados.cc:2886
#3  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#4  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 631 (Thread 0x7fe0d23ff700 (LWP 136765)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bde9f0f in Wait (mutex=..., this=0x7fe0fac2ef08) at common/Cond.h:56
#2  SafeTimer::timer_thread (this=0x7fe0fac2eef8) at common/Timer.cc:116
#3  0x00007fe10bdeb4ad in SafeTimerThread::entry (this=<optimized out>) at common/Timer.cc:38
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 630 (Thread 0x7fe0d13ff700 (LWP 136766)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe100abac68 in Mutex::Lock (this=0x7fe0edc47170, no_lockdep=<optimized out>) at common/Mutex.cc:110
#4  0x00007fe100c92d8c in SimpleMessenger::submit_message (this=this@entry=0x7fe0fad71600, m=m@entry=0x7fe0ca898b00, con=con@entry=0x7fe0edc28300, dest_addr=..., dest_type=4, already_locked=already_locked@entry=false) at msg/simple/SimpleMessenger.cc:458
#5  0x00007fe100c93d95 in SimpleMessenger::_send_message (this=0x7fe0fad71600, m=0x7fe0ca898b00, con=0x7fe0edc28300) at msg/simple/SimpleMessenger.cc:142
#6  0x00007fe100a3b532 in Objecter::_send_op (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf54d58700, m=m@entry=0x7fe0ca898b00) at osdc/Objecter.cc:3080
#7  0x00007fe100a40250 in Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf54d58700, sul=..., ptid=ptid@entry=0x7fdf7ad0b130) at osdc/Objecter.cc:2340
#8  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf54d58700, sul=..., ptid=ptid@entry=0x7fdf7ad0b130, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#9  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=op@entry=0x7fdf54d58700, ptid=ptid@entry=0x7fdf7ad0b130, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#10 0x00007fe100a1895b in librados::IoCtxImpl::aio_operate (this=0x7fdf74f74400, oid=..., o=0x7fe0f3cd0600, c=0x7fdf7ad0b080, snap_context=..., flags=flags@entry=0) at librados/IoCtxImpl.cc:771
#11 0x00007fe1009e4a6b in librados::IoCtx::aio_operate (this=this@entry=0x7fdf54b19178, oid="datalog.sync-status.shard.12fa8662-456d-41b4-b32a-2b7b86f3cd6f.80.retry", c=0x7fdf74f380f0, o=o@entry=0x7fe0d13fd300) at librados/librados.cc:1432
#12 0x00007fe10b97bf9d in RGWRadosRemoveOmapKeysCR::send_request (this=0x7fdf54b18c00) at rgw/rgw_cr_rados.cc:321
#13 0x00007fe10b9757de in RGWSimpleCoroutine::state_send_request (this=this@entry=0x7fdf54b18c00) at rgw/rgw_coroutine.cc:862
#14 0x00007fe10b977c8c in RGWSimpleCoroutine::operate (this=0x7fdf54b18c00) at rgw/rgw_coroutine.cc:840
#15 0x00007fe10b975abb in RGWCoroutinesStack::operate (this=0x7fe0cf7ce660, _env=_env@entry=0x7fe0d13fd650) at rgw/rgw_coroutine.cc:184
#16 0x00007fe10b9783bc in RGWCoroutinesManager::run (this=this@entry=0x7fe0ebc2f660, stacks=std::list) at rgw/rgw_coroutine.cc:481
#17 0x00007fe10b978f3d in RGWCoroutinesManager::run (this=this@entry=0x7fe0ebc2f660, op=0x7fe0cf52e400) at rgw/rgw_coroutine.cc:607
#18 0x00007fe10ba21662 in RGWRemoteDataLog::run_sync (this=this@entry=0x7fe0ebc2f660, num_shards=128, sync_status=...) at rgw/rgw_data_sync.cc:1616
#19 0x00007fe10bae9612 in run (this=0x7fe0ebc2f628) at rgw/rgw_data_sync.h:294
#20 RGWDataSyncProcessorThread::process (this=0x7fe0ebc2f600) at rgw/rgw_rados.cc:3051
#21 0x00007fe10ba8b0d4 in RGWRadosThread::Worker::entry (this=0x7fe0fadb2040) at rgw/rgw_rados.cc:2857
#22 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#23 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 629 (Thread 0x7fe0d03ff700 (LWP 136767)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bde9f0f in Wait (mutex=..., this=0x7fe0fac2fd08) at common/Cond.h:56
#2  SafeTimer::timer_thread (this=0x7fe0fac2fcf8) at common/Timer.cc:116
#3  0x00007fe10bdeb4ad in SafeTimerThread::entry (this=<optimized out>) at common/Timer.cc:38
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 628 (Thread 0x7fe0cebff700 (LWP 136768)):
#0  0x00007fe10a1b5bcd in poll () from /lib64/libc.so.6
#1  0x00007fe10b2102b9 in Curl_poll () from /lib64/libcurl.so.4
#2  0x00007fe10b2091fd in curl_multi_wait () from /lib64/libcurl.so.4
#3  0x00007fe10b9c9c88 in do_curl_wait (cct=0x7fe0fac41140, handle=<optimized out>, signal_fd=23) at rgw/rgw_http_client.cc:452
#4  0x00007fe10b9cce1c in RGWHTTPManager::reqs_thread_entry (this=0x7fe0fadc2480) at rgw/rgw_http_client.cc:919
#5  0x00007fe10b9cd4ed in RGWHTTPManager::ReqsThread::entry (this=<optimized out>) at rgw/rgw_http_client.cc:526
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 627 (Thread 0x7fe0ccbff700 (LWP 136769)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10ba8b235 in WaitUntil (when=..., mutex=..., this=0x7fe0fadb2290) at ./common/Cond.h:72
#2  WaitInterval (interval=..., mutex=..., cct=<optimized out>, this=0x7fe0fadb2290) at ./common/Cond.h:81
#3  RGWRadosThread::Worker::entry (this=0x7fe0fadb2200) at rgw/rgw_rados.cc:2882
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 626 (Thread 0x7fe0cdbff700 (LWP 136770)):
#0  0x00007fe10a1b5bcd in poll () from /lib64/libc.so.6
#1  0x00007fe10b2102b9 in Curl_poll () from /lib64/libcurl.so.4
#2  0x00007fe10b2091fd in curl_multi_wait () from /lib64/libcurl.so.4
#3  0x00007fe10b9c9c88 in do_curl_wait (cct=0x7fe0fac41140, handle=<optimized out>, signal_fd=25) at rgw/rgw_http_client.cc:452
#4  0x00007fe10b9cce1c in RGWHTTPManager::reqs_thread_entry (this=0x7fe0ebc2f740) at rgw/rgw_http_client.cc:919
#5  0x00007fe10b9cd4ed in RGWHTTPManager::ReqsThread::entry (this=<optimized out>) at rgw/rgw_http_client.cc:526
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 625 (Thread 0x7fe0cbbff700 (LWP 136771)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0cbbfcc60) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0cbbfcc60) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fdf7c1f4458 "FUTIAN_MASTER.rgw.buckets.index") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fdf7c1f4458 "FUTIAN_MASTER.rgw.buckets.index", io=io@entry=0x7fe0cbbfce38) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0cbbfce68) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.buckets.index", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baafa7d in RGWRados::open_bucket_index_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., index_ctx=...) at rgw/rgw_rados.cc:4317
#13 0x00007fe10bab0559 in RGWRados::open_bucket_index_base (this=this@entry=0x7fe0fad50c00, bucket=..., index_ctx=..., bucket_oid_base="") at rgw/rgw_rados.cc:7788
#14 0x00007fe10bab0705 in RGWRados::open_bucket_index (this=this@entry=0x7fe0fad50c00, bucket=..., index_ctx=..., bucket_objs=std::map with 0 elements, shard_id=shard_id@entry=-1, bucket_instance_ids=bucket_instance_ids@entry=0x0) at rgw/rgw_rados.cc:7807
#15 0x00007fe10bb041b7 in RGWRados::open_bucket_index<rgw_cls_list_ret> (this=this@entry=0x7fe0fad50c00, bucket=..., index_ctx=..., oids=std::map with 0 elements, bucket_objs=std::map with 0 elements, shard_id=shard_id@entry=-1, bucket_instance_ids=bucket_instance_ids@entry=0x0) at rgw/rgw_rados.cc:7831
#16 0x00007fe10bad65a0 in RGWRados::cls_bucket_head (this=this@entry=0x7fe0fad50c00, bucket=..., shard_id=shard_id@entry=-1, headers=std::map with 0 elements, bucket_instance_ids=bucket_instance_ids@entry=0x0) at rgw/rgw_rados.cc:12140
#17 0x00007fe10bad7654 in RGWRados::cls_user_sync_bucket_stats (this=this@entry=0x7fe0fad50c00, user_obj=..., bucket=...) at rgw/rgw_rados.cc:12225
#18 0x00007fe10b98a928 in rgw_bucket_sync_user_stats (store=0x7fe0fad50c00, user_id=..., bucket=...) at rgw/rgw_bucket.cc:161
#19 0x00007fe10ba82b53 in RGWUserStatsCache::sync_bucket (this=0x7fe0fadc26d0, user=..., bucket=...) at rgw/rgw_quota.cc:568
#20 0x00007fe10ba874cf in RGWUserStatsCache::BucketsSyncThread::entry (this=0x7fe0fadb22e0) at rgw/rgw_quota.cc:410
#21 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#22 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 624 (Thread 0x7fe0ca7ff700 (LWP 136772)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0ca7fd440) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0ca7fd440) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4ba98 "FUTIAN_MASTER.rgw.users.uid") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4ba98 "FUTIAN_MASTER.rgw.users.uid", io=io@entry=0x7fe0ca7fd618) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0ca7fd648) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.uid", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baa89be in RGWRados::pool_iterate_begin (this=this@entry=0x7fe0fad50c00, bucket=..., ctx=...) at rgw/rgw_rados.cc:11363
#14 0x00007fe10baa8a67 in RGWRados::list_raw_objects (this=0x7fe0fad50c00, pool=..., prefix_filter="", max=max@entry=1000, ctx=..., oids=empty std::list, is_truncated=is_truncated@entry=0x7fe0ca7fd96c) at rgw/rgw_rados.cc:11418
#15 0x00007fe10bb9e218 in RGWUserMetadataHandler::list_keys_next (this=<optimized out>, handle=0x7fe0c980e060, max=1000, keys=empty std::list, truncated=0x7fe0ca7fd96c) at rgw/rgw_user.cc:2720
#16 0x00007fe10ba82d9c in RGWUserStatsCache::sync_all_users (this=0x7fe0fadc26d0) at rgw/rgw_quota.cc:624
#17 0x00007fe10ba86007 in RGWUserStatsCache::UserSyncThread::entry (this=0x7fe0fadb23c0) at rgw/rgw_quota.cc:454
#18 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#19 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 623 (Thread 0x7fe0fa1ec700 (LWP 136773)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0fa1ea260) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0fa1ea260) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cf010b00, sul=..., ptid=ptid@entry=0x7fe0fa1ea488) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cf010b00, sul=..., ptid=ptid@entry=0x7fe0fa1ea488, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=op@entry=0x7fe0cf010b00, ptid=0x7fe0fa1ea488, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a17a81 in librados::IoCtxImpl::operate (this=0x7fe0cf192000, oid=..., o=0x7fe0cf0d5200, pmtime=<optimized out>, flags=flags@entry=0) at librados/IoCtxImpl.cc:686
#9  0x00007fe1009e4963 in librados::IoCtx::operate (this=this@entry=0x7fe0fa1ea7b0, oid="usage.17", o=o@entry=0x7fe0fa1ea7c0) at librados/librados.cc:1418
#10 0x00007fe10bacb174 in RGWRados::cls_obj_usage_log_add (this=this@entry=0x7fe0fad50c00, oid="usage.17", info=...) at rgw/rgw_rados.cc:11955
#11 0x00007fe10bae340e in RGWRados::log_usage (this=0x7fe0fad50c00, usage_info=std::map with 2 elements) at rgw/rgw_rados.cc:4554
#12 0x00007fe10b9eb128 in flush (this=0x7fe0fac2fe00) at rgw/rgw_log.cc:166
#13 UsageLogger::C_UsageLogTimeout::finish (this=0x7fe0cf037080, r=<optimized out>) at rgw/rgw_log.cc:102
#14 0x00007fe115555bc9 in Context::complete (this=0x7fe0cf037080, r=<optimized out>) at ./include/Context.h:64
#15 0x00007fe10bde9b0c in SafeTimer::timer_thread (this=0x7fe0fac2fef8) at common/Timer.cc:105
#16 0x00007fe10bdeb4ad in SafeTimerThread::entry (this=<optimized out>) at common/Timer.cc:38
#17 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#18 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 622 (Thread 0x7fe0c93ff700 (LWP 136774)):
#0  0x00007fe10a1b5bcd in poll () from /lib64/libc.so.6
#1  0x00007fe10bc1f511 in poll (__timeout=-1, __nfds=5, __fds=0x7fe0c93fdb20) at /usr/include/bits/poll2.h:41
#2  SignalHandler::entry (this=0x7fe0fac6e5c0) at global/signal_handler.cc:241
#3  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#4  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 621 (Thread 0x7fe0c83ff700 (LWP 136775)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe115543787 in Wait (mutex=..., this=0x7fe0c70968c8) at ./common/Cond.h:56
#2  dequeue (entry=0x7fdf7a5839b0, this=0x7fe0c7096870) at ./common/QueueRing.h:35
#3  dequeue (entry=0x7fdf7a5839b0, this=0x7fe0c83fdac0) at ./common/QueueRing.h:57
#4  RGWFCGXRequest (_qr=0x7fe0c83fdac0, req_id=<optimized out>, this=0x7fdf7a583980) at rgw/rgw_request.h:43
#5  RGWFCGXProcess::run (this=0x7fe0fadcfe00) at rgw/rgw_fcgi_process.cc:91
#6  0x00007fe115555e6e in RGWProcessControlThread::entry (this=<optimized out>) at rgw/rgw_process.h:150
#7  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#8  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 620 (Thread 0x7fe0c6bff700 (LWP 136776)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0c6bfb6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0c6bfb6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0c6bfb898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0c6bfb8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0c6bfb9d0, bucket=bucket@entry=0x7fe0c6bfba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d458ab18, pmtime=0x7fe0d458ab20, epoch=0x7fe0d458ab28, attrs=0x7fe0d458af58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0c6bfc4c0, obj=..., state=state@entry=0x7fe0c6bfbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0c6bfc4c0, obj=..., state=state@entry=0x7fe0c6bfbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0c6bfc4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0c6bfbf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0c6bfc4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0c6bfd0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0c6bfd0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfaf00, client_io=client_io@entry=0x7fe0c6bfd710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfaf00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfaf00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e040) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 619 (Thread 0x7fe0c5bff700 (LWP 136777)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0c5bfb6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0c5bfb6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0c5bfb898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0c5bfb8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0c5bfb9d0, bucket=bucket@entry=0x7fe0c5bfba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf89881518, pmtime=0x7fdf89881520, epoch=0x7fdf89881528, attrs=0x7fdf89881958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0c5bfc4c0, obj=..., state=state@entry=0x7fe0c5bfbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0c5bfc4c0, obj=..., state=state@entry=0x7fe0c5bfbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0c5bfc4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0c5bfbf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0c5bfc4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0c5bfd0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0c5bfd0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd500, client_io=client_io@entry=0x7fe0c5bfd710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd500) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd500) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e0a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 618 (Thread 0x7fe0c4bff700 (LWP 136779)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0c4bfb1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0c4bfb1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf89435e80, sul=..., ptid=ptid@entry=0x7fe0c4bfb3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf89435e80, sul=..., ptid=ptid@entry=0x7fe0c4bfb3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf89435e80, ptid=0x7fe0c4bfb3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb717600, oid=..., o=0x7fdf87cf7480, pbl=pbl@entry=0x7fe0c4bfb7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0c4bfb760, oid="test1", o=o@entry=0x7fe0c4bfb740, pbl=pbl@entry=0x7fe0c4bfb7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf89486b18, pmtime=0x7fdf89486b20, epoch=0x7fdf89486b28, attrs=0x7fdf89486f58, first_chunk=0x0, objv_tracker=0x7fe0c4bfc1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0c4bfd620, obj=..., state=state@entry=0x7fe0c4bfbaa8, objv_tracker=objv_tracker@entry=0x7fe0c4bfc1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0c4bfd620, obj=..., state=state@entry=0x7fe0c4bfbaa8, objv_tracker=objv_tracker@entry=0x7fe0c4bfc1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0c4bfd3c8, lastmod=0x7fe0c4bfc180, obj_size=0x0, objv_tracker=0x7fe0c4bfc1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0c4bfbcb0, objv_tracker=objv_tracker@entry=0x7fe0c4bfc1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0c4bfc1e0, pmtime=pmtime@entry=0x7fe0c4bfc180, pattrs=pattrs@entry=0x7fe0c4bfd3c8, cache_info=cache_info@entry=0x7fe0c4bfc1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0c4bfc1e0, pmtime=pmtime@entry=0x7fe0c4bfc180, pattrs=pattrs@entry=0x7fe0c4bfd3c8, cache_info=cache_info@entry=0x7fe0c4bfc1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0c4bfd3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0c4bfd0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b9d9b60) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb87440, client_io=client_io@entry=0x7fe0c4bfd710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb87440) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb87440) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e100) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 617 (Thread 0x7fe0c43fe700 (LWP 136778)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bde9f0f in Wait (mutex=..., this=0x7fe0fac2ed08) at common/Cond.h:56
#2  SafeTimer::timer_thread (this=0x7fe0fac2ecf8) at common/Timer.cc:116
#3  0x00007fe10bdeb4ad in SafeTimerThread::entry (this=<optimized out>) at common/Timer.cc:38
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 616 (Thread 0x7fe0c33ff700 (LWP 136780)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0c33fade0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55ce6000, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe0c33fb010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0c33faf90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0c33faf70, pbl=pbl@entry=0x7fe0c33fb010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf89085518, pmtime=0x7fdf89085520, epoch=0x7fdf89085528, attrs=0x7fdf89085958, first_chunk=0x0, objv_tracker=0x7fe0c33fbab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0c33fbb90, obj=..., state=state@entry=0x7fe0c33fb2d8, objv_tracker=objv_tracker@entry=0x7fe0c33fbab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0c33fbb90, obj=..., state=state@entry=0x7fe0c33fb2d8, objv_tracker=objv_tracker@entry=0x7fe0c33fbab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe0c33fbab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0c33fb4e0, objv_tracker=objv_tracker@entry=0x7fe0c33fbab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0c33fbab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2221", bucket_obj=bucket_obj@entry=0x7fe0c33fc210, shard_id=shard_id@entry=0x7fe0c33fc200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe0c33fc1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe0c33fc120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe0c33fc120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe0c33fc500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf891ef800, etag=..., mtime=0x7fdf89292768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf891ef800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf89292400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b5b9600, client_io=client_io@entry=0x7fe0c33fd710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b5b9600) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b5b9600) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e160) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 615 (Thread 0x7fe0c23fd700 (LWP 136782)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0c23f96c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0c23f96c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0c23f9898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0c23f98c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0c23f99d0, bucket=bucket@entry=0x7fe0c23f9a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf88c82b18, pmtime=0x7fdf88c82b20, epoch=0x7fdf88c82b28, attrs=0x7fdf88c82f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0c23fa4c0, obj=..., state=state@entry=0x7fe0c23f9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0c23fa4c0, obj=..., state=state@entry=0x7fe0c23f9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0c23fa4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0c23f9f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0c23fa4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0c23fb0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0c23fb0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357bc0, client_io=client_io@entry=0x7fe0c23fb710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357bc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357bc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e1c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 614 (Thread 0x7fe0c13ff700 (LWP 136783)):
#0  0x00007fe10a1b5bcd in poll () from /lib64/libc.so.6
#1  0x00007fe10b2102b9 in Curl_poll () from /lib64/libcurl.so.4
#2  0x00007fe10b2091fd in curl_multi_wait () from /lib64/libcurl.so.4
#3  0x00007fe10b9c9c88 in do_curl_wait (cct=0x7fe0fac41140, handle=<optimized out>, signal_fd=39) at rgw/rgw_http_client.cc:452
#4  0x00007fe10b9cce1c in RGWHTTPManager::reqs_thread_entry (this=0x7fe0fac2fad0) at rgw/rgw_http_client.cc:919
#5  0x00007fe10b9cd4ed in RGWHTTPManager::ReqsThread::entry (this=<optimized out>) at rgw/rgw_http_client.cc:526
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 613 (Thread 0x7fe0bfbfe700 (LWP 136784)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe10bde9f0f in Wait (mutex=..., this=0x7ffe64a3fca8) at common/Cond.h:56
#2  SafeTimer::timer_thread (this=0x7ffe64a3fc98) at common/Timer.cc:116
#3  0x00007fe10bdeb4ad in SafeTimerThread::entry (this=<optimized out>) at common/Timer.cc:38
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 612 (Thread 0x7fe0c03ff700 (LWP 136785)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0c03fb6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0c03fb6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0c03fb898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0c03fb8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0c03fb9d0, bucket=bucket@entry=0x7fe0c03fba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf88882b18, pmtime=0x7fdf88882b20, epoch=0x7fdf88882b28, attrs=0x7fdf88882f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0c03fc4c0, obj=..., state=state@entry=0x7fe0c03fbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0c03fc4c0, obj=..., state=state@entry=0x7fe0c03fbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0c03fc4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0c03fbf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0c03fc4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0c03fd0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0c03fd0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9da00, client_io=client_io@entry=0x7fe0c03fd710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9da00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9da00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e220) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 611 (Thread 0x7fe0bdffe700 (LWP 136786)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a138f3 in __gthread_cond_timedwait (__abs_timeout=0x7fe0bdffcbf0, __mutex=<optimized out>, __cond=0x7fe0fad72668) at /usr/include/c++/4.8.2/x86_64-redhat-linux/bits/gthr-default.h:871
#2  __wait_until_impl<std::chrono::duration<unsigned long, std::ratio<1l, 1000000000l> > > (__atime=<synthetic pointer>, __lock=..., this=0x7fe0fad72668) at /usr/include/c++/4.8.2/condition_variable:160
#3  wait_until<ceph::time_detail::mono_clock, std::chrono::duration<unsigned long, std::ratio<1l, 1000000000l> > > (__atime=..., __lock=..., this=0x7fe0fad72668) at /usr/include/c++/4.8.2/condition_variable:113
#4  ceph::timer_detail::timer<ceph::time_detail::mono_clock>::timer_thread (this=0x7fe0fad72600) at ./common/ceph_timer.h:149
#5  0x00007fe10a756220 in ?? () from /lib64/libstdc++.so.6
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 610 (Thread 0x7fe0be7ff700 (LWP 136787)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0be7fb950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf764b1a00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe0be7fbd58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0be7fbae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe0be7fc1c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe0be7fbd50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe0be7fc3d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0be7fc3d8, pmtime=pmtime@entry=0x7fe0be7fc4b0, pattrs=pattrs@entry=0x7fe0be7fc4b8, cache_info=cache_info@entry=0x7fe0be7fc1c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe0be7fc4b0, pattrs=pattrs@entry=0x7fe0be7fc4b8, cache_info=cache_info@entry=0x7fe0be7fc1c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0be7fd3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0be7fd0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c231fc0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b830fc0, client_io=client_io@entry=0x7fe0be7fd710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b830fc0) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b830fc0) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e280) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 609 (Thread 0x7fe0bcffc700 (LWP 136788)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100c6fe08 in Wait (mutex=..., this=0x7fe0ee842838) at ./common/Cond.h:56
#2  DispatchQueue::entry (this=0x7fe0ee8427d0) at msg/simple/DispatchQueue.cc:196
#3  0x00007fe100c95d1d in DispatchQueue::DispatchThread::entry (this=<optimized out>) at msg/simple/DispatchQueue.h:103
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 608 (Thread 0x7fe0bd7fd700 (LWP 136789)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0bd7f8de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf78327000, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe0bd7f9010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0bd7f8f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0bd7f8f70, pbl=pbl@entry=0x7fe0bd7f9010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf8808af18, pmtime=0x7fdf8808af20, epoch=0x7fdf8808af28, attrs=0x7fdf8808b358, first_chunk=0x0, objv_tracker=0x7fe0bd7f9ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0bd7f9b90, obj=..., state=state@entry=0x7fe0bd7f92d8, objv_tracker=objv_tracker@entry=0x7fe0bd7f9ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0bd7f9b90, obj=..., state=state@entry=0x7fe0bd7f92d8, objv_tracker=objv_tracker@entry=0x7fe0bd7f9ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe0bd7f9ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0bd7f94e0, objv_tracker=objv_tracker@entry=0x7fe0bd7f9ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0bd7f9ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2264", bucket_obj=bucket_obj@entry=0x7fe0bd7fa210, shard_id=shard_id@entry=0x7fe0bd7fa200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe0bd7fa1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe0bd7fa120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe0bd7fa120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe0bd7fa500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf88297200, etag=..., mtime=0x7fdf88255368, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf88297200, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf88255000) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b5b9d40, client_io=client_io@entry=0x7fe0bd7fb710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b5b9d40) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b5b9d40) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e2e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 607 (Thread 0x7fe0bbfff700 (LWP 136790)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100c6fa8f in Wait (mutex=..., this=0x7fe0ee8429e8) at ./common/Cond.h:56
#2  DispatchQueue::run_local_delivery (this=0x7fe0ee8427d0) at msg/simple/DispatchQueue.cc:114
#3  0x00007fe100c95d3d in DispatchQueue::LocalDeliveryThread::entry (this=<optimized out>) at msg/simple/DispatchQueue.h:117
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 606 (Thread 0x7fe0bb7fe700 (LWP 136791)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0bb7fa1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0bb7fa1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf87c11f00, sul=..., ptid=ptid@entry=0x7fe0bb7fa3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf87c11f00, sul=..., ptid=ptid@entry=0x7fe0bb7fa3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf87c11f00, ptid=0x7fe0bb7fa3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fec00, oid=..., o=0x7fe0c14cee00, pbl=pbl@entry=0x7fe0bb7fa7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0bb7fa760, oid="test1", o=o@entry=0x7fe0bb7fa740, pbl=pbl@entry=0x7fe0bb7fa7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf87c82518, pmtime=0x7fdf87c82520, epoch=0x7fdf87c82528, attrs=0x7fdf87c82958, first_chunk=0x0, objv_tracker=0x7fe0bb7fb1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0bb7fc620, obj=..., state=state@entry=0x7fe0bb7faaa8, objv_tracker=objv_tracker@entry=0x7fe0bb7fb1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0bb7fc620, obj=..., state=state@entry=0x7fe0bb7faaa8, objv_tracker=objv_tracker@entry=0x7fe0bb7fb1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0bb7fc3c8, lastmod=0x7fe0bb7fb180, obj_size=0x0, objv_tracker=0x7fe0bb7fb1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0bb7facb0, objv_tracker=objv_tracker@entry=0x7fe0bb7fb1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0bb7fb1e0, pmtime=pmtime@entry=0x7fe0bb7fb180, pattrs=pattrs@entry=0x7fe0bb7fc3c8, cache_info=cache_info@entry=0x7fe0bb7fb1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0bb7fb1e0, pmtime=pmtime@entry=0x7fe0bb7fb180, pattrs=pattrs@entry=0x7fe0bb7fc3c8, cache_info=cache_info@entry=0x7fe0bb7fb1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0bb7fc3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0bb7fc0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf794ee340) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722cf00, client_io=client_io@entry=0x7fe0bb7fc710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722cf00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722cf00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e340) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 605 (Thread 0x7fe0babfd700 (LWP 136792)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0babf96c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0babf96c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0babf9898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0babf98c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0babf99d0, bucket=bucket@entry=0x7fe0babf9a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf87882b18, pmtime=0x7fdf87882b20, epoch=0x7fdf87882b28, attrs=0x7fdf87882f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0babfa4c0, obj=..., state=state@entry=0x7fe0babf9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0babfa4c0, obj=..., state=state@entry=0x7fe0babf9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0babfa4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0babf9f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0babfa4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0babfb0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0babfb0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8ff80, client_io=client_io@entry=0x7fe0babfb710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8ff80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8ff80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e3a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 604 (Thread 0x7fe0b9bfd700 (LWP 136793)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100c91077 in Wait (mutex=..., this=0x7fe0ee842c60) at ./common/Cond.h:56
#2  SimpleMessenger::reaper_entry (this=0x7fe0ee842600) at msg/simple/SimpleMessenger.cc:217
#3  0x00007fe100c9644d in SimpleMessenger::ReaperThread::entry (this=<optimized out>) at msg/simple/SimpleMessenger.h:196
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 603 (Thread 0x7fe0b93fc700 (LWP 136794)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0b93f86c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0b93f86c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0b93f8898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0b93f88c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0b93f89d0, bucket=bucket@entry=0x7fe0b93f8a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf87486518, pmtime=0x7fdf87486520, epoch=0x7fdf87486528, attrs=0x7fdf87486958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0b93f94c0, obj=..., state=state@entry=0x7fe0b93f8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0b93f94c0, obj=..., state=state@entry=0x7fe0b93f8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0b93f94b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0b93f8f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0b93f94b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0b93fa0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0b93fa0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d800, client_io=client_io@entry=0x7fe0b93fa710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d800) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d800) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e400) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 602 (Thread 0x7fe0b7bfe700 (LWP 136796)):
#0  0x00007fe10abb8a82 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100adb916 in WaitUntil (when=..., mutex=..., this=0x7fe0facbc418) at common/Cond.h:72
#2  SafeTimer::timer_thread (this=0x7fe0facbc408) at common/Timer.cc:118
#3  0x00007fe100adcc2d in SafeTimerThread::entry (this=<optimized out>) at common/Timer.cc:38
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 601 (Thread 0x7fe0b83ff700 (LWP 136795)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0b83fb1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0b83fb1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8704d200, sul=..., ptid=ptid@entry=0x7fe0b83fb3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8704d200, sul=..., ptid=ptid@entry=0x7fe0b83fb3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8704d200, ptid=0x7fe0b83fb3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb66bc00, oid=..., o=0x7fe0eca2d800, pbl=pbl@entry=0x7fe0b83fb7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0b83fb760, oid="test1", o=o@entry=0x7fe0b83fb740, pbl=pbl@entry=0x7fe0b83fb7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf87081518, pmtime=0x7fdf87081520, epoch=0x7fdf87081528, attrs=0x7fdf87081958, first_chunk=0x0, objv_tracker=0x7fe0b83fc1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0b83fd620, obj=..., state=state@entry=0x7fe0b83fbaa8, objv_tracker=objv_tracker@entry=0x7fe0b83fc1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0b83fd620, obj=..., state=state@entry=0x7fe0b83fbaa8, objv_tracker=objv_tracker@entry=0x7fe0b83fc1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0b83fd3c8, lastmod=0x7fe0b83fc180, obj_size=0x0, objv_tracker=0x7fe0b83fc1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0b83fbcb0, objv_tracker=objv_tracker@entry=0x7fe0b83fc1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0b83fc1e0, pmtime=pmtime@entry=0x7fe0b83fc180, pattrs=pattrs@entry=0x7fe0b83fd3c8, cache_info=cache_info@entry=0x7fe0b83fc1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0b83fc1e0, pmtime=pmtime@entry=0x7fe0b83fc180, pattrs=pattrs@entry=0x7fe0b83fd3c8, cache_info=cache_info@entry=0x7fe0b83fc1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0b83fd3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0b83fd0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7a41ed80) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ba9afc0, client_io=client_io@entry=0x7fe0b83fd710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ba9afc0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ba9afc0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e460) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 600 (Thread 0x7fe0b73fd700 (LWP 136798)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0b73f96c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0b73f96c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0b73f9898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0b73f98c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0b73f99d0, bucket=bucket@entry=0x7fe0b73f9a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf86c86518, pmtime=0x7fdf86c86520, epoch=0x7fdf86c86528, attrs=0x7fdf86c86958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0b73fa4c0, obj=..., state=state@entry=0x7fe0b73f9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0b73fa4c0, obj=..., state=state@entry=0x7fe0b73f9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0b73fa4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0b73f9f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0b73fa4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0b73fb0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0b73fb0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa880, client_io=client_io@entry=0x7fe0b73fb710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa880) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa880) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e4c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 599 (Thread 0x7fe0b6bfc700 (LWP 136797)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100addad0 in Wait (mutex=..., this=0x7fe0facbc530) at ./common/Cond.h:56
#2  Finisher::finisher_thread_entry (this=0x7fe0facbc4d0) at common/Finisher.cc:96
#3  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#4  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 598 (Thread 0x7fe0b5bff700 (LWP 136799)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0b5bfb1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0b5bfb1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8683a980, sul=..., ptid=ptid@entry=0x7fe0b5bfb3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8683a980, sul=..., ptid=ptid@entry=0x7fe0b5bfb3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8683a980, ptid=0x7fe0b5bfb3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fca00, oid=..., o=0x7fe0d68a1780, pbl=pbl@entry=0x7fe0b5bfb7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0b5bfb760, oid="test1", o=o@entry=0x7fe0b5bfb740, pbl=pbl@entry=0x7fe0b5bfb7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf86882518, pmtime=0x7fdf86882520, epoch=0x7fdf86882528, attrs=0x7fdf86882958, first_chunk=0x0, objv_tracker=0x7fe0b5bfc1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0b5bfd620, obj=..., state=state@entry=0x7fe0b5bfbaa8, objv_tracker=objv_tracker@entry=0x7fe0b5bfc1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0b5bfd620, obj=..., state=state@entry=0x7fe0b5bfbaa8, objv_tracker=objv_tracker@entry=0x7fe0b5bfc1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0b5bfd3c8, lastmod=0x7fe0b5bfc180, obj_size=0x0, objv_tracker=0x7fe0b5bfc1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0b5bfbcb0, objv_tracker=objv_tracker@entry=0x7fe0b5bfc1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0b5bfc1e0, pmtime=pmtime@entry=0x7fe0b5bfc180, pattrs=pattrs@entry=0x7fe0b5bfd3c8, cache_info=cache_info@entry=0x7fe0b5bfc1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0b5bfc1e0, pmtime=pmtime@entry=0x7fe0b5bfc180, pattrs=pattrs@entry=0x7fe0b5bfd3c8, cache_info=cache_info@entry=0x7fe0b5bfc1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0b5bfd3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0b5bfd0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bb7d780) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c980, client_io=client_io@entry=0x7fe0b5bfd710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c980) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c980) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e520) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 597 (Thread 0x7fe0b4bff700 (LWP 136802)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0b4bfb1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0b4bfb1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf86424000, sul=..., ptid=ptid@entry=0x7fe0b4bfb3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf86424000, sul=..., ptid=ptid@entry=0x7fe0b4bfb3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf86424000, ptid=0x7fe0b4bfb3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf74407a00, oid=..., o=0x7fdf7e4ae880, pbl=pbl@entry=0x7fe0b4bfb7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0b4bfb760, oid="test1", o=o@entry=0x7fe0b4bfb740, pbl=pbl@entry=0x7fe0b4bfb7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf86481b18, pmtime=0x7fdf86481b20, epoch=0x7fdf86481b28, attrs=0x7fdf86481f58, first_chunk=0x0, objv_tracker=0x7fe0b4bfc1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0b4bfd620, obj=..., state=state@entry=0x7fe0b4bfbaa8, objv_tracker=objv_tracker@entry=0x7fe0b4bfc1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0b4bfd620, obj=..., state=state@entry=0x7fe0b4bfbaa8, objv_tracker=objv_tracker@entry=0x7fe0b4bfc1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0b4bfd3c8, lastmod=0x7fe0b4bfc180, obj_size=0x0, objv_tracker=0x7fe0b4bfc1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0b4bfbcb0, objv_tracker=objv_tracker@entry=0x7fe0b4bfc1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0b4bfc1e0, pmtime=pmtime@entry=0x7fe0b4bfc180, pattrs=pattrs@entry=0x7fe0b4bfd3c8, cache_info=cache_info@entry=0x7fe0b4bfc1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0b4bfc1e0, pmtime=pmtime@entry=0x7fe0b4bfc180, pattrs=pattrs@entry=0x7fe0b4bfd3c8, cache_info=cache_info@entry=0x7fe0b4bfc1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0b4bfd3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0b4bfd0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bec6b40) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7cb614c0, client_io=client_io@entry=0x7fe0b4bfd710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7cb614c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7cb614c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e580) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 596 (Thread 0x7fe0b37ff700 (LWP 136804)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0b37fb850) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7334d000, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe0b37fba80, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0b37fba00, oid="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3_100w_512K2263", o=o@entry=0x7fe0b37fb9e0, pbl=pbl@entry=0x7fe0b37fba80) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=this@entry=0x7fe0fad50c00, obj=..., psize=psize@entry=0x7fdf86084b18, pmtime=pmtime@entry=0x7fdf86084b20, epoch=epoch@entry=0x7fdf86084b28, attrs=attrs@entry=0x7fdf86084f58, first_chunk=0x0, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10bab7456 in RGWRados::get_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0b37fd620, obj=..., state=state@entry=0x7fe0b37fc028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8375
#6  0x00007fe10bab8b84 in RGWRados::get_obj_state (this=0x7fe0fad50c00, rctx=0x7fe0b37fd620, obj=..., state=state@entry=0x7fe0b37fc028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8491
#7  0x00007fe10babb2a0 in RGWRados::Object::get_state (this=<optimized out>, pstate=pstate@entry=0x7fe0b37fc028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8649
#8  0x00007fe10bac1939 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe0b37fc500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6227
#9  0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf86211800, etag=..., mtime=0x7fdf86231768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#10 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf86211800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#11 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf86231400) at rgw/rgw_op.cc:2877
#12 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b7ea740, client_io=client_io@entry=0x7fe0b37fd710, olog=0x0) at rgw/rgw_process.cc:174
#13 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b7ea740) at rgw/rgw_fcgi_process.cc:121
#14 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b7ea740) at rgw/rgw_process.h:84
#15 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e5e0) at common/WorkQueue.cc:128
#16 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#17 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#18 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 595 (Thread 0x7fe0b2ffe700 (LWP 136805)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0b2ffa1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0b2ffa1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf85c15600, sul=..., ptid=ptid@entry=0x7fe0b2ffa3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf85c15600, sul=..., ptid=ptid@entry=0x7fe0b2ffa3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf85c15600, ptid=0x7fe0b2ffa3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c3200, oid=..., o=0x7fdf81105680, pbl=pbl@entry=0x7fe0b2ffa7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0b2ffa760, oid="test1", o=o@entry=0x7fe0b2ffa740, pbl=pbl@entry=0x7fe0b2ffa7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf85c81518, pmtime=0x7fdf85c81520, epoch=0x7fdf85c81528, attrs=0x7fdf85c81958, first_chunk=0x0, objv_tracker=0x7fe0b2ffb1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0b2ffc620, obj=..., state=state@entry=0x7fe0b2ffaaa8, objv_tracker=objv_tracker@entry=0x7fe0b2ffb1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0b2ffc620, obj=..., state=state@entry=0x7fe0b2ffaaa8, objv_tracker=objv_tracker@entry=0x7fe0b2ffb1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0b2ffc3c8, lastmod=0x7fe0b2ffb180, obj_size=0x0, objv_tracker=0x7fe0b2ffb1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0b2ffacb0, objv_tracker=objv_tracker@entry=0x7fe0b2ffb1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0b2ffb1e0, pmtime=pmtime@entry=0x7fe0b2ffb180, pattrs=pattrs@entry=0x7fe0b2ffc3c8, cache_info=cache_info@entry=0x7fe0b2ffb1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0b2ffb1e0, pmtime=pmtime@entry=0x7fe0b2ffb180, pattrs=pattrs@entry=0x7fe0b2ffc3c8, cache_info=cache_info@entry=0x7fe0b2ffb1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0b2ffc3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0b2ffc0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bea18e0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868f00, client_io=client_io@entry=0x7fe0b2ffc710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868f00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868f00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e640) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 594 (Thread 0x7fe0b1bff700 (LWP 136807)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0b1bfb6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0b1bfb6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0b1bfb898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0b1bfb8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0b1bfb9d0, bucket=bucket@entry=0x7fe0b1bfba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf85881b18, pmtime=0x7fdf85881b20, epoch=0x7fdf85881b28, attrs=0x7fdf85881f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0b1bfc4c0, obj=..., state=state@entry=0x7fe0b1bfbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0b1bfc4c0, obj=..., state=state@entry=0x7fe0b1bfbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0b1bfc4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0b1bfbf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0b1bfc4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0b1bfd0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0b1bfd0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c91dc80, client_io=client_io@entry=0x7fe0b1bfd710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c91dc80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c91dc80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e6a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 593 (Thread 0x7fe0b07ff700 (LWP 136808)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0b07fb1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0b07fb1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf85427c00, sul=..., ptid=ptid@entry=0x7fe0b07fb3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf85427c00, sul=..., ptid=ptid@entry=0x7fe0b07fb3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf85427c00, ptid=0x7fe0b07fb3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7440b800, oid=..., o=0x7fe0ccced080, pbl=pbl@entry=0x7fe0b07fb7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0b07fb760, oid="test1", o=o@entry=0x7fe0b07fb740, pbl=pbl@entry=0x7fe0b07fb7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf85481518, pmtime=0x7fdf85481520, epoch=0x7fdf85481528, attrs=0x7fdf85481958, first_chunk=0x0, objv_tracker=0x7fe0b07fc1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0b07fd620, obj=..., state=state@entry=0x7fe0b07fbaa8, objv_tracker=objv_tracker@entry=0x7fe0b07fc1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0b07fd620, obj=..., state=state@entry=0x7fe0b07fbaa8, objv_tracker=objv_tracker@entry=0x7fe0b07fc1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0b07fd3c8, lastmod=0x7fe0b07fc180, obj_size=0x0, objv_tracker=0x7fe0b07fc1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0b07fbcb0, objv_tracker=objv_tracker@entry=0x7fe0b07fc1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0b07fc1e0, pmtime=pmtime@entry=0x7fe0b07fc180, pattrs=pattrs@entry=0x7fe0b07fd3c8, cache_info=cache_info@entry=0x7fe0b07fc1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0b07fc1e0, pmtime=pmtime@entry=0x7fe0b07fc180, pattrs=pattrs@entry=0x7fe0b07fd3c8, cache_info=cache_info@entry=0x7fe0b07fc1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0b07fd3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0b07fd0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c178040) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c70cf200, client_io=client_io@entry=0x7fe0b07fd710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c70cf200) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c70cf200) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e700) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 592 (Thread 0x7fe0af7ff700 (LWP 136810)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100adb68f in Wait (mutex=..., this=0x7fe0facbc8d0) at common/Cond.h:56
#2  SafeTimer::timer_thread (this=0x7fe0facbc8c0) at common/Timer.cc:116
#3  0x00007fe100adcc2d in SafeTimerThread::entry (this=<optimized out>) at common/Timer.cc:38
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 591 (Thread 0x7fe0aeffe700 (LWP 136809)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0aeffa6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0aeffa6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0aeffa898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0aeffa8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0aeffa9d0, bucket=bucket@entry=0x7fe0aeffaa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf85081b18, pmtime=0x7fdf85081b20, epoch=0x7fdf85081b28, attrs=0x7fdf85081f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0aeffb4c0, obj=..., state=state@entry=0x7fe0aeffad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0aeffb4c0, obj=..., state=state@entry=0x7fe0aeffad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0aeffb4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0aeffaf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0aeffb4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0aeffc0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0aeffc0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9dc40, client_io=client_io@entry=0x7fe0aeffc710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9dc40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9dc40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e760) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 590 (Thread 0x7fe0adfff700 (LWP 136811)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0adffb6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0adffb6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0adffb898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0adffb8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0adffb9d0, bucket=bucket@entry=0x7fe0adffba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf84c81518, pmtime=0x7fdf84c81520, epoch=0x7fdf84c81528, attrs=0x7fdf84c81958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0adffc4c0, obj=..., state=state@entry=0x7fe0adffbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0adffc4c0, obj=..., state=state@entry=0x7fe0adffbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0adffc4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0adffbf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0adffc4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0adffd0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0adffd0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce040, client_io=client_io@entry=0x7fe0adffd710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce040) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce040) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e7c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 589 (Thread 0x7fe0ad7fe700 (LWP 136812)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100addad0 in Wait (mutex=..., this=0x7fe0facbca10) at ./common/Cond.h:56
#2  Finisher::finisher_thread_entry (this=0x7fe0facbc9b0) at common/Finisher.cc:96
#3  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#4  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 588 (Thread 0x7fe0acffd700 (LWP 136813)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0acff91a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0acff91a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf84811f00, sul=..., ptid=ptid@entry=0x7fe0acff93c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf84811f00, sul=..., ptid=ptid@entry=0x7fe0acff93c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf84811f00, ptid=0x7fe0acff93c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb714e00, oid=..., o=0x7fe0f0889900, pbl=pbl@entry=0x7fe0acff97e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0acff9760, oid="test1", o=o@entry=0x7fe0acff9740, pbl=pbl@entry=0x7fe0acff97e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf84881b18, pmtime=0x7fdf84881b20, epoch=0x7fdf84881b28, attrs=0x7fdf84881f58, first_chunk=0x0, objv_tracker=0x7fe0acffa1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0acffb620, obj=..., state=state@entry=0x7fe0acff9aa8, objv_tracker=objv_tracker@entry=0x7fe0acffa1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0acffb620, obj=..., state=state@entry=0x7fe0acff9aa8, objv_tracker=objv_tracker@entry=0x7fe0acffa1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0acffb3c8, lastmod=0x7fe0acffa180, obj_size=0x0, objv_tracker=0x7fe0acffa1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0acff9cb0, objv_tracker=objv_tracker@entry=0x7fe0acffa1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0acffa1e0, pmtime=pmtime@entry=0x7fe0acffa180, pattrs=pattrs@entry=0x7fe0acffb3c8, cache_info=cache_info@entry=0x7fe0acffa1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0acffa1e0, pmtime=pmtime@entry=0x7fe0acffa180, pattrs=pattrs@entry=0x7fe0acffb3c8, cache_info=cache_info@entry=0x7fe0acffa1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0acffb3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0acffb0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf778699c0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7603af80, client_io=client_io@entry=0x7fe0acffb710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7603af80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7603af80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e820) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 587 (Thread 0x7fe0abfff700 (LWP 136814)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0abffb1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0abffb1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf84449d80, sul=..., ptid=ptid@entry=0x7fe0abffb3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf84449d80, sul=..., ptid=ptid@entry=0x7fe0abffb3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf84449d80, ptid=0x7fe0abffb3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c2600, oid=..., o=0x7fdf84501580, pbl=pbl@entry=0x7fe0abffb7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0abffb760, oid="test1", o=o@entry=0x7fe0abffb740, pbl=pbl@entry=0x7fe0abffb7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf84481b18, pmtime=0x7fdf84481b20, epoch=0x7fdf84481b28, attrs=0x7fdf84481f58, first_chunk=0x0, objv_tracker=0x7fe0abffc1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0abffd620, obj=..., state=state@entry=0x7fe0abffbaa8, objv_tracker=objv_tracker@entry=0x7fe0abffc1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0abffd620, obj=..., state=state@entry=0x7fe0abffbaa8, objv_tracker=objv_tracker@entry=0x7fe0abffc1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0abffd3c8, lastmod=0x7fe0abffc180, obj_size=0x0, objv_tracker=0x7fe0abffc1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0abffbcb0, objv_tracker=objv_tracker@entry=0x7fe0abffc1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0abffc1e0, pmtime=pmtime@entry=0x7fe0abffc180, pattrs=pattrs@entry=0x7fe0abffd3c8, cache_info=cache_info@entry=0x7fe0abffc1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0abffc1e0, pmtime=pmtime@entry=0x7fe0abffc180, pattrs=pattrs@entry=0x7fe0abffd3c8, cache_info=cache_info@entry=0x7fe0abffc1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0abffd3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0abffd0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b8aaa20) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c680, client_io=client_io@entry=0x7fe0abffd710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c680) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c680) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e880) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 586 (Thread 0x7fe0ab7fe700 (LWP 136816)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0ab7fa6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0ab7fa6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0ab7fa898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0ab7fa8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0ab7fa9d0, bucket=bucket@entry=0x7fe0ab7faa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf84081b18, pmtime=0x7fdf84081b20, epoch=0x7fdf84081b28, attrs=0x7fdf84081f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0ab7fb4c0, obj=..., state=state@entry=0x7fe0ab7fad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0ab7fb4c0, obj=..., state=state@entry=0x7fe0ab7fad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0ab7fb4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0ab7faf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0ab7fb4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0ab7fc0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0ab7fc0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9643c0, client_io=client_io@entry=0x7fe0ab7fc710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9643c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9643c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e8e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 585 (Thread 0x7fe0aaffd700 (LWP 136817)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0aaff96c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0aaff96c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0aaff9898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0aaff98c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0aaff99d0, bucket=bucket@entry=0x7fe0aaff9a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf83c85518, pmtime=0x7fdf83c85520, epoch=0x7fdf83c85528, attrs=0x7fdf83c85958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0aaffa4c0, obj=..., state=state@entry=0x7fe0aaff9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0aaffa4c0, obj=..., state=state@entry=0x7fe0aaff9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0aaffa4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0aaff9f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0aaffa4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0aaffb0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0aaffb0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce87c0, client_io=client_io@entry=0x7fe0aaffb710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce87c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce87c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e940) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 584 (Thread 0x7fe0aa7fc700 (LWP 136818)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0aa7f86c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0aa7f86c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0aa7f8898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0aa7f88c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0aa7f89d0, bucket=bucket@entry=0x7fe0aa7f8a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf83885518, pmtime=0x7fdf83885520, epoch=0x7fdf83885528, attrs=0x7fdf83885958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0aa7f94c0, obj=..., state=state@entry=0x7fe0aa7f8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0aa7f94c0, obj=..., state=state@entry=0x7fe0aa7f8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0aa7f94b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0aa7f8f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0aa7f94b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0aa7fa0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0aa7fa0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce980, client_io=client_io@entry=0x7fe0aa7fa710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce980) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce980) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700e9a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 583 (Thread 0x7fe0a9ffb700 (LWP 136819)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0a9ff71a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0a9ff71a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8340e300, sul=..., ptid=ptid@entry=0x7fe0a9ff73c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8340e300, sul=..., ptid=ptid@entry=0x7fe0a9ff73c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8340e300, ptid=0x7fe0a9ff73c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c7c00, oid=..., o=0x7fe0f0d85780, pbl=pbl@entry=0x7fe0a9ff77e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0a9ff7760, oid="test1", o=o@entry=0x7fe0a9ff7740, pbl=pbl@entry=0x7fe0a9ff77e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf835ba518, pmtime=0x7fdf835ba520, epoch=0x7fdf835ba528, attrs=0x7fdf835ba958, first_chunk=0x0, objv_tracker=0x7fe0a9ff81e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a9ff9620, obj=..., state=state@entry=0x7fe0a9ff7aa8, objv_tracker=objv_tracker@entry=0x7fe0a9ff81e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a9ff9620, obj=..., state=state@entry=0x7fe0a9ff7aa8, objv_tracker=objv_tracker@entry=0x7fe0a9ff81e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0a9ff93c8, lastmod=0x7fe0a9ff8180, obj_size=0x0, objv_tracker=0x7fe0a9ff81e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a9ff7cb0, objv_tracker=objv_tracker@entry=0x7fe0a9ff81e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0a9ff81e0, pmtime=pmtime@entry=0x7fe0a9ff8180, pattrs=pattrs@entry=0x7fe0a9ff93c8, cache_info=cache_info@entry=0x7fe0a9ff81b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0a9ff81e0, pmtime=pmtime@entry=0x7fe0a9ff8180, pattrs=pattrs@entry=0x7fe0a9ff93c8, cache_info=cache_info@entry=0x7fe0a9ff81b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0a9ff93c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0a9ff90e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b012740) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868a80, client_io=client_io@entry=0x7fe0a9ff9710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868a80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868a80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700ea00) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 582 (Thread 0x7fe0a97fa700 (LWP 136820)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0a97f61a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0a97f61a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf83010600, sul=..., ptid=ptid@entry=0x7fe0a97f63c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf83010600, sul=..., ptid=ptid@entry=0x7fe0a97f63c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf83010600, ptid=0x7fe0a97f63c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c6600, oid=..., o=0x7fdf788df100, pbl=pbl@entry=0x7fe0a97f67e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0a97f6760, oid="test1", o=o@entry=0x7fe0a97f6740, pbl=pbl@entry=0x7fe0a97f67e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf83081518, pmtime=0x7fdf83081520, epoch=0x7fdf83081528, attrs=0x7fdf83081958, first_chunk=0x0, objv_tracker=0x7fe0a97f71e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a97f8620, obj=..., state=state@entry=0x7fe0a97f6aa8, objv_tracker=objv_tracker@entry=0x7fe0a97f71e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a97f8620, obj=..., state=state@entry=0x7fe0a97f6aa8, objv_tracker=objv_tracker@entry=0x7fe0a97f71e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0a97f83c8, lastmod=0x7fe0a97f7180, obj_size=0x0, objv_tracker=0x7fe0a97f71e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a97f6cb0, objv_tracker=objv_tracker@entry=0x7fe0a97f71e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0a97f71e0, pmtime=pmtime@entry=0x7fe0a97f7180, pattrs=pattrs@entry=0x7fe0a97f83c8, cache_info=cache_info@entry=0x7fe0a97f71b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0a97f71e0, pmtime=pmtime@entry=0x7fe0a97f7180, pattrs=pattrs@entry=0x7fe0a97f83c8, cache_info=cache_info@entry=0x7fe0a97f71b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0a97f83c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0a97f80e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bc33640) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868500, client_io=client_io@entry=0x7fe0a97f8710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868500) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868500) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700ea60) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 581 (Thread 0x7fe0a8ff9700 (LWP 136821)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0a8ff56c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0a8ff56c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0a8ff5898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0a8ff58c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0a8ff59d0, bucket=bucket@entry=0x7fe0a8ff5a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf82c81518, pmtime=0x7fdf82c81520, epoch=0x7fdf82c81528, attrs=0x7fdf82c81958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a8ff64c0, obj=..., state=state@entry=0x7fe0a8ff5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a8ff64c0, obj=..., state=state@entry=0x7fe0a8ff5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0a8ff64b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a8ff5f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0a8ff64b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0a8ff70e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0a8ff70e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f800, client_io=client_io@entry=0x7fe0a8ff7710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f800) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f800) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700eac0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 580 (Thread 0x7fe0a87f8700 (LWP 136822)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0a87f45b0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0eb6f1600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe0a87f47e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0a87f4760, oid="test1", o=o@entry=0x7fe0a87f4740, pbl=pbl@entry=0x7fe0a87f47e0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf82881b18, pmtime=0x7fdf82881b20, epoch=0x7fdf82881b28, attrs=0x7fdf82881f58, first_chunk=0x0, objv_tracker=0x7fe0a87f51e0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a87f6620, obj=..., state=state@entry=0x7fe0a87f4aa8, objv_tracker=objv_tracker@entry=0x7fe0a87f51e0) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a87f6620, obj=..., state=state@entry=0x7fe0a87f4aa8, objv_tracker=objv_tracker@entry=0x7fe0a87f51e0) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0a87f63c8, lastmod=0x7fe0a87f5180, obj_size=0x0, objv_tracker=0x7fe0a87f51e0) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a87f4cb0, objv_tracker=objv_tracker@entry=0x7fe0a87f51e0) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0a87f51e0, pmtime=pmtime@entry=0x7fe0a87f5180, pattrs=pattrs@entry=0x7fe0a87f63c8, cache_info=cache_info@entry=0x7fe0a87f51b0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0a87f51e0, pmtime=pmtime@entry=0x7fe0a87f5180, pattrs=pattrs@entry=0x7fe0a87f63c8, cache_info=cache_info@entry=0x7fe0a87f51b0) at rgw/rgw_rados.cc:10991
#11 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0a87f63c8) at rgw/rgw_rados.cc:11066
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0a87f60e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cbee4c0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35aec0, client_io=client_io@entry=0x7fe0a87f6710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35aec0) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35aec0) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700eb20) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 579 (Thread 0x7fe0a7ff7700 (LWP 136823)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0a7ff31a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0a7ff31a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8240f980, sul=..., ptid=ptid@entry=0x7fe0a7ff33c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8240f980, sul=..., ptid=ptid@entry=0x7fe0a7ff33c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8240f980, ptid=0x7fe0a7ff33c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c8c00, oid=..., o=0x7fdf7a180c80, pbl=pbl@entry=0x7fe0a7ff37e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0a7ff3760, oid="test1", o=o@entry=0x7fe0a7ff3740, pbl=pbl@entry=0x7fe0a7ff37e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf82481b18, pmtime=0x7fdf82481b20, epoch=0x7fdf82481b28, attrs=0x7fdf82481f58, first_chunk=0x0, objv_tracker=0x7fe0a7ff41e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a7ff5620, obj=..., state=state@entry=0x7fe0a7ff3aa8, objv_tracker=objv_tracker@entry=0x7fe0a7ff41e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a7ff5620, obj=..., state=state@entry=0x7fe0a7ff3aa8, objv_tracker=objv_tracker@entry=0x7fe0a7ff41e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0a7ff53c8, lastmod=0x7fe0a7ff4180, obj_size=0x0, objv_tracker=0x7fe0a7ff41e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a7ff3cb0, objv_tracker=objv_tracker@entry=0x7fe0a7ff41e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0a7ff41e0, pmtime=pmtime@entry=0x7fe0a7ff4180, pattrs=pattrs@entry=0x7fe0a7ff53c8, cache_info=cache_info@entry=0x7fe0a7ff41b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0a7ff41e0, pmtime=pmtime@entry=0x7fe0a7ff4180, pattrs=pattrs@entry=0x7fe0a7ff53c8, cache_info=cache_info@entry=0x7fe0a7ff41b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0a7ff53c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0a7ff50e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c2f63a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b3571c0, client_io=client_io@entry=0x7fe0a7ff5710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b3571c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b3571c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700eb80) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 578 (Thread 0x7fe0a77f6700 (LWP 136824)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0a77f2950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337cc00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe0a77f2d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0a77f2ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe0a77f31c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe0a77f2d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe0a77f33d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0a77f33d8, pmtime=pmtime@entry=0x7fe0a77f34b0, pattrs=pattrs@entry=0x7fe0a77f34b8, cache_info=cache_info@entry=0x7fe0a77f31c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe0a77f34b0, pattrs=pattrs@entry=0x7fe0a77f34b8, cache_info=cache_info@entry=0x7fe0a77f31c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0a77f43c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0a77f40e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c70beca0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a580, client_io=client_io@entry=0x7fe0a77f4710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a580) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a580) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700ebe0) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 577 (Thread 0x7fe0a6ff5700 (LWP 136825)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0a6ff16c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0a6ff16c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0a6ff1898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0a6ff18c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0a6ff19d0, bucket=bucket@entry=0x7fe0a6ff1a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf81c81518, pmtime=0x7fdf81c81520, epoch=0x7fdf81c81528, attrs=0x7fdf81c81958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a6ff24c0, obj=..., state=state@entry=0x7fe0a6ff1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a6ff24c0, obj=..., state=state@entry=0x7fe0a6ff1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0a6ff24b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a6ff1f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0a6ff24b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0a6ff30e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0a6ff30e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8d80, client_io=client_io@entry=0x7fe0a6ff3710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8d80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8d80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700ec40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 576 (Thread 0x7fe0a67f4700 (LWP 136826)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0a67f01a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0a67f01a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8180e300, sul=..., ptid=ptid@entry=0x7fe0a67f03c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8180e300, sul=..., ptid=ptid@entry=0x7fe0a67f03c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8180e300, ptid=0x7fe0a67f03c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c8e00, oid=..., o=0x7fe0ef4c5e80, pbl=pbl@entry=0x7fe0a67f07e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0a67f0760, oid="test1", o=o@entry=0x7fe0a67f0740, pbl=pbl@entry=0x7fe0a67f07e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf81881b18, pmtime=0x7fdf81881b20, epoch=0x7fdf81881b28, attrs=0x7fdf81881f58, first_chunk=0x0, objv_tracker=0x7fe0a67f11e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a67f2620, obj=..., state=state@entry=0x7fe0a67f0aa8, objv_tracker=objv_tracker@entry=0x7fe0a67f11e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a67f2620, obj=..., state=state@entry=0x7fe0a67f0aa8, objv_tracker=objv_tracker@entry=0x7fe0a67f11e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0a67f23c8, lastmod=0x7fe0a67f1180, obj_size=0x0, objv_tracker=0x7fe0a67f11e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a67f0cb0, objv_tracker=objv_tracker@entry=0x7fe0a67f11e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0a67f11e0, pmtime=pmtime@entry=0x7fe0a67f1180, pattrs=pattrs@entry=0x7fe0a67f23c8, cache_info=cache_info@entry=0x7fe0a67f11b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0a67f11e0, pmtime=pmtime@entry=0x7fe0a67f1180, pattrs=pattrs@entry=0x7fe0a67f23c8, cache_info=cache_info@entry=0x7fe0a67f11b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0a67f23c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0a67f20e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bd01f40) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357240, client_io=client_io@entry=0x7fe0a67f2710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357240) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357240) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700eca0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 575 (Thread 0x7fe0a5ff3700 (LWP 136827)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a17b21 in Wait (mutex=..., this=0x7fe0a5fefee0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate (this=0x7fe0eb7f7e00, oid=..., o=<optimized out>, pmtime=<optimized out>, flags=flags@entry=0) at librados/IoCtxImpl.cc:690
#3  0x00007fe1009e4963 in librados::IoCtx::operate (this=this@entry=0x7fe0a5ff0518, oid=".dir.01e3669b-1c46-4d12-80d7-cea44d699f66.6070.2.55", o=o@entry=0x7fe0a5ff0060) at librados/librados.cc:1418
#4  0x00007fe10ba8f570 in RGWRados::cls_obj_prepare_op (this=this@entry=0x7fe0fad50c00, bs=..., op=op@entry=CLS_RGW_OP_ADD, tag="_Cv8W96vtYZRte8epldvBd28Ex5tu5pF", obj=..., bilog_flags=<optimized out>) at rgw/rgw_rados.cc:11733
#5  0x00007fe10bac069a in RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe0a5ff0430, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9156
#6  0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe0a5ff0970, size=size@entry=0, attrs=std::map with 5 elements) at rgw/rgw_rados.cc:6342
#7  0x00007fe10ba5b62a in RGWInitMultipart::execute (this=0x7fdf81511600) at rgw/rgw_op.cc:4080
#8  0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c200, client_io=client_io@entry=0x7fe0a5ff1710, olog=0x0) at rgw/rgw_process.cc:174
#9  0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c200) at rgw/rgw_fcgi_process.cc:121
#10 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c200) at rgw/rgw_process.h:84
#11 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700ed00) at common/WorkQueue.cc:128
#12 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#13 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#14 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 574 (Thread 0x7fe0a4fff700 (LWP 136828)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0a4ffb650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733ed400, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe0a4ffb880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0a4ffb800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0a4ffb7e0, pbl=pbl@entry=0x7fe0a4ffb880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf81085b18, pmtime=0x7fdf81085b20, epoch=0x7fdf81085b28, attrs=0x7fdf81085f58, first_chunk=0x0, objv_tracker=0x7fe0a4ffc3d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a4ffd620, obj=..., state=state@entry=0x7fe0a4ffbb48, objv_tracker=objv_tracker@entry=0x7fe0a4ffc3d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a4ffd620, obj=..., state=state@entry=0x7fe0a4ffbb48, objv_tracker=objv_tracker@entry=0x7fe0a4ffc3d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0a4ffc4b8, lastmod=0x7fe0a4ffc4b0, obj_size=0x0, objv_tracker=0x7fe0a4ffc3d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a4ffbd50, objv_tracker=objv_tracker@entry=0x7fe0a4ffc3d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0a4ffc3d8, pmtime=pmtime@entry=0x7fe0a4ffc4b0, pattrs=pattrs@entry=0x7fe0a4ffc4b8, cache_info=cache_info@entry=0x7fe0a4ffc1c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe0a4ffc4b0, pattrs=pattrs@entry=0x7fe0a4ffc4b8, cache_info=cache_info@entry=0x7fe0a4ffc1c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0a4ffd3c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0a4ffd0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf79f56280) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35af40, client_io=client_io@entry=0x7fe0a4ffd710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35af40) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35af40) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700ed60) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 573 (Thread 0x7fe0a47fe700 (LWP 136830)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0a47fa1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0a47fa1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf80839580, sul=..., ptid=ptid@entry=0x7fe0a47fa3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf80839580, sul=..., ptid=ptid@entry=0x7fe0a47fa3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf80839580, ptid=0x7fe0a47fa3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c8a00, oid=..., o=0x7fdf55c9c400, pbl=pbl@entry=0x7fe0a47fa7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0a47fa760, oid="test1", o=o@entry=0x7fe0a47fa740, pbl=pbl@entry=0x7fe0a47fa7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf80881b18, pmtime=0x7fdf80881b20, epoch=0x7fdf80881b28, attrs=0x7fdf80881f58, first_chunk=0x0, objv_tracker=0x7fe0a47fb1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a47fc620, obj=..., state=state@entry=0x7fe0a47faaa8, objv_tracker=objv_tracker@entry=0x7fe0a47fb1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a47fc620, obj=..., state=state@entry=0x7fe0a47faaa8, objv_tracker=objv_tracker@entry=0x7fe0a47fb1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0a47fc3c8, lastmod=0x7fe0a47fb180, obj_size=0x0, objv_tracker=0x7fe0a47fb1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a47facb0, objv_tracker=objv_tracker@entry=0x7fe0a47fb1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0a47fb1e0, pmtime=pmtime@entry=0x7fe0a47fb180, pattrs=pattrs@entry=0x7fe0a47fc3c8, cache_info=cache_info@entry=0x7fe0a47fb1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0a47fb1e0, pmtime=pmtime@entry=0x7fe0a47fb180, pattrs=pattrs@entry=0x7fe0a47fc3c8, cache_info=cache_info@entry=0x7fe0a47fb1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0a47fc3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0a47fc0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cb16fc0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357140, client_io=client_io@entry=0x7fe0a47fc710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357140) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357140) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700edc0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 572 (Thread 0x7fe0a3ffd700 (LWP 136831)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0a3ff91a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0a3ff91a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf80435c00, sul=..., ptid=ptid@entry=0x7fe0a3ff93c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf80435c00, sul=..., ptid=ptid@entry=0x7fe0a3ff93c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf80435c00, ptid=0x7fe0a3ff93c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c4600, oid=..., o=0x7fe0ec9eff80, pbl=pbl@entry=0x7fe0a3ff97e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0a3ff9760, oid="test1", o=o@entry=0x7fe0a3ff9740, pbl=pbl@entry=0x7fe0a3ff97e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf80481b18, pmtime=0x7fdf80481b20, epoch=0x7fdf80481b28, attrs=0x7fdf80481f58, first_chunk=0x0, objv_tracker=0x7fe0a3ffa1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a3ffb620, obj=..., state=state@entry=0x7fe0a3ff9aa8, objv_tracker=objv_tracker@entry=0x7fe0a3ffa1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a3ffb620, obj=..., state=state@entry=0x7fe0a3ff9aa8, objv_tracker=objv_tracker@entry=0x7fe0a3ffa1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0a3ffb3c8, lastmod=0x7fe0a3ffa180, obj_size=0x0, objv_tracker=0x7fe0a3ffa1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a3ff9cb0, objv_tracker=objv_tracker@entry=0x7fe0a3ffa1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0a3ffa1e0, pmtime=pmtime@entry=0x7fe0a3ffa180, pattrs=pattrs@entry=0x7fe0a3ffb3c8, cache_info=cache_info@entry=0x7fe0a3ffa1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0a3ffa1e0, pmtime=pmtime@entry=0x7fe0a3ffa180, pattrs=pattrs@entry=0x7fe0a3ffb3c8, cache_info=cache_info@entry=0x7fe0a3ffa1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0a3ffb3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0a3ffb0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cbc0c00) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf785b4940, client_io=client_io@entry=0x7fe0a3ffb710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf785b4940) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf785b4940) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700ee20) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 571 (Thread 0x7fe0a37fc700 (LWP 136832)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0a37f8950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337b000, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe0a37f8d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0a37f8ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe0a37f91c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe0a37f8d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe0a37f93d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0a37f93d8, pmtime=pmtime@entry=0x7fe0a37f94b0, pattrs=pattrs@entry=0x7fe0a37f94b8, cache_info=cache_info@entry=0x7fe0a37f91c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe0a37f94b0, pattrs=pattrs@entry=0x7fe0a37f94b8, cache_info=cache_info@entry=0x7fe0a37f91c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0a37fa3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0a37fa0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bc51f20) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b7f6cc0, client_io=client_io@entry=0x7fe0a37fa710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b7f6cc0) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b7f6cc0) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700ee80) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 570 (Thread 0x7fe0a2ffb700 (LWP 136833)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0a2ff76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0a2ff76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0a2ff7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0a2ff78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0a2ff79d0, bucket=bucket@entry=0x7fe0a2ff7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf80085518, pmtime=0x7fdf80085520, epoch=0x7fdf80085528, attrs=0x7fdf80085958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a2ff84c0, obj=..., state=state@entry=0x7fe0a2ff7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a2ff84c0, obj=..., state=state@entry=0x7fe0a2ff7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0a2ff84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a2ff7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0a2ff84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0a2ff90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0a2ff90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0cf340, client_io=client_io@entry=0x7fe0a2ff9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0cf340) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0cf340) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700eee0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 569 (Thread 0x7fe0a27fa700 (LWP 136834)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0a27f6120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0a27f6120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7fc27980, sul=..., ptid=ptid@entry=0x7fe0a27f6348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7fc27980, sul=..., ptid=ptid@entry=0x7fe0a27f6348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7fc27980, ptid=0x7fe0a27f6348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf55e20400, oid=..., o=0x7fdf55cf4f80, pbl=pbl@entry=0x7fe0a27f6760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0a27f66e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fe0a27f66c0, pbl=pbl@entry=0x7fe0a27f6760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7fc81518, pmtime=0x7fdf7fc81520, epoch=0x7fdf7fc81528, attrs=0x7fdf7fc81958, first_chunk=0x0, objv_tracker=0x7fe0a27f7498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a27f6ff0, obj=..., state=state@entry=0x7fe0a27f6a28, objv_tracker=objv_tracker@entry=0x7fe0a27f7498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a27f6ff0, obj=..., state=state@entry=0x7fe0a27f6a28, objv_tracker=objv_tracker@entry=0x7fe0a27f7498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe0a27f7498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a27f6c30, objv_tracker=objv_tracker@entry=0x7fe0a27f7498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0a27f7498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe0a27f7150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe0a27f7498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe0a27f7150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0a27f80e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0a27f80e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b3575c0, client_io=client_io@entry=0x7fe0a27f8710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b3575c0) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b3575c0) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700ef40) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 568 (Thread 0x7fe0a1ff9700 (LWP 136835)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0a1ff5820) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0a1ff5820) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7f813800, sul=..., ptid=ptid@entry=0x7fdf7f8929b0) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7f813800, sul=..., ptid=ptid@entry=0x7fdf7f8929b0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=op@entry=0x7fdf7f813800, ptid=ptid@entry=0x7fdf7f8929b0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a1895b in librados::IoCtxImpl::aio_operate (this=0x7fdf55d7fc00, oid=..., o=0x7fe0eaa1c980, c=0x7fdf7f892900, snap_context=..., flags=flags@entry=0) at librados/IoCtxImpl.cc:771
#9  0x00007fe1009e4a6b in librados::IoCtx::aio_operate (this=this@entry=0x7fe0a1ff6208, oid=".dir.01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3.57", c=c@entry=0x7fdf7f891578, o=o@entry=0x7fe0a1ff5c30) at librados/librados.cc:1432
#10 0x00007fe10ba9b5dc in RGWRados::cls_obj_complete_op (this=this@entry=0x7fe0fad50c00, bs=..., op=op@entry=CLS_RGW_OP_ADD, tag="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.46432", pool=pool@entry=21, epoch=epoch@entry=29, ent=..., category=category@entry=RGW_OBJ_CATEGORY_MAIN, remove_objs=remove_objs@entry=0x0, bilog_flags=bilog_flags@entry=0) at rgw/rgw_rados.cc:11773
#11 0x00007fe10ba9b7c3 in RGWRados::cls_obj_complete_add (this=this@entry=0x7fe0fad50c00, bs=..., tag="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.46432", pool=pool@entry=21, epoch=epoch@entry=29, ent=..., category=category@entry=RGW_OBJ_CATEGORY_MAIN, remove_objs=remove_objs@entry=0x0, bilog_flags=0) at rgw/rgw_rados.cc:11783
#12 0x00007fe10bab3a7d in RGWRados::Bucket::UpdateIndex::complete (this=this@entry=0x7fe0a1ff6120, poolid=poolid@entry=21, epoch=epoch@entry=29, size=size@entry=512000, ut=..., etag="0bcfab0fdb42d48ad17da3ade65c900a", content_type="application/octet-stream", acl_bl=acl_bl@entry=0x7fe0a1ff60d0, category=RGW_OBJ_CATEGORY_MAIN, remove_objs=0x0) at rgw/rgw_rados.cc:9192
#13 0x00007fe10bac1e6d in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe0a1ff6500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6363
#14 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf7fa61800, etag=..., mtime=0x7fdf7fa0f768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#15 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf7fa61800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#16 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf7fa0f400) at rgw/rgw_op.cc:2877
#17 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a533d80, client_io=client_io@entry=0x7fe0a1ff7710, olog=0x0) at rgw/rgw_process.cc:174
#18 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a533d80) at rgw/rgw_fcgi_process.cc:121
#19 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a533d80) at rgw/rgw_process.h:84
#20 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c700efa0) at common/WorkQueue.cc:128
#21 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#22 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#23 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 567 (Thread 0x7fe0a17f8700 (LWP 136836)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0a17f41a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0a17f41a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7f422e80, sul=..., ptid=ptid@entry=0x7fe0a17f43c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7f422e80, sul=..., ptid=ptid@entry=0x7fe0a17f43c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7f422e80, ptid=0x7fe0a17f43c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb716a00, oid=..., o=0x7fe0f44d0380, pbl=pbl@entry=0x7fe0a17f47e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0a17f4760, oid="test1", o=o@entry=0x7fe0a17f4740, pbl=pbl@entry=0x7fe0a17f47e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7f481b18, pmtime=0x7fdf7f481b20, epoch=0x7fdf7f481b28, attrs=0x7fdf7f481f58, first_chunk=0x0, objv_tracker=0x7fe0a17f51e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a17f6620, obj=..., state=state@entry=0x7fe0a17f4aa8, objv_tracker=objv_tracker@entry=0x7fe0a17f51e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a17f6620, obj=..., state=state@entry=0x7fe0a17f4aa8, objv_tracker=objv_tracker@entry=0x7fe0a17f51e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0a17f63c8, lastmod=0x7fe0a17f5180, obj_size=0x0, objv_tracker=0x7fe0a17f51e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a17f4cb0, objv_tracker=objv_tracker@entry=0x7fe0a17f51e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0a17f51e0, pmtime=pmtime@entry=0x7fe0a17f5180, pattrs=pattrs@entry=0x7fe0a17f63c8, cache_info=cache_info@entry=0x7fe0a17f51b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0a17f51e0, pmtime=pmtime@entry=0x7fe0a17f5180, pattrs=pattrs@entry=0x7fe0a17f63c8, cache_info=cache_info@entry=0x7fe0a17f51b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0a17f63c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0a17f60e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b0128a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf787245c0, client_io=client_io@entry=0x7fe0a17f6710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf787245c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf787245c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019040) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 566 (Thread 0x7fe0a0ff7700 (LWP 136837)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0a0ff36c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0a0ff36c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0a0ff3898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0a0ff38c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0a0ff39d0, bucket=bucket@entry=0x7fe0a0ff3a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7f081518, pmtime=0x7fdf7f081520, epoch=0x7fdf7f081528, attrs=0x7fdf7f081958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a0ff44c0, obj=..., state=state@entry=0x7fe0a0ff3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a0ff44c0, obj=..., state=state@entry=0x7fe0a0ff3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0a0ff44b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a0ff3f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0a0ff44b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0a0ff50e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0a0ff50e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d340, client_io=client_io@entry=0x7fe0a0ff5710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d340) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d340) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70190a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 565 (Thread 0x7fe0a07f6700 (LWP 136838)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0a07f26c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0a07f26c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0a07f2898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0a07f28c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0a07f29d0, bucket=bucket@entry=0x7fe0a07f2a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7ec81b18, pmtime=0x7fdf7ec81b20, epoch=0x7fdf7ec81b28, attrs=0x7fdf7ec81f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0a07f34c0, obj=..., state=state@entry=0x7fe0a07f2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0a07f34c0, obj=..., state=state@entry=0x7fe0a07f2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0a07f34b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0a07f2f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0a07f34b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0a07f40e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0a07f40e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa800, client_io=client_io@entry=0x7fe0a07f4710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa800) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa800) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019100) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 564 (Thread 0x7fe09fff5700 (LWP 136839)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe09fff1950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf76488400, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe09fff1d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe09fff1ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe09fff21c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe09fff1d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe09fff23d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe09fff23d8, pmtime=pmtime@entry=0x7fe09fff24b0, pattrs=pattrs@entry=0x7fe09fff24b8, cache_info=cache_info@entry=0x7fe09fff21c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe09fff24b0, pattrs=pattrs@entry=0x7fe09fff24b8, cache_info=cache_info@entry=0x7fe09fff21c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe09fff33c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe09fff30e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cbce460) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a0e7c00, client_io=client_io@entry=0x7fe09fff3710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a0e7c00) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a0e7c00) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019160) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 563 (Thread 0x7fe09f7f4700 (LWP 136840)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe09f7f01a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe09f7f01a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7e40ef80, sul=..., ptid=ptid@entry=0x7fe09f7f03c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7e40ef80, sul=..., ptid=ptid@entry=0x7fe09f7f03c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7e40ef80, ptid=0x7fe09f7f03c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745be200, oid=..., o=0x7fe0f0dde080, pbl=pbl@entry=0x7fe09f7f07e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe09f7f0760, oid="test1", o=o@entry=0x7fe09f7f0740, pbl=pbl@entry=0x7fe09f7f07e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7e485518, pmtime=0x7fdf7e485520, epoch=0x7fdf7e485528, attrs=0x7fdf7e485958, first_chunk=0x0, objv_tracker=0x7fe09f7f11e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe09f7f2620, obj=..., state=state@entry=0x7fe09f7f0aa8, objv_tracker=objv_tracker@entry=0x7fe09f7f11e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe09f7f2620, obj=..., state=state@entry=0x7fe09f7f0aa8, objv_tracker=objv_tracker@entry=0x7fe09f7f11e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe09f7f23c8, lastmod=0x7fe09f7f1180, obj_size=0x0, objv_tracker=0x7fe09f7f11e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe09f7f0cb0, objv_tracker=objv_tracker@entry=0x7fe09f7f11e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe09f7f11e0, pmtime=pmtime@entry=0x7fe09f7f1180, pattrs=pattrs@entry=0x7fe09f7f23c8, cache_info=cache_info@entry=0x7fe09f7f11b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe09f7f11e0, pmtime=pmtime@entry=0x7fe09f7f1180, pattrs=pattrs@entry=0x7fe09f7f23c8, cache_info=cache_info@entry=0x7fe09f7f11b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe09f7f23c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe09f7f20e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c0e6080) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf797c27c0, client_io=client_io@entry=0x7fe09f7f2710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf797c27c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf797c27c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70191c0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 562 (Thread 0x7fe09eff3700 (LWP 136841)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe09efeede0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf74f76a00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe09efef010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe09efeef90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe09efeef70, pbl=pbl@entry=0x7fe09efef010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7dc81718, pmtime=0x7fdf7dc81720, epoch=0x7fdf7dc81728, attrs=0x7fdf7dc81b58, first_chunk=0x0, objv_tracker=0x7fe09efefab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe09efefb90, obj=..., state=state@entry=0x7fe09efef2d8, objv_tracker=objv_tracker@entry=0x7fe09efefab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe09efefb90, obj=..., state=state@entry=0x7fe09efef2d8, objv_tracker=objv_tracker@entry=0x7fe09efefab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe09efefab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe09efef4e0, objv_tracker=objv_tracker@entry=0x7fe09efefab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe09efefab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2273", bucket_obj=bucket_obj@entry=0x7fe09eff0210, shard_id=shard_id@entry=0x7fe09eff0200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe09eff01b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe09eff0120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe09eff0120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe09eff0500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf7de84800, etag=..., mtime=0x7fdf7dd53768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf7de84800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf7dd53400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a7ce880, client_io=client_io@entry=0x7fe09eff1710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a7ce880) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a7ce880) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019220) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 561 (Thread 0x7fe09e7f2700 (LWP 136842)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe09e7ee1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe09e7ee1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7d80e580, sul=..., ptid=ptid@entry=0x7fe09e7ee3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7d80e580, sul=..., ptid=ptid@entry=0x7fe09e7ee3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7d80e580, ptid=0x7fe09e7ee3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fd800, oid=..., o=0x7fdf7bd47700, pbl=pbl@entry=0x7fe09e7ee7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe09e7ee760, oid="test1", o=o@entry=0x7fe09e7ee740, pbl=pbl@entry=0x7fe09e7ee7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7d9b9b18, pmtime=0x7fdf7d9b9b20, epoch=0x7fdf7d9b9b28, attrs=0x7fdf7d9b9f58, first_chunk=0x0, objv_tracker=0x7fe09e7ef1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe09e7f0620, obj=..., state=state@entry=0x7fe09e7eeaa8, objv_tracker=objv_tracker@entry=0x7fe09e7ef1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe09e7f0620, obj=..., state=state@entry=0x7fe09e7eeaa8, objv_tracker=objv_tracker@entry=0x7fe09e7ef1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe09e7f03c8, lastmod=0x7fe09e7ef180, obj_size=0x0, objv_tracker=0x7fe09e7ef1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe09e7eecb0, objv_tracker=objv_tracker@entry=0x7fe09e7ef1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe09e7ef1e0, pmtime=pmtime@entry=0x7fe09e7ef180, pattrs=pattrs@entry=0x7fe09e7f03c8, cache_info=cache_info@entry=0x7fe09e7ef1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe09e7ef1e0, pmtime=pmtime@entry=0x7fe09e7ef180, pattrs=pattrs@entry=0x7fe09e7f03c8, cache_info=cache_info@entry=0x7fe09e7ef1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe09e7f03c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe09e7f00e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7ca89d00) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722cc80, client_io=client_io@entry=0x7fe09e7f0710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722cc80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722cc80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019280) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 560 (Thread 0x7fe09dff1700 (LWP 136843)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe09dfed6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe09dfed6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe09dfed898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe09dfed8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe09dfed9d0, bucket=bucket@entry=0x7fe09dfeda20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7d485b18, pmtime=0x7fdf7d485b20, epoch=0x7fdf7d485b28, attrs=0x7fdf7d485f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe09dfee4c0, obj=..., state=state@entry=0x7fe09dfedd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe09dfee4c0, obj=..., state=state@entry=0x7fe09dfedd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe09dfee4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe09dfedf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe09dfee4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe09dfef0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe09dfef0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc880, client_io=client_io@entry=0x7fe09dfef710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc880) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc880) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70192e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 559 (Thread 0x7fe09d7f0700 (LWP 136844)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe09d7ec6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe09d7ec6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe09d7ec898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe09d7ec8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe09d7ec9d0, bucket=bucket@entry=0x7fe09d7eca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7d081b18, pmtime=0x7fdf7d081b20, epoch=0x7fdf7d081b28, attrs=0x7fdf7d081f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe09d7ed4c0, obj=..., state=state@entry=0x7fe09d7ecd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe09d7ed4c0, obj=..., state=state@entry=0x7fe09d7ecd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe09d7ed4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe09d7ecf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe09d7ed4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe09d7ee0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe09d7ee0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd300, client_io=client_io@entry=0x7fe09d7ee710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd300) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd300) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019340) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 558 (Thread 0x7fe09cfef700 (LWP 136845)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe09cfeade0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d85200, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe09cfeb010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe09cfeaf90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe09cfeaf70, pbl=pbl@entry=0x7fe09cfeb010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7cc82718, pmtime=0x7fdf7cc82720, epoch=0x7fdf7cc82728, attrs=0x7fdf7cc82b58, first_chunk=0x0, objv_tracker=0x7fe09cfebab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe09cfebb90, obj=..., state=state@entry=0x7fe09cfeb2d8, objv_tracker=objv_tracker@entry=0x7fe09cfebab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe09cfebb90, obj=..., state=state@entry=0x7fe09cfeb2d8, objv_tracker=objv_tracker@entry=0x7fe09cfebab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe09cfebab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe09cfeb4e0, objv_tracker=objv_tracker@entry=0x7fe09cfebab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe09cfebab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2265", bucket_obj=bucket_obj@entry=0x7fe09cfec210, shard_id=shard_id@entry=0x7fe09cfec200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe09cfec1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe09cfec120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe09cfec120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe09cfec500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf7ce1ea00, etag=..., mtime=0x7fdf7cee8768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf7ce1ea00, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf7cee8400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ba9af00, client_io=client_io@entry=0x7fe09cfed710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ba9af00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ba9af00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70193a0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 557 (Thread 0x7fe09c7ee700 (LWP 136846)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe09c7ea6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe09c7ea6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe09c7ea898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe09c7ea8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe09c7ea9d0, bucket=bucket@entry=0x7fe09c7eaa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0faea7518, pmtime=0x7fe0faea7520, epoch=0x7fe0faea7528, attrs=0x7fe0faea7958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe09c7eb4c0, obj=..., state=state@entry=0x7fe09c7ead28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe09c7eb4c0, obj=..., state=state@entry=0x7fe09c7ead28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe09c7eb4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe09c7eaf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe09c7eb4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe09c7ec0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe09c7ec0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dcc80, client_io=client_io@entry=0x7fe09c7ec710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dcc80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dcc80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019400) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 556 (Thread 0x7fe09bfed700 (LWP 136847)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe09bfe9650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733be600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe09bfe9880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe09bfe9800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe09bfe97e0, pbl=pbl@entry=0x7fe09bfe9880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f7c91b18, pmtime=0x7fe0f7c91b20, epoch=0x7fe0f7c91b28, attrs=0x7fe0f7c91f58, first_chunk=0x0, objv_tracker=0x7fe09bfea3d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe09bfeb620, obj=..., state=state@entry=0x7fe09bfe9b48, objv_tracker=objv_tracker@entry=0x7fe09bfea3d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe09bfeb620, obj=..., state=state@entry=0x7fe09bfe9b48, objv_tracker=objv_tracker@entry=0x7fe09bfea3d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe09bfea4b8, lastmod=0x7fe09bfea4b0, obj_size=0x0, objv_tracker=0x7fe09bfea3d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe09bfe9d50, objv_tracker=objv_tracker@entry=0x7fe09bfea3d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe09bfea3d8, pmtime=pmtime@entry=0x7fe09bfea4b0, pattrs=pattrs@entry=0x7fe09bfea4b8, cache_info=cache_info@entry=0x7fe09bfea1c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe09bfea4b0, pattrs=pattrs@entry=0x7fe09bfea4b8, cache_info=cache_info@entry=0x7fe09bfea1c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe09bfeb3c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe09bfeb0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cbcd9a0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35aa00, client_io=client_io@entry=0x7fe09bfeb710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35aa00) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35aa00) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019460) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 555 (Thread 0x7fe09b7ec700 (LWP 136848)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe09b7e86c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe09b7e86c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe09b7e8898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe09b7e88c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe09b7e89d0, bucket=bucket@entry=0x7fe09b7e8a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f44a6518, pmtime=0x7fe0f44a6520, epoch=0x7fe0f44a6528, attrs=0x7fe0f44a6958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe09b7e94c0, obj=..., state=state@entry=0x7fe09b7e8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe09b7e94c0, obj=..., state=state@entry=0x7fe09b7e8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe09b7e94b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe09b7e8f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe09b7e94b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe09b7ea0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe09b7ea0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce88c0, client_io=client_io@entry=0x7fe09b7ea710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce88c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce88c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70194c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 554 (Thread 0x7fe09afeb700 (LWP 136849)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe09afe76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe09afe76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe09afe7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe09afe78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe09afe79d0, bucket=bucket@entry=0x7fe09afe7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f40bb518, pmtime=0x7fe0f40bb520, epoch=0x7fe0f40bb528, attrs=0x7fe0f40bb958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe09afe84c0, obj=..., state=state@entry=0x7fe09afe7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe09afe84c0, obj=..., state=state@entry=0x7fe09afe7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe09afe84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe09afe7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe09afe84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe09afe90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe09afe90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc500, client_io=client_io@entry=0x7fe09afe9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc500) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc500) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019520) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 553 (Thread 0x7fe09a7ea700 (LWP 136850)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe09a7e61a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe09a7e61a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f3c30200, sul=..., ptid=ptid@entry=0x7fe09a7e63c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f3c30200, sul=..., ptid=ptid@entry=0x7fe09a7e63c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0f3c30200, ptid=0x7fe09a7e63c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c8800, oid=..., o=0x7fe0d04d0800, pbl=pbl@entry=0x7fe09a7e67e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe09a7e6760, oid="test1", o=o@entry=0x7fe09a7e6740, pbl=pbl@entry=0x7fe09a7e67e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f3ca7b18, pmtime=0x7fe0f3ca7b20, epoch=0x7fe0f3ca7b28, attrs=0x7fe0f3ca7f58, first_chunk=0x0, objv_tracker=0x7fe09a7e71e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe09a7e8620, obj=..., state=state@entry=0x7fe09a7e6aa8, objv_tracker=objv_tracker@entry=0x7fe09a7e71e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe09a7e8620, obj=..., state=state@entry=0x7fe09a7e6aa8, objv_tracker=objv_tracker@entry=0x7fe09a7e71e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe09a7e83c8, lastmod=0x7fe09a7e7180, obj_size=0x0, objv_tracker=0x7fe09a7e71e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe09a7e6cb0, objv_tracker=objv_tracker@entry=0x7fe09a7e71e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe09a7e71e0, pmtime=pmtime@entry=0x7fe09a7e7180, pattrs=pattrs@entry=0x7fe09a7e83c8, cache_info=cache_info@entry=0x7fe09a7e71b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe09a7e71e0, pmtime=pmtime@entry=0x7fe09a7e7180, pattrs=pattrs@entry=0x7fe09a7e83c8, cache_info=cache_info@entry=0x7fe09a7e71b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe09a7e83c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe09a7e80e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7caa5c00) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b3570c0, client_io=client_io@entry=0x7fe09a7e8710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b3570c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b3570c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019580) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 552 (Thread 0x7fe099fe9700 (LWP 136851)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe099fe5650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0e9ce8000, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe099fe5880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe099fe5800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe099fe57e0, pbl=pbl@entry=0x7fe099fe5880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f148db18, pmtime=0x7fe0f148db20, epoch=0x7fe0f148db28, attrs=0x7fe0f148df58, first_chunk=0x0, objv_tracker=0x7fe099fe63d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe099fe7620, obj=..., state=state@entry=0x7fe099fe5b48, objv_tracker=objv_tracker@entry=0x7fe099fe63d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe099fe7620, obj=..., state=state@entry=0x7fe099fe5b48, objv_tracker=objv_tracker@entry=0x7fe099fe63d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe099fe64b8, lastmod=0x7fe099fe64b0, obj_size=0x0, objv_tracker=0x7fe099fe63d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe099fe5d50, objv_tracker=objv_tracker@entry=0x7fe099fe63d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe099fe63d8, pmtime=pmtime@entry=0x7fe099fe64b0, pattrs=pattrs@entry=0x7fe099fe64b8, cache_info=cache_info@entry=0x7fe099fe61c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe099fe64b0, pattrs=pattrs@entry=0x7fe099fe64b8, cache_info=cache_info@entry=0x7fe099fe61c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe099fe73c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe099fe70e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c178a00) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c37b700, client_io=client_io@entry=0x7fe099fe7710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c37b700) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c37b700) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70195e0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 551 (Thread 0x7fe0997e8700 (LWP 136852)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0997e46c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0997e46c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0997e4898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0997e48c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0997e49d0, bucket=bucket@entry=0x7fe0997e4a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f10a1b18, pmtime=0x7fe0f10a1b20, epoch=0x7fe0f10a1b28, attrs=0x7fe0f10a1f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0997e54c0, obj=..., state=state@entry=0x7fe0997e4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0997e54c0, obj=..., state=state@entry=0x7fe0997e4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0997e54b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0997e4f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0997e54b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0997e60e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0997e60e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8e80, client_io=client_io@entry=0x7fe0997e6710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8e80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8e80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019640) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 550 (Thread 0x7fe098fe7700 (LWP 136853)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe098fe36c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe098fe36c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe098fe3898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe098fe38c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe098fe39d0, bucket=bucket@entry=0x7fe098fe3a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f0cd2b18, pmtime=0x7fe0f0cd2b20, epoch=0x7fe0f0cd2b28, attrs=0x7fe0f0cd2f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe098fe44c0, obj=..., state=state@entry=0x7fe098fe3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe098fe44c0, obj=..., state=state@entry=0x7fe098fe3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe098fe44b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe098fe3f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe098fe44b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe098fe50e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe098fe50e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa0c0, client_io=client_io@entry=0x7fe098fe5710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa0c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa0c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70196a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 549 (Thread 0x7fe0987e6700 (LWP 136854)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0987e26c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0987e26c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0987e2898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0987e28c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0987e29d0, bucket=bucket@entry=0x7fe0987e2a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f08a2b18, pmtime=0x7fe0f08a2b20, epoch=0x7fe0f08a2b28, attrs=0x7fe0f08a2f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0987e34c0, obj=..., state=state@entry=0x7fe0987e2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0987e34c0, obj=..., state=state@entry=0x7fe0987e2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0987e34b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0987e2f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0987e34b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0987e40e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0987e40e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc400, client_io=client_io@entry=0x7fe0987e4710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc400) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc400) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019700) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 548 (Thread 0x7fe097fe5700 (LWP 136855)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe097fe23c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe097fe23c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4ba98 "FUTIAN_MASTER.rgw.users.uid") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4ba98 "FUTIAN_MASTER.rgw.users.uid", io=io@entry=0x7fe097fe2598) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe097fe25c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.uid", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe097fe26b0, bucket=bucket@entry=0x7fe097fe26d0) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baaecb8 in RGWRados::cls_user_list_buckets (this=this@entry=0x7fe0fad50c00, obj=..., in_marker="", end_marker="", max_entries=max_entries@entry=1000, entries=empty std::list, out_marker=out_marker@entry=0x7fe097fe2850, truncated=truncated@entry=0x7fe097fe283c) at rgw/rgw_rados.cc:12292
#15 0x00007fe10b993449 in rgw_read_user_buckets (store=0x7fe0fad50c00, user_id=..., buckets=..., marker="", end_marker="", max=max@entry=1000, need_stats=false, is_truncated=is_truncated@entry=0x7fe0f040e600, default_amount=default_amount@entry=1000) at rgw/rgw_bucket.cc:130
#16 0x00007fe10ba531ff in RGWListBuckets::execute (this=0x7fe0f040e500) at rgw/rgw_op.cc:1510
#17 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8700, client_io=client_io@entry=0x7fe097fe3710, olog=0x0) at rgw/rgw_process.cc:174
#18 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8700) at rgw/rgw_fcgi_process.cc:121
#19 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8700) at rgw/rgw_process.h:84
#20 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019760) at common/WorkQueue.cc:128
#21 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#22 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#23 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 547 (Thread 0x7fe0977e4700 (LWP 136856)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0977e01a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0977e01a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f0056a80, sul=..., ptid=ptid@entry=0x7fe0977e03c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f0056a80, sul=..., ptid=ptid@entry=0x7fe0977e03c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0f0056a80, ptid=0x7fe0977e03c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf74411400, oid=..., o=0x7fe0f0d7ad00, pbl=pbl@entry=0x7fe0977e07e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0977e0760, oid="test1", o=o@entry=0x7fe0977e0740, pbl=pbl@entry=0x7fe0977e07e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f00a3518, pmtime=0x7fe0f00a3520, epoch=0x7fe0f00a3528, attrs=0x7fe0f00a3958, first_chunk=0x0, objv_tracker=0x7fe0977e11e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0977e2620, obj=..., state=state@entry=0x7fe0977e0aa8, objv_tracker=objv_tracker@entry=0x7fe0977e11e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0977e2620, obj=..., state=state@entry=0x7fe0977e0aa8, objv_tracker=objv_tracker@entry=0x7fe0977e11e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0977e23c8, lastmod=0x7fe0977e1180, obj_size=0x0, objv_tracker=0x7fe0977e11e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0977e0cb0, objv_tracker=objv_tracker@entry=0x7fe0977e11e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0977e11e0, pmtime=pmtime@entry=0x7fe0977e1180, pattrs=pattrs@entry=0x7fe0977e23c8, cache_info=cache_info@entry=0x7fe0977e11b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0977e11e0, pmtime=pmtime@entry=0x7fe0977e1180, pattrs=pattrs@entry=0x7fe0977e23c8, cache_info=cache_info@entry=0x7fe0977e11b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0977e23c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0977e20e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bc51c60) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c72b25c0, client_io=client_io@entry=0x7fe0977e2710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c72b25c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c72b25c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70197c0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 546 (Thread 0x7fe096fe3700 (LWP 136857)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe096fdf6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe096fdf6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe096fdf898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe096fdf8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe096fdf9d0, bucket=bucket@entry=0x7fe096fdfa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0efcbeb18, pmtime=0x7fe0efcbeb20, epoch=0x7fe0efcbeb28, attrs=0x7fe0efcbef58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe096fe04c0, obj=..., state=state@entry=0x7fe096fdfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe096fe04c0, obj=..., state=state@entry=0x7fe096fdfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe096fe04b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe096fdff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe096fe04b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe096fe10e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe096fe10e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dcf80, client_io=client_io@entry=0x7fe096fe1710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dcf80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dcf80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019820) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 545 (Thread 0x7fe0967e2700 (LWP 136858)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0967de6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0967de6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0967de898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0967de8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0967de9d0, bucket=bucket@entry=0x7fe0967dea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ef8a8518, pmtime=0x7fe0ef8a8520, epoch=0x7fe0ef8a8528, attrs=0x7fe0ef8a8958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0967df4c0, obj=..., state=state@entry=0x7fe0967ded28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0967df4c0, obj=..., state=state@entry=0x7fe0967ded28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0967df4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0967def30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0967df4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0967e00e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0967e00e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8fc80, client_io=client_io@entry=0x7fe0967e0710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8fc80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8fc80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019880) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 544 (Thread 0x7fe095fe1700 (LWP 136859)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe095fdcde0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0ec82b600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe095fdd010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe095fdcf90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe095fdcf70, pbl=pbl@entry=0x7fe095fdd010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ef42f318, pmtime=0x7fe0ef42f320, epoch=0x7fe0ef42f328, attrs=0x7fe0ef42f758, first_chunk=0x0, objv_tracker=0x7fe095fddab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe095fddb90, obj=..., state=state@entry=0x7fe095fdd2d8, objv_tracker=objv_tracker@entry=0x7fe095fddab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe095fddb90, obj=..., state=state@entry=0x7fe095fdd2d8, objv_tracker=objv_tracker@entry=0x7fe095fddab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe095fddab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe095fdd4e0, objv_tracker=objv_tracker@entry=0x7fe095fddab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe095fddab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2260", bucket_obj=bucket_obj@entry=0x7fe095fde210, shard_id=shard_id@entry=0x7fe095fde200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe095fde1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe095fde120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe095fde120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe095fde500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf79236600, etag=..., mtime=0x7fdf76679368, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf79236600, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf76679000) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ab857c0, client_io=client_io@entry=0x7fe095fdf710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ab857c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ab857c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70198e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 543 (Thread 0x7fe0957e0700 (LWP 136860)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0957dc6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0957dc6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0957dc898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0957dc8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0957dc9d0, bucket=bucket@entry=0x7fe0957dca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0eeca2518, pmtime=0x7fe0eeca2520, epoch=0x7fe0eeca2528, attrs=0x7fe0eeca2958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0957dd4c0, obj=..., state=state@entry=0x7fe0957dcd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0957dd4c0, obj=..., state=state@entry=0x7fe0957dcd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0957dd4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0957dcf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0957dd4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0957de0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0957de0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f700, client_io=client_io@entry=0x7fe0957de710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f700) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f700) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019940) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 542 (Thread 0x7fe094fdf700 (LWP 136861)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe094fdb6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe094fdb6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe094fdb898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe094fdb8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe094fdb9d0, bucket=bucket@entry=0x7fe094fdba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ee8d5b18, pmtime=0x7fe0ee8d5b20, epoch=0x7fe0ee8d5b28, attrs=0x7fe0ee8d5f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe094fdc4c0, obj=..., state=state@entry=0x7fe094fdbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe094fdc4c0, obj=..., state=state@entry=0x7fe094fdbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe094fdc4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe094fdbf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe094fdc4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe094fdd0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe094fdd0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8ec0, client_io=client_io@entry=0x7fe094fdd710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8ec0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8ec0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70199a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 541 (Thread 0x7fe0947de700 (LWP 136862)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0947da1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0947da1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ee458600, sul=..., ptid=ptid@entry=0x7fe0947da3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ee458600, sul=..., ptid=ptid@entry=0x7fe0947da3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ee458600, ptid=0x7fe0947da3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7f9200, oid=..., o=0x7fdf55c68a00, pbl=pbl@entry=0x7fe0947da7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0947da760, oid="test1", o=o@entry=0x7fe0947da740, pbl=pbl@entry=0x7fe0947da7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ee4a3518, pmtime=0x7fe0ee4a3520, epoch=0x7fe0ee4a3528, attrs=0x7fe0ee4a3958, first_chunk=0x0, objv_tracker=0x7fe0947db1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0947dc620, obj=..., state=state@entry=0x7fe0947daaa8, objv_tracker=objv_tracker@entry=0x7fe0947db1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0947dc620, obj=..., state=state@entry=0x7fe0947daaa8, objv_tracker=objv_tracker@entry=0x7fe0947db1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0947dc3c8, lastmod=0x7fe0947db180, obj_size=0x0, objv_tracker=0x7fe0947db1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0947dacb0, objv_tracker=objv_tracker@entry=0x7fe0947db1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0947db1e0, pmtime=pmtime@entry=0x7fe0947db180, pattrs=pattrs@entry=0x7fe0947dc3c8, cache_info=cache_info@entry=0x7fe0947db1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0947db1e0, pmtime=pmtime@entry=0x7fe0947db180, pattrs=pattrs@entry=0x7fe0947dc3c8, cache_info=cache_info@entry=0x7fe0947db1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0947dc3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0947dc0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7be45960) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7603aec0, client_io=client_io@entry=0x7fe0947dc710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7603aec0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7603aec0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019a00) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 540 (Thread 0x7fe093fdd700 (LWP 136863)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe093fd9120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe093fd9120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0edc88880, sul=..., ptid=ptid@entry=0x7fe093fd9348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0edc88880, sul=..., ptid=ptid@entry=0x7fe093fd9348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0edc88880, ptid=0x7fe093fd9348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf55e25400, oid=..., o=0x7fdf55d62c00, pbl=pbl@entry=0x7fe093fd9760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe093fd96e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fe093fd96c0, pbl=pbl@entry=0x7fe093fd9760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0edcd7b18, pmtime=0x7fe0edcd7b20, epoch=0x7fe0edcd7b28, attrs=0x7fe0edcd7f58, first_chunk=0x0, objv_tracker=0x7fe093fda498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe093fd9ff0, obj=..., state=state@entry=0x7fe093fd9a28, objv_tracker=objv_tracker@entry=0x7fe093fda498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe093fd9ff0, obj=..., state=state@entry=0x7fe093fd9a28, objv_tracker=objv_tracker@entry=0x7fe093fda498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe093fda498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe093fd9c30, objv_tracker=objv_tracker@entry=0x7fe093fda498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fe093fda498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe093fda150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe093fda498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe093fda150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe093fdb0e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe093fdb0e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357740, client_io=client_io@entry=0x7fe093fdb710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357740) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357740) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019a60) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 539 (Thread 0x7fe0937dc700 (LWP 136864)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0937d86c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0937d86c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0937d8898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0937d88c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0937d89d0, bucket=bucket@entry=0x7fe0937d8a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ed8a7518, pmtime=0x7fe0ed8a7520, epoch=0x7fe0ed8a7528, attrs=0x7fe0ed8a7958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0937d94c0, obj=..., state=state@entry=0x7fe0937d8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0937d94c0, obj=..., state=state@entry=0x7fe0937d8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0937d94b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0937d8f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0937d94b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0937da0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0937da0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d540, client_io=client_io@entry=0x7fe0937da710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d540) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d540) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019ac0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 538 (Thread 0x7fe092fdb700 (LWP 136865)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe092fd76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe092fd76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe092fd7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe092fd78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe092fd79d0, bucket=bucket@entry=0x7fe092fd7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ed4c3b18, pmtime=0x7fe0ed4c3b20, epoch=0x7fe0ed4c3b28, attrs=0x7fe0ed4c3f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe092fd84c0, obj=..., state=state@entry=0x7fe092fd7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe092fd84c0, obj=..., state=state@entry=0x7fe092fd7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe092fd84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe092fd7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe092fd84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe092fd90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe092fd90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb1c0, client_io=client_io@entry=0x7fe092fd9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb1c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb1c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019b20) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 537 (Thread 0x7fe0927da700 (LWP 136866)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0927d66c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0927d66c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0927d6898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0927d68c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0927d69d0, bucket=bucket@entry=0x7fe0927d6a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ecca6518, pmtime=0x7fe0ecca6520, epoch=0x7fe0ecca6528, attrs=0x7fe0ecca6958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0927d74c0, obj=..., state=state@entry=0x7fe0927d6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0927d74c0, obj=..., state=state@entry=0x7fe0927d6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0927d74b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0927d6f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0927d74b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0927d80e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0927d80e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d240, client_io=client_io@entry=0x7fe0927d8710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d240) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d240) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019b80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 536 (Thread 0x7fe091fd9700 (LWP 136867)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe091fd56c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe091fd56c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe091fd5898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe091fd58c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe091fd59d0, bucket=bucket@entry=0x7fe091fd5a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ec8f0518, pmtime=0x7fe0ec8f0520, epoch=0x7fe0ec8f0528, attrs=0x7fe0ec8f0958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe091fd64c0, obj=..., state=state@entry=0x7fe091fd5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe091fd64c0, obj=..., state=state@entry=0x7fe091fd5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe091fd64b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe091fd5f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe091fd64b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe091fd70e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe091fd70e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdbdc0, client_io=client_io@entry=0x7fe091fd7710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdbdc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdbdc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019be0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 535 (Thread 0x7fe0917d8700 (LWP 136868)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0917d46c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0917d46c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0917d4898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0917d48c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0917d49d0, bucket=bucket@entry=0x7fe0917d4a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ec4a2b18, pmtime=0x7fe0ec4a2b20, epoch=0x7fe0ec4a2b28, attrs=0x7fe0ec4a2f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0917d54c0, obj=..., state=state@entry=0x7fe0917d4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0917d54c0, obj=..., state=state@entry=0x7fe0917d4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0917d54b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0917d4f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0917d54b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0917d60e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0917d60e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd340, client_io=client_io@entry=0x7fe0917d6710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd340) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd340) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019c40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 534 (Thread 0x7fe090fd7700 (LWP 136869)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe090fd36c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe090fd36c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe090fd3898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe090fd38c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe090fd39d0, bucket=bucket@entry=0x7fe090fd3a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ebce2b18, pmtime=0x7fe0ebce2b20, epoch=0x7fe0ebce2b28, attrs=0x7fe0ebce2f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe090fd44c0, obj=..., state=state@entry=0x7fe090fd3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe090fd44c0, obj=..., state=state@entry=0x7fe090fd3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe090fd44b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe090fd3f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe090fd44b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe090fd50e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe090fd50e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd580, client_io=client_io@entry=0x7fe090fd5710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd580) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd580) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019ca0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 533 (Thread 0x7fe0907d6700 (LWP 136870)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0907d2950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73379000, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe0907d2d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0907d2ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe0907d31c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe0907d2d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe0907d33d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0907d33d8, pmtime=pmtime@entry=0x7fe0907d34b0, pattrs=pattrs@entry=0x7fe0907d34b8, cache_info=cache_info@entry=0x7fe0907d31c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe0907d34b0, pattrs=pattrs@entry=0x7fe0907d34b8, cache_info=cache_info@entry=0x7fe0907d31c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0907d43c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0907d40e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b25f300) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf76efbd80, client_io=client_io@entry=0x7fe0907d4710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf76efbd80) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf76efbd80) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019d00) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 532 (Thread 0x7fe08ffd5700 (LWP 136871)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe08ffd11a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe08ffd11a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eb468080, sul=..., ptid=ptid@entry=0x7fe08ffd13c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eb468080, sul=..., ptid=ptid@entry=0x7fe08ffd13c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0eb468080, ptid=0x7fe08ffd13c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fac00, oid=..., o=0x7fdf55c50580, pbl=pbl@entry=0x7fe08ffd17e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe08ffd1760, oid="test1", o=o@entry=0x7fe08ffd1740, pbl=pbl@entry=0x7fe08ffd17e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0eb4f3518, pmtime=0x7fe0eb4f3520, epoch=0x7fe0eb4f3528, attrs=0x7fe0eb4f3958, first_chunk=0x0, objv_tracker=0x7fe08ffd21e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe08ffd3620, obj=..., state=state@entry=0x7fe08ffd1aa8, objv_tracker=objv_tracker@entry=0x7fe08ffd21e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe08ffd3620, obj=..., state=state@entry=0x7fe08ffd1aa8, objv_tracker=objv_tracker@entry=0x7fe08ffd21e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe08ffd33c8, lastmod=0x7fe08ffd2180, obj_size=0x0, objv_tracker=0x7fe08ffd21e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe08ffd1cb0, objv_tracker=objv_tracker@entry=0x7fe08ffd21e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe08ffd21e0, pmtime=pmtime@entry=0x7fe08ffd2180, pattrs=pattrs@entry=0x7fe08ffd33c8, cache_info=cache_info@entry=0x7fe08ffd21b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe08ffd21e0, pmtime=pmtime@entry=0x7fe08ffd2180, pattrs=pattrs@entry=0x7fe08ffd33c8, cache_info=cache_info@entry=0x7fe08ffd21b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe08ffd33c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe08ffd30e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c124780) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b4a3e00, client_io=client_io@entry=0x7fe08ffd3710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b4a3e00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b4a3e00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019d60) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 531 (Thread 0x7fe08f7d4700 (LWP 136872)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe08f7d06c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe08f7d06c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe08f7d0898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe08f7d08c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe08f7d09d0, bucket=bucket@entry=0x7fe08f7d0a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0eaca3b18, pmtime=0x7fe0eaca3b20, epoch=0x7fe0eaca3b28, attrs=0x7fe0eaca3f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe08f7d14c0, obj=..., state=state@entry=0x7fe08f7d0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe08f7d14c0, obj=..., state=state@entry=0x7fe08f7d0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe08f7d14b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe08f7d0f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe08f7d14b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe08f7d20e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe08f7d20e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc680, client_io=client_io@entry=0x7fe08f7d2710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc680) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc680) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019dc0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 530 (Thread 0x7fe08efd3700 (LWP 136873)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe08efcf6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe08efcf6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe08efcf898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe08efcf8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe08efcf9d0, bucket=bucket@entry=0x7fe08efcfa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ea8cd518, pmtime=0x7fe0ea8cd520, epoch=0x7fe0ea8cd528, attrs=0x7fe0ea8cd958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe08efd04c0, obj=..., state=state@entry=0x7fe08efcfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe08efd04c0, obj=..., state=state@entry=0x7fe08efcfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe08efd04b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe08efcff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe08efd04b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe08efd10e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe08efd10e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8500, client_io=client_io@entry=0x7fe08efd1710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8500) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8500) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019e20) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 529 (Thread 0x7fe08e7d2700 (LWP 136874)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe08e7ce1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe08e7ce1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ea430580, sul=..., ptid=ptid@entry=0x7fe08e7ce3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ea430580, sul=..., ptid=ptid@entry=0x7fe08e7ce3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ea430580, ptid=0x7fe08e7ce3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c6000, oid=..., o=0x7fdf89869600, pbl=pbl@entry=0x7fe08e7ce7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe08e7ce760, oid="test1", o=o@entry=0x7fe08e7ce740, pbl=pbl@entry=0x7fe08e7ce7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ea4a3518, pmtime=0x7fe0ea4a3520, epoch=0x7fe0ea4a3528, attrs=0x7fe0ea4a3958, first_chunk=0x0, objv_tracker=0x7fe08e7cf1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe08e7d0620, obj=..., state=state@entry=0x7fe08e7ceaa8, objv_tracker=objv_tracker@entry=0x7fe08e7cf1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe08e7d0620, obj=..., state=state@entry=0x7fe08e7ceaa8, objv_tracker=objv_tracker@entry=0x7fe08e7cf1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe08e7d03c8, lastmod=0x7fe08e7cf180, obj_size=0x0, objv_tracker=0x7fe08e7cf1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe08e7cecb0, objv_tracker=objv_tracker@entry=0x7fe08e7cf1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe08e7cf1e0, pmtime=pmtime@entry=0x7fe08e7cf180, pattrs=pattrs@entry=0x7fe08e7d03c8, cache_info=cache_info@entry=0x7fe08e7cf1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe08e7cf1e0, pmtime=pmtime@entry=0x7fe08e7cf180, pattrs=pattrs@entry=0x7fe08e7d03c8, cache_info=cache_info@entry=0x7fe08e7cf1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe08e7d03c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe08e7d00e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bf00700) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868300, client_io=client_io@entry=0x7fe08e7d0710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868300) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868300) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019e80) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 528 (Thread 0x7fe08dfd1700 (LWP 136875)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe08dfcd6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe08dfcd6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe08dfcd898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe08dfcd8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe08dfcd9d0, bucket=bucket@entry=0x7fe08dfcda20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0e9cd5518, pmtime=0x7fe0e9cd5520, epoch=0x7fe0e9cd5528, attrs=0x7fe0e9cd5958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe08dfce4c0, obj=..., state=state@entry=0x7fe08dfcdd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe08dfce4c0, obj=..., state=state@entry=0x7fe08dfcdd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe08dfce4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe08dfcdf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe08dfce4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe08dfcf0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe08dfcf0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f900, client_io=client_io@entry=0x7fe08dfcf710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f900) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f900) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019ee0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 527 (Thread 0x7fe08d7d0700 (LWP 136876)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe08d7cc1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe08d7cc1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0e7c34e80, sul=..., ptid=ptid@entry=0x7fe08d7cc3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0e7c34e80, sul=..., ptid=ptid@entry=0x7fe08d7cc3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0e7c34e80, ptid=0x7fe08d7cc3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745bec00, oid=..., o=0x7fe0cdc85a80, pbl=pbl@entry=0x7fe08d7cc7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe08d7cc760, oid="test1", o=o@entry=0x7fe08d7cc740, pbl=pbl@entry=0x7fe08d7cc7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0e7cebb18, pmtime=0x7fe0e7cebb20, epoch=0x7fe0e7cebb28, attrs=0x7fe0e7cebf58, first_chunk=0x0, objv_tracker=0x7fe08d7cd1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe08d7ce620, obj=..., state=state@entry=0x7fe08d7ccaa8, objv_tracker=objv_tracker@entry=0x7fe08d7cd1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe08d7ce620, obj=..., state=state@entry=0x7fe08d7ccaa8, objv_tracker=objv_tracker@entry=0x7fe08d7cd1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe08d7ce3c8, lastmod=0x7fe08d7cd180, obj_size=0x0, objv_tracker=0x7fe08d7cd1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe08d7cccb0, objv_tracker=objv_tracker@entry=0x7fe08d7cd1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe08d7cd1e0, pmtime=pmtime@entry=0x7fe08d7cd180, pattrs=pattrs@entry=0x7fe08d7ce3c8, cache_info=cache_info@entry=0x7fe08d7cd1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe08d7cd1e0, pmtime=pmtime@entry=0x7fe08d7cd180, pattrs=pattrs@entry=0x7fe08d7ce3c8, cache_info=cache_info@entry=0x7fe08d7cd1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe08d7ce3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe08d7ce0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7ab4a800) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a95fb00, client_io=client_io@entry=0x7fe08d7ce710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a95fb00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a95fb00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019f40) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 526 (Thread 0x7fe08cfcf700 (LWP 136877)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe08cfcb5b0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7653c200, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe08cfcb7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe08cfcb760, oid="test1", o=o@entry=0x7fe08cfcb740, pbl=pbl@entry=0x7fe08cfcb7e0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0e7a00518, pmtime=0x7fe0e7a00520, epoch=0x7fe0e7a00528, attrs=0x7fe0e7a00958, first_chunk=0x0, objv_tracker=0x7fe08cfcc1e0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe08cfcd620, obj=..., state=state@entry=0x7fe08cfcbaa8, objv_tracker=objv_tracker@entry=0x7fe08cfcc1e0) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe08cfcd620, obj=..., state=state@entry=0x7fe08cfcbaa8, objv_tracker=objv_tracker@entry=0x7fe08cfcc1e0) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe08cfcd3c8, lastmod=0x7fe08cfcc180, obj_size=0x0, objv_tracker=0x7fe08cfcc1e0) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe08cfcbcb0, objv_tracker=objv_tracker@entry=0x7fe08cfcc1e0) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe08cfcc1e0, pmtime=pmtime@entry=0x7fe08cfcc180, pattrs=pattrs@entry=0x7fe08cfcd3c8, cache_info=cache_info@entry=0x7fe08cfcc1b0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe08cfcc1e0, pmtime=pmtime@entry=0x7fe08cfcc180, pattrs=pattrs@entry=0x7fe08cfcd3c8, cache_info=cache_info@entry=0x7fe08cfcc1b0) at rgw/rgw_rados.cc:10991
#11 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe08cfcd3c8) at rgw/rgw_rados.cc:11066
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe08cfcd0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b71cc40) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c3558c0, client_io=client_io@entry=0x7fe08cfcd710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c3558c0) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c3558c0) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7019fa0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 525 (Thread 0x7fe08c7ce700 (LWP 136878)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe08c7ca6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe08c7ca6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe08c7ca898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe08c7ca8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe08c7ca9d0, bucket=bucket@entry=0x7fe08c7caa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d68b6518, pmtime=0x7fe0d68b6520, epoch=0x7fe0d68b6528, attrs=0x7fe0d68b6958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe08c7cb4c0, obj=..., state=state@entry=0x7fe08c7cad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe08c7cb4c0, obj=..., state=state@entry=0x7fe08c7cad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe08c7cb4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe08c7caf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe08c7cb4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe08c7cc0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe08c7cc0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa240, client_io=client_io@entry=0x7fe08c7cc710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa240) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa240) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023040) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 524 (Thread 0x7fe08bfcd700 (LWP 136879)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe08bfc96c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe08bfc96c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe08bfc9898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe08bfc98c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe08bfc99d0, bucket=bucket@entry=0x7fe08bfc9a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d58b9b18, pmtime=0x7fe0d58b9b20, epoch=0x7fe0d58b9b28, attrs=0x7fe0d58b9f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe08bfca4c0, obj=..., state=state@entry=0x7fe08bfc9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe08bfca4c0, obj=..., state=state@entry=0x7fe08bfc9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe08bfca4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe08bfc9f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe08bfca4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe08bfcb0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe08bfcb0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357c00, client_io=client_io@entry=0x7fe08bfcb710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357c00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357c00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70230a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 523 (Thread 0x7fe08b7cc700 (LWP 136880)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe08b7c86c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe08b7c86c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe08b7c8898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe08b7c88c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe08b7c89d0, bucket=bucket@entry=0x7fe08b7c8a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d488a518, pmtime=0x7fe0d488a520, epoch=0x7fe0d488a528, attrs=0x7fe0d488a958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe08b7c94c0, obj=..., state=state@entry=0x7fe08b7c8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe08b7c94c0, obj=..., state=state@entry=0x7fe08b7c8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe08b7c94b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe08b7c8f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe08b7c94b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe08b7ca0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe08b7ca0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357cc0, client_io=client_io@entry=0x7fe08b7ca710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357cc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357cc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023100) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 522 (Thread 0x7fe08afcb700 (LWP 136881)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe08afc76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe08afc76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe08afc7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe08afc78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe08afc79d0, bucket=bucket@entry=0x7fe08afc7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d44b7518, pmtime=0x7fe0d44b7520, epoch=0x7fe0d44b7528, attrs=0x7fe0d44b7958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe08afc84c0, obj=..., state=state@entry=0x7fe08afc7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe08afc84c0, obj=..., state=state@entry=0x7fe08afc7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe08afc84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe08afc7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe08afc84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe08afc90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe08afc90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce300, client_io=client_io@entry=0x7fe08afc9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce300) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce300) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023160) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 521 (Thread 0x7fe08a7ca700 (LWP 136882)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe08a7c66c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe08a7c66c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe08a7c6898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe08a7c68c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe08a7c69d0, bucket=bucket@entry=0x7fe08a7c6a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d34ac518, pmtime=0x7fe0d34ac520, epoch=0x7fe0d34ac528, attrs=0x7fe0d34ac958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe08a7c74c0, obj=..., state=state@entry=0x7fe08a7c6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe08a7c74c0, obj=..., state=state@entry=0x7fe08a7c6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe08a7c74b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe08a7c6f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe08a7c74b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe08a7c80e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe08a7c80e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce3c0, client_io=client_io@entry=0x7fe08a7c8710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce3c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce3c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70231c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 520 (Thread 0x7fe089fc9700 (LWP 136883)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe089fc5950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337a200, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe089fc5d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe089fc5ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe089fc61c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe089fc5d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe089fc63d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe089fc63d8, pmtime=pmtime@entry=0x7fe089fc64b0, pattrs=pattrs@entry=0x7fe089fc64b8, cache_info=cache_info@entry=0x7fe089fc61c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe089fc64b0, pattrs=pattrs@entry=0x7fe089fc64b8, cache_info=cache_info@entry=0x7fe089fc61c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe089fc73c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe089fc70e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7becdaa0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1aea00, client_io=client_io@entry=0x7fe089fc7710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1aea00) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1aea00) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023220) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 519 (Thread 0x7fe0897c8700 (LWP 136884)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0897c4120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0897c4120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d1415b00, sul=..., ptid=ptid@entry=0x7fe0897c4348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d1415b00, sul=..., ptid=ptid@entry=0x7fe0897c4348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0d1415b00, ptid=0x7fe0897c4348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf55e25a00, oid=..., o=0x7fdf83067600, pbl=pbl@entry=0x7fe0897c4760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0897c46e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fe0897c46c0, pbl=pbl@entry=0x7fe0897c4760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0d14ad518, pmtime=0x7fe0d14ad520, epoch=0x7fe0d14ad528, attrs=0x7fe0d14ad958, first_chunk=0x0, objv_tracker=0x7fe0897c5498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0897c4ff0, obj=..., state=state@entry=0x7fe0897c4a28, objv_tracker=objv_tracker@entry=0x7fe0897c5498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0897c4ff0, obj=..., state=state@entry=0x7fe0897c4a28, objv_tracker=objv_tracker@entry=0x7fe0897c5498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe0897c5498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0897c4c30, objv_tracker=objv_tracker@entry=0x7fe0897c5498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0897c5498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe0897c5150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe0897c5498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe0897c5150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0897c60e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0897c60e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b3579c0, client_io=client_io@entry=0x7fe0897c6710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b3579c0) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b3579c0) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023280) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 518 (Thread 0x7fe088fc7700 (LWP 136885)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe088fc31a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe088fc31a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d0448200, sul=..., ptid=ptid@entry=0x7fe088fc33c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d0448200, sul=..., ptid=ptid@entry=0x7fe088fc33c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0d0448200, ptid=0x7fe088fc33c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb716c00, oid=..., o=0x7fdf72530380, pbl=pbl@entry=0x7fe088fc37e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe088fc3760, oid="test1", o=o@entry=0x7fe088fc3740, pbl=pbl@entry=0x7fe088fc37e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0d057c518, pmtime=0x7fe0d057c520, epoch=0x7fe0d057c528, attrs=0x7fe0d057c958, first_chunk=0x0, objv_tracker=0x7fe088fc41e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe088fc5620, obj=..., state=state@entry=0x7fe088fc3aa8, objv_tracker=objv_tracker@entry=0x7fe088fc41e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe088fc5620, obj=..., state=state@entry=0x7fe088fc3aa8, objv_tracker=objv_tracker@entry=0x7fe088fc41e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe088fc53c8, lastmod=0x7fe088fc4180, obj_size=0x0, objv_tracker=0x7fe088fc41e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe088fc3cb0, objv_tracker=objv_tracker@entry=0x7fe088fc41e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe088fc41e0, pmtime=pmtime@entry=0x7fe088fc4180, pattrs=pattrs@entry=0x7fe088fc53c8, cache_info=cache_info@entry=0x7fe088fc41b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe088fc41e0, pmtime=pmtime@entry=0x7fe088fc4180, pattrs=pattrs@entry=0x7fe088fc53c8, cache_info=cache_info@entry=0x7fe088fc41b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe088fc53c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe088fc50e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7be428e0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a61f400, client_io=client_io@entry=0x7fe088fc5710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a61f400) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a61f400) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70232e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 517 (Thread 0x7fe0887c6700 (LWP 136886)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fac2f0a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0fac2f018) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0887c2120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0887c2120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf74f94300, sul=..., ptid=ptid@entry=0x7fe0887c2348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf74f94300, sul=..., ptid=ptid@entry=0x7fe0887c2348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf74f94300, ptid=0x7fe0887c2348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf797ea200, oid=..., o=0x7fdf8709a780, pbl=pbl@entry=0x7fe0887c2760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0887c26e0, oid="system.user", o=o@entry=0x7fe0887c26c0, pbl=pbl@entry=0x7fe0887c2760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0cf52f718, pmtime=0x7fe0cf52f720, epoch=0x7fe0cf52f728, attrs=0x7fe0cf52fb58, first_chunk=0x0, objv_tracker=0x7fe0887c3498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0887c2ff0, obj=..., state=state@entry=0x7fe0887c2a28, objv_tracker=objv_tracker@entry=0x7fe0887c3498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0887c2ff0, obj=..., state=state@entry=0x7fe0887c2a28, objv_tracker=objv_tracker@entry=0x7fe0887c3498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe0887c3498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0887c2c30, objv_tracker=objv_tracker@entry=0x7fe0887c3498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="system.user", bl=..., objv_tracker=objv_tracker@entry=0x7fe0887c3498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe0887c3150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe0887c3498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe0887c3150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0887c40e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0887c40e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c72fdac0, client_io=client_io@entry=0x7fe0887c4710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c72fdac0) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c72fdac0) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023340) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 516 (Thread 0x7fe087fc5700 (LWP 136887)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe087fc16c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe087fc16c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe087fc1898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe087fc18c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe087fc19d0, bucket=bucket@entry=0x7fe087fc1a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0cf0a6b18, pmtime=0x7fe0cf0a6b20, epoch=0x7fe0cf0a6b28, attrs=0x7fe0cf0a6f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe087fc24c0, obj=..., state=state@entry=0x7fe087fc1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe087fc24c0, obj=..., state=state@entry=0x7fe087fc1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe087fc24b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe087fc1f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe087fc24b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe087fc30e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe087fc30e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd0c0, client_io=client_io@entry=0x7fe087fc3710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd0c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd0c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70233a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 515 (Thread 0x7fe0877c4700 (LWP 136888)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0877c06c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0877c06c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0877c0898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0877c08c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0877c09d0, bucket=bucket@entry=0x7fe0877c0a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0cec9f518, pmtime=0x7fe0cec9f520, epoch=0x7fe0cec9f528, attrs=0x7fe0cec9f958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0877c14c0, obj=..., state=state@entry=0x7fe0877c0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0877c14c0, obj=..., state=state@entry=0x7fe0877c0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0877c14b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0877c0f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0877c14b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0877c20e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0877c20e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8f40, client_io=client_io@entry=0x7fe0877c2710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8f40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8f40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023400) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 514 (Thread 0x7fe086fc3700 (LWP 136889)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe086fbf6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe086fbf6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe086fbf898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe086fbf8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe086fbf9d0, bucket=bucket@entry=0x7fe086fbfa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0cdca3b18, pmtime=0x7fe0cdca3b20, epoch=0x7fe0cdca3b28, attrs=0x7fe0cdca3f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe086fc04c0, obj=..., state=state@entry=0x7fe086fbfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe086fc04c0, obj=..., state=state@entry=0x7fe086fbfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe086fc04b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe086fbff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe086fc04b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe086fc10e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe086fc10e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8740, client_io=client_io@entry=0x7fe086fc1710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8740) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8740) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023460) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 513 (Thread 0x7fe0867c2700 (LWP 136890)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0867be6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0867be6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0867be898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0867be8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0867be9d0, bucket=bucket@entry=0x7fe0867bea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ccc78518, pmtime=0x7fe0ccc78520, epoch=0x7fe0ccc78528, attrs=0x7fe0ccc78958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0867bf4c0, obj=..., state=state@entry=0x7fe0867bed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0867bf4c0, obj=..., state=state@entry=0x7fe0867bed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0867bf4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0867bef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0867bf4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0867c00e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0867c00e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ceb00, client_io=client_io@entry=0x7fe0867c0710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ceb00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ceb00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70234c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 512 (Thread 0x7fe085fc1700 (LWP 136891)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe085fbd6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe085fbd6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe085fbd898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe085fbd8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe085fbd9d0, bucket=bucket@entry=0x7fe085fbda20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0cbca1b18, pmtime=0x7fe0cbca1b20, epoch=0x7fe0cbca1b28, attrs=0x7fe0cbca1f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe085fbe4c0, obj=..., state=state@entry=0x7fe085fbdd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe085fbe4c0, obj=..., state=state@entry=0x7fe085fbdd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe085fbe4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe085fbdf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe085fbe4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe085fbf0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe085fbf0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfac00, client_io=client_io@entry=0x7fe085fbf710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfac00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfac00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023520) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 511 (Thread 0x7fe0857c0700 (LWP 136892)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0857bc6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0857bc6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0857bc898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0857bc8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0857bc9d0, bucket=bucket@entry=0x7fe0857bca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ca878518, pmtime=0x7fe0ca878520, epoch=0x7fe0ca878528, attrs=0x7fe0ca878958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0857bd4c0, obj=..., state=state@entry=0x7fe0857bcd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0857bd4c0, obj=..., state=state@entry=0x7fe0857bcd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0857bd4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0857bcf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0857bd4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0857be0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0857be0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a6c0500, client_io=client_io@entry=0x7fe0857be710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a6c0500) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a6c0500) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023580) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 510 (Thread 0x7fe084fbf700 (LWP 136893)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe084fbb1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe084fbb1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cac0f700, sul=..., ptid=ptid@entry=0x7fe084fbb3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cac0f700, sul=..., ptid=ptid@entry=0x7fe084fbb3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0cac0f700, ptid=0x7fe084fbb3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c1a00, oid=..., o=0x7fe0ec8d6100, pbl=pbl@entry=0x7fe084fbb7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe084fbb760, oid="test1", o=o@entry=0x7fe084fbb740, pbl=pbl@entry=0x7fe084fbb7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0caca0518, pmtime=0x7fe0caca0520, epoch=0x7fe0caca0528, attrs=0x7fe0caca0958, first_chunk=0x0, objv_tracker=0x7fe084fbc1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe084fbd620, obj=..., state=state@entry=0x7fe084fbbaa8, objv_tracker=objv_tracker@entry=0x7fe084fbc1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe084fbd620, obj=..., state=state@entry=0x7fe084fbbaa8, objv_tracker=objv_tracker@entry=0x7fe084fbc1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe084fbd3c8, lastmod=0x7fe084fbc180, obj_size=0x0, objv_tracker=0x7fe084fbc1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe084fbbcb0, objv_tracker=objv_tracker@entry=0x7fe084fbc1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe084fbc1e0, pmtime=pmtime@entry=0x7fe084fbc180, pattrs=pattrs@entry=0x7fe084fbd3c8, cache_info=cache_info@entry=0x7fe084fbc1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe084fbc1e0, pmtime=pmtime@entry=0x7fe084fbc180, pattrs=pattrs@entry=0x7fe084fbd3c8, cache_info=cache_info@entry=0x7fe084fbc1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe084fbd3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe084fbd0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b0ae700) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c400, client_io=client_io@entry=0x7fe084fbd710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c400) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c400) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70235e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 509 (Thread 0x7fe083fff700 (LWP 136894)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe083ffb1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe083ffb1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c9877c80, sul=..., ptid=ptid@entry=0x7fe083ffb3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c9877c80, sul=..., ptid=ptid@entry=0x7fe083ffb3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0c9877c80, ptid=0x7fe083ffb3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c6c00, oid=..., o=0x7fdf7e103d80, pbl=pbl@entry=0x7fe083ffb7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe083ffb760, oid="test1", o=o@entry=0x7fe083ffb740, pbl=pbl@entry=0x7fe083ffb7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c98ab518, pmtime=0x7fe0c98ab520, epoch=0x7fe0c98ab528, attrs=0x7fe0c98ab958, first_chunk=0x0, objv_tracker=0x7fe083ffc1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe083ffd620, obj=..., state=state@entry=0x7fe083ffbaa8, objv_tracker=objv_tracker@entry=0x7fe083ffc1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe083ffd620, obj=..., state=state@entry=0x7fe083ffbaa8, objv_tracker=objv_tracker@entry=0x7fe083ffc1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe083ffd3c8, lastmod=0x7fe083ffc180, obj_size=0x0, objv_tracker=0x7fe083ffc1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe083ffbcb0, objv_tracker=objv_tracker@entry=0x7fe083ffc1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe083ffc1e0, pmtime=pmtime@entry=0x7fe083ffc180, pattrs=pattrs@entry=0x7fe083ffd3c8, cache_info=cache_info@entry=0x7fe083ffc1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe083ffc1e0, pmtime=pmtime@entry=0x7fe083ffc180, pattrs=pattrs@entry=0x7fe083ffd3c8, cache_info=cache_info@entry=0x7fe083ffc1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe083ffd3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe083ffd0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c7140ae0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868680, client_io=client_io@entry=0x7fe083ffd710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868680) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868680) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023640) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 508 (Thread 0x7fe0837fe700 (LWP 136895)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0837fa6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0837fa6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0837fa898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0837fa8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0837fa9d0, bucket=bucket@entry=0x7fe0837faa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c94a1b18, pmtime=0x7fe0c94a1b20, epoch=0x7fe0c94a1b28, attrs=0x7fe0c94a1f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0837fb4c0, obj=..., state=state@entry=0x7fe0837fad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0837fb4c0, obj=..., state=state@entry=0x7fe0837fad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0837fb4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0837faf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0837fb4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0837fc0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0837fc0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9db00, client_io=client_io@entry=0x7fe0837fc710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9db00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9db00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70236a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 507 (Thread 0x7fe082ffd700 (LWP 136896)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe082ff96c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe082ff96c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe082ff9898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe082ff98c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe082ff99d0, bucket=bucket@entry=0x7fe082ff9a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c84a1518, pmtime=0x7fe0c84a1520, epoch=0x7fe0c84a1528, attrs=0x7fe0c84a1958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe082ffa4c0, obj=..., state=state@entry=0x7fe082ff9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe082ffa4c0, obj=..., state=state@entry=0x7fe082ff9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe082ffa4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe082ff9f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe082ffa4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe082ffb0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe082ffb0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa2c0, client_io=client_io@entry=0x7fe082ffb710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa2c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa2c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023700) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 506 (Thread 0x7fe0827fc700 (LWP 136897)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0827f8950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73378400, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe0827f8d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0827f8ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe0827f91c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe0827f8d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe0827f93d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0827f93d8, pmtime=pmtime@entry=0x7fe0827f94b0, pattrs=pattrs@entry=0x7fe0827f94b8, cache_info=cache_info@entry=0x7fe0827f91c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe0827f94b0, pattrs=pattrs@entry=0x7fe0827f94b8, cache_info=cache_info@entry=0x7fe0827f91c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0827fa3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0827fa0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7a9f6240) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a600, client_io=client_io@entry=0x7fe0827fa710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a600) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a600) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023760) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 505 (Thread 0x7fe081ffb700 (LWP 136898)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe081ff76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe081ff76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe081ff7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe081ff78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe081ff79d0, bucket=bucket@entry=0x7fe081ff7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c731f518, pmtime=0x7fe0c731f520, epoch=0x7fe0c731f528, attrs=0x7fe0c731f958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe081ff84c0, obj=..., state=state@entry=0x7fe081ff7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe081ff84c0, obj=..., state=state@entry=0x7fe081ff7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe081ff84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe081ff7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe081ff84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe081ff90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe081ff90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8900, client_io=client_io@entry=0x7fe081ff9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8900) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8900) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70237c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 504 (Thread 0x7fe0817fa700 (LWP 136899)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0817f66c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0817f66c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0817f6898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0817f68c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0817f69d0, bucket=bucket@entry=0x7fe0817f6a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c6ca1518, pmtime=0x7fe0c6ca1520, epoch=0x7fe0c6ca1528, attrs=0x7fe0c6ca1958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0817f74c0, obj=..., state=state@entry=0x7fe0817f6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0817f74c0, obj=..., state=state@entry=0x7fe0817f6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0817f74b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0817f6f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0817f74b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0817f80e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0817f80e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d840, client_io=client_io@entry=0x7fe0817f8710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d840) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d840) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023820) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 503 (Thread 0x7fe080ff9700 (LWP 136900)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe080ff55b0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0eb7f7400, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe080ff57e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe080ff5760, oid="test1", o=o@entry=0x7fe080ff5740, pbl=pbl@entry=0x7fe080ff57e0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c5ca0b18, pmtime=0x7fe0c5ca0b20, epoch=0x7fe0c5ca0b28, attrs=0x7fe0c5ca0f58, first_chunk=0x0, objv_tracker=0x7fe080ff61e0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe080ff7620, obj=..., state=state@entry=0x7fe080ff5aa8, objv_tracker=objv_tracker@entry=0x7fe080ff61e0) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe080ff7620, obj=..., state=state@entry=0x7fe080ff5aa8, objv_tracker=objv_tracker@entry=0x7fe080ff61e0) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe080ff73c8, lastmod=0x7fe080ff6180, obj_size=0x0, objv_tracker=0x7fe080ff61e0) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe080ff5cb0, objv_tracker=objv_tracker@entry=0x7fe080ff61e0) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe080ff61e0, pmtime=pmtime@entry=0x7fe080ff6180, pattrs=pattrs@entry=0x7fe080ff73c8, cache_info=cache_info@entry=0x7fe080ff61b0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe080ff61e0, pmtime=pmtime@entry=0x7fe080ff6180, pattrs=pattrs@entry=0x7fe080ff73c8, cache_info=cache_info@entry=0x7fe080ff61b0) at rgw/rgw_rados.cc:10991
#11 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe080ff73c8) at rgw/rgw_rados.cc:11066
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe080ff70e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b9d9900) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79492080, client_io=client_io@entry=0x7fe080ff7710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79492080) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79492080) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023880) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 502 (Thread 0x7fe0807f8700 (LWP 136901)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0807f46c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0807f46c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0807f4898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0807f48c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0807f49d0, bucket=bucket@entry=0x7fe0807f4a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c4ca2b18, pmtime=0x7fe0c4ca2b20, epoch=0x7fe0c4ca2b28, attrs=0x7fe0c4ca2f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0807f54c0, obj=..., state=state@entry=0x7fe0807f4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0807f54c0, obj=..., state=state@entry=0x7fe0807f4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0807f54b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0807f4f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0807f54b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0807f60e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0807f60e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdbc40, client_io=client_io@entry=0x7fe0807f6710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdbc40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdbc40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70238e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 501 (Thread 0x7fe07fff7700 (LWP 136902)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe07fff3950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73379400, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe07fff3d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe07fff3ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe07fff41c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe07fff3d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe07fff43d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe07fff43d8, pmtime=pmtime@entry=0x7fe07fff44b0, pattrs=pattrs@entry=0x7fe07fff44b8, cache_info=cache_info@entry=0x7fe07fff41c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe07fff44b0, pattrs=pattrs@entry=0x7fe07fff44b8, cache_info=cache_info@entry=0x7fe07fff41c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe07fff53c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe07fff50e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c973a00) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78c0ca00, client_io=client_io@entry=0x7fe07fff5710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78c0ca00) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78c0ca00) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023940) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 500 (Thread 0x7fe07f7f6700 (LWP 136903)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe07f7f21a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe07f7f21a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c1443480, sul=..., ptid=ptid@entry=0x7fe07f7f23c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c1443480, sul=..., ptid=ptid@entry=0x7fe07f7f23c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0c1443480, ptid=0x7fe07f7f23c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fee00, oid=..., o=0x7fe0d58a0880, pbl=pbl@entry=0x7fe07f7f27e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe07f7f2760, oid="test1", o=o@entry=0x7fe07f7f2740, pbl=pbl@entry=0x7fe07f7f27e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c14a5518, pmtime=0x7fe0c14a5520, epoch=0x7fe0c14a5528, attrs=0x7fe0c14a5958, first_chunk=0x0, objv_tracker=0x7fe07f7f31e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe07f7f4620, obj=..., state=state@entry=0x7fe07f7f2aa8, objv_tracker=objv_tracker@entry=0x7fe07f7f31e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe07f7f4620, obj=..., state=state@entry=0x7fe07f7f2aa8, objv_tracker=objv_tracker@entry=0x7fe07f7f31e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe07f7f43c8, lastmod=0x7fe07f7f3180, obj_size=0x0, objv_tracker=0x7fe07f7f31e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe07f7f2cb0, objv_tracker=objv_tracker@entry=0x7fe07f7f31e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe07f7f31e0, pmtime=pmtime@entry=0x7fe07f7f3180, pattrs=pattrs@entry=0x7fe07f7f43c8, cache_info=cache_info@entry=0x7fe07f7f31b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe07f7f31e0, pmtime=pmtime@entry=0x7fe07f7f3180, pattrs=pattrs@entry=0x7fe07f7f43c8, cache_info=cache_info@entry=0x7fe07f7f31b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe07f7f43c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe07f7f40e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b32ec80) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722cf80, client_io=client_io@entry=0x7fe07f7f4710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722cf80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722cf80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70239a0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 499 (Thread 0x7fe07eff5700 (LWP 136904)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe07eff16c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe07eff16c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe07eff1898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe07eff18c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe07eff19d0, bucket=bucket@entry=0x7fe07eff1a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0becd5518, pmtime=0x7fe0becd5520, epoch=0x7fe0becd5528, attrs=0x7fe0becd5958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe07eff24c0, obj=..., state=state@entry=0x7fe07eff1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe07eff24c0, obj=..., state=state@entry=0x7fe07eff1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe07eff24b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe07eff1f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe07eff24b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe07eff30e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe07eff30e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1cef80, client_io=client_io@entry=0x7fe07eff3710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1cef80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1cef80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023a00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 498 (Thread 0x7fe07e7f4700 (LWP 136905)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe07e7f0650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0e9cf6400, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe07e7f0880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe07e7f0800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe07e7f07e0, pbl=pbl@entry=0x7fe07e7f0880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c04d6b18, pmtime=0x7fe0c04d6b20, epoch=0x7fe0c04d6b28, attrs=0x7fe0c04d6f58, first_chunk=0x0, objv_tracker=0x7fe07e7f13d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe07e7f2620, obj=..., state=state@entry=0x7fe07e7f0b48, objv_tracker=objv_tracker@entry=0x7fe07e7f13d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe07e7f2620, obj=..., state=state@entry=0x7fe07e7f0b48, objv_tracker=objv_tracker@entry=0x7fe07e7f13d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe07e7f14b8, lastmod=0x7fe07e7f14b0, obj_size=0x0, objv_tracker=0x7fe07e7f13d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe07e7f0d50, objv_tracker=objv_tracker@entry=0x7fe07e7f13d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe07e7f13d8, pmtime=pmtime@entry=0x7fe07e7f14b0, pattrs=pattrs@entry=0x7fe07e7f14b8, cache_info=cache_info@entry=0x7fe07e7f11c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe07e7f14b0, pattrs=pattrs@entry=0x7fe07e7f14b8, cache_info=cache_info@entry=0x7fe07e7f11c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe07e7f23c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe07e7f20e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bec6460) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf76eb76c0, client_io=client_io@entry=0x7fe07e7f2710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf76eb76c0) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf76eb76c0) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023a60) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 497 (Thread 0x7fe07dff3700 (LWP 136906)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe07dfef6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe07dfef6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe07dfef898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe07dfef8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe07dfef9d0, bucket=bucket@entry=0x7fe07dfefa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0be8a1518, pmtime=0x7fe0be8a1520, epoch=0x7fe0be8a1528, attrs=0x7fe0be8a1958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe07dff04c0, obj=..., state=state@entry=0x7fe07dfefd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe07dff04c0, obj=..., state=state@entry=0x7fe07dfefd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe07dff04b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe07dfeff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe07dff04b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe07dff10e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe07dff10e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357ac0, client_io=client_io@entry=0x7fe07dff1710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357ac0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357ac0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023ac0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 496 (Thread 0x7fe07d7f2700 (LWP 136907)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe07d7ee1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe07d7ee1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0bc014980, sul=..., ptid=ptid@entry=0x7fe07d7ee3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0bc014980, sul=..., ptid=ptid@entry=0x7fe07d7ee3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0bc014980, ptid=0x7fe07d7ee3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c5800, oid=..., o=0x7fe0cacc8d80, pbl=pbl@entry=0x7fe07d7ee7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe07d7ee760, oid="test1", o=o@entry=0x7fe07d7ee740, pbl=pbl@entry=0x7fe07d7ee7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0bc0a1b18, pmtime=0x7fe0bc0a1b20, epoch=0x7fe0bc0a1b28, attrs=0x7fe0bc0a1f58, first_chunk=0x0, objv_tracker=0x7fe07d7ef1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe07d7f0620, obj=..., state=state@entry=0x7fe07d7eeaa8, objv_tracker=objv_tracker@entry=0x7fe07d7ef1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe07d7f0620, obj=..., state=state@entry=0x7fe07d7eeaa8, objv_tracker=objv_tracker@entry=0x7fe07d7ef1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe07d7f03c8, lastmod=0x7fe07d7ef180, obj_size=0x0, objv_tracker=0x7fe07d7ef1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe07d7eecb0, objv_tracker=objv_tracker@entry=0x7fe07d7ef1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe07d7ef1e0, pmtime=pmtime@entry=0x7fe07d7ef180, pattrs=pattrs@entry=0x7fe07d7f03c8, cache_info=cache_info@entry=0x7fe07d7ef1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe07d7ef1e0, pmtime=pmtime@entry=0x7fe07d7ef180, pattrs=pattrs@entry=0x7fe07d7f03c8, cache_info=cache_info@entry=0x7fe07d7ef1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe07d7f03c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe07d7f00e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c71093a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868140, client_io=client_io@entry=0x7fe07d7f0710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868140) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868140) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023b20) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 495 (Thread 0x7fe07cff1700 (LWP 136908)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe07cfed1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe07cfed1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b9c12b80, sul=..., ptid=ptid@entry=0x7fe07cfed3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b9c12b80, sul=..., ptid=ptid@entry=0x7fe07cfed3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0b9c12b80, ptid=0x7fe07cfed3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7440cc00, oid=..., o=0x7fdf724cab80, pbl=pbl@entry=0x7fe07cfed7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe07cfed760, oid="test1", o=o@entry=0x7fe07cfed740, pbl=pbl@entry=0x7fe07cfed7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b9ca4b18, pmtime=0x7fe0b9ca4b20, epoch=0x7fe0b9ca4b28, attrs=0x7fe0b9ca4f58, first_chunk=0x0, objv_tracker=0x7fe07cfee1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe07cfef620, obj=..., state=state@entry=0x7fe07cfedaa8, objv_tracker=objv_tracker@entry=0x7fe07cfee1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe07cfef620, obj=..., state=state@entry=0x7fe07cfedaa8, objv_tracker=objv_tracker@entry=0x7fe07cfee1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe07cfef3c8, lastmod=0x7fe07cfee180, obj_size=0x0, objv_tracker=0x7fe07cfee1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe07cfedcb0, objv_tracker=objv_tracker@entry=0x7fe07cfee1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe07cfee1e0, pmtime=pmtime@entry=0x7fe07cfee180, pattrs=pattrs@entry=0x7fe07cfef3c8, cache_info=cache_info@entry=0x7fe07cfee1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe07cfee1e0, pmtime=pmtime@entry=0x7fe07cfee180, pattrs=pattrs@entry=0x7fe07cfef3c8, cache_info=cache_info@entry=0x7fe07cfee1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe07cfef3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe07cfef0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c715eb60) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868c80, client_io=client_io@entry=0x7fe07cfef710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868c80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868c80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023b80) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 494 (Thread 0x7fe07c7f0700 (LWP 136909)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe07c7ec6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe07c7ec6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe07c7ec898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe07c7ec8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe07c7ec9d0, bucket=bucket@entry=0x7fe07c7eca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b84a0518, pmtime=0x7fe0b84a0520, epoch=0x7fe0b84a0528, attrs=0x7fe0b84a0958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe07c7ed4c0, obj=..., state=state@entry=0x7fe07c7ecd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe07c7ed4c0, obj=..., state=state@entry=0x7fe07c7ecd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe07c7ed4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe07c7ecf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe07c7ed4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe07c7ee0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe07c7ee0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce140, client_io=client_io@entry=0x7fe07c7ee710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce140) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce140) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023be0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 493 (Thread 0x7fe07bfef700 (LWP 136910)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe07bfeb6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe07bfeb6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe07bfeb898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe07bfeb8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe07bfeb9d0, bucket=bucket@entry=0x7fe07bfeba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b5c9f518, pmtime=0x7fe0b5c9f520, epoch=0x7fe0b5c9f528, attrs=0x7fe0b5c9f958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe07bfec4c0, obj=..., state=state@entry=0x7fe07bfebd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe07bfec4c0, obj=..., state=state@entry=0x7fe07bfebd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe07bfec4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe07bfebf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe07bfec4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe07bfed0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe07bfed0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8300, client_io=client_io@entry=0x7fe07bfed710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8300) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8300) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023c40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 492 (Thread 0x7fe07b7ee700 (LWP 136911)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe07b7ea1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe07b7ea1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b4c13f80, sul=..., ptid=ptid@entry=0x7fe07b7ea3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b4c13f80, sul=..., ptid=ptid@entry=0x7fe07b7ea3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0b4c13f80, ptid=0x7fe07b7ea3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb716200, oid=..., o=0x7fe0ec95fd00, pbl=pbl@entry=0x7fe07b7ea7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe07b7ea760, oid="test1", o=o@entry=0x7fe07b7ea740, pbl=pbl@entry=0x7fe07b7ea7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b4ca2518, pmtime=0x7fe0b4ca2520, epoch=0x7fe0b4ca2528, attrs=0x7fe0b4ca2958, first_chunk=0x0, objv_tracker=0x7fe07b7eb1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe07b7ec620, obj=..., state=state@entry=0x7fe07b7eaaa8, objv_tracker=objv_tracker@entry=0x7fe07b7eb1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe07b7ec620, obj=..., state=state@entry=0x7fe07b7eaaa8, objv_tracker=objv_tracker@entry=0x7fe07b7eb1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe07b7ec3c8, lastmod=0x7fe07b7eb180, obj_size=0x0, objv_tracker=0x7fe07b7eb1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe07b7eacb0, objv_tracker=objv_tracker@entry=0x7fe07b7eb1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe07b7eb1e0, pmtime=pmtime@entry=0x7fe07b7eb180, pattrs=pattrs@entry=0x7fe07b7ec3c8, cache_info=cache_info@entry=0x7fe07b7eb1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe07b7eb1e0, pmtime=pmtime@entry=0x7fe07b7eb180, pattrs=pattrs@entry=0x7fe07b7ec3c8, cache_info=cache_info@entry=0x7fe07b7eb1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe07b7ec3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe07b7ec0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bdeefe0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7820fe00, client_io=client_io@entry=0x7fe07b7ec710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7820fe00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7820fe00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023ca0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 491 (Thread 0x7fe07afed700 (LWP 136912)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe07afe9120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe07afe9120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b3c62200, sul=..., ptid=ptid@entry=0x7fe07afe9348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b3c62200, sul=..., ptid=ptid@entry=0x7fe07afe9348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0b3c62200, ptid=0x7fe07afe9348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf786ef600, oid=..., o=0x7fe0ed91d900, pbl=pbl@entry=0x7fe07afe9760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe07afe96e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fe07afe96c0, pbl=pbl@entry=0x7fe07afe9760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b3c9f518, pmtime=0x7fe0b3c9f520, epoch=0x7fe0b3c9f528, attrs=0x7fe0b3c9f958, first_chunk=0x0, objv_tracker=0x7fe07afea498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe07afe9ff0, obj=..., state=state@entry=0x7fe07afe9a28, objv_tracker=objv_tracker@entry=0x7fe07afea498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe07afe9ff0, obj=..., state=state@entry=0x7fe07afe9a28, objv_tracker=objv_tracker@entry=0x7fe07afea498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe07afea498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe07afe9c30, objv_tracker=objv_tracker@entry=0x7fe07afea498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fe07afea498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe07afea150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe07afea498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe07afea150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe07afeb0e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe07afeb0e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357840, client_io=client_io@entry=0x7fe07afeb710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357840) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357840) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023d00) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 490 (Thread 0x7fe07a7ec700 (LWP 136913)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe07a7e8950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73379200, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe07a7e8d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe07a7e8ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe07a7e91c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe07a7e8d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe07a7e93d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe07a7e93d8, pmtime=pmtime@entry=0x7fe07a7e94b0, pattrs=pattrs@entry=0x7fe07a7e94b8, cache_info=cache_info@entry=0x7fe07a7e91c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe07a7e94b0, pattrs=pattrs@entry=0x7fe07a7e94b8, cache_info=cache_info@entry=0x7fe07a7e91c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe07a7ea3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe07a7ea0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cbeeee0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77b06500, client_io=client_io@entry=0x7fe07a7ea710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77b06500) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77b06500) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023d60) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 489 (Thread 0x7fe079feb700 (LWP 136914)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe079fe76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe079fe76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe079fe7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe079fe78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe079fe79d0, bucket=bucket@entry=0x7fe079fe7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b1ca7518, pmtime=0x7fe0b1ca7520, epoch=0x7fe0b1ca7528, attrs=0x7fe0b1ca7958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe079fe84c0, obj=..., state=state@entry=0x7fe079fe7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe079fe84c0, obj=..., state=state@entry=0x7fe079fe7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe079fe84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe079fe7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe079fe84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe079fe90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe079fe90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb4c0, client_io=client_io@entry=0x7fe079fe9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb4c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb4c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023dc0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 488 (Thread 0x7fe0797ea700 (LWP 136915)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0797e6950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337a000, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe0797e6d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0797e6ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe0797e71c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe0797e6d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe0797e73d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0797e73d8, pmtime=pmtime@entry=0x7fe0797e74b0, pattrs=pattrs@entry=0x7fe0797e74b8, cache_info=cache_info@entry=0x7fe0797e71c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe0797e74b0, pattrs=pattrs@entry=0x7fe0797e74b8, cache_info=cache_info@entry=0x7fe0797e71c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0797e83c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0797e80e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7be42a60) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0cf140, client_io=client_io@entry=0x7fe0797e8710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0cf140) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0cf140) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023e20) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 487 (Thread 0x7fe078fe9700 (LWP 136916)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe078fe51a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe078fe51a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b0c67200, sul=..., ptid=ptid@entry=0x7fe078fe53c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b0c67200, sul=..., ptid=ptid@entry=0x7fe078fe53c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0b0c67200, ptid=0x7fe078fe53c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf74408e00, oid=..., o=0x7fdf78b57b00, pbl=pbl@entry=0x7fe078fe57e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe078fe5760, oid="test1", o=o@entry=0x7fe078fe5740, pbl=pbl@entry=0x7fe078fe57e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b0c9f518, pmtime=0x7fe0b0c9f520, epoch=0x7fe0b0c9f528, attrs=0x7fe0b0c9f958, first_chunk=0x0, objv_tracker=0x7fe078fe61e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe078fe7620, obj=..., state=state@entry=0x7fe078fe5aa8, objv_tracker=objv_tracker@entry=0x7fe078fe61e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe078fe7620, obj=..., state=state@entry=0x7fe078fe5aa8, objv_tracker=objv_tracker@entry=0x7fe078fe61e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe078fe73c8, lastmod=0x7fe078fe6180, obj_size=0x0, objv_tracker=0x7fe078fe61e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe078fe5cb0, objv_tracker=objv_tracker@entry=0x7fe078fe61e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe078fe61e0, pmtime=pmtime@entry=0x7fe078fe6180, pattrs=pattrs@entry=0x7fe078fe73c8, cache_info=cache_info@entry=0x7fe078fe61b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe078fe61e0, pmtime=pmtime@entry=0x7fe078fe6180, pattrs=pattrs@entry=0x7fe078fe73c8, cache_info=cache_info@entry=0x7fe078fe61b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe078fe73c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe078fe70e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c338d00) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7cb7a600, client_io=client_io@entry=0x7fe078fe7710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7cb7a600) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7cb7a600) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023e80) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 486 (Thread 0x7fe0787e8700 (LWP 136917)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0787e46c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0787e46c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0787e4898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0787e48c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0787e49d0, bucket=bucket@entry=0x7fe0787e4a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b0890518, pmtime=0x7fe0b0890520, epoch=0x7fe0b0890528, attrs=0x7fe0b0890958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0787e54c0, obj=..., state=state@entry=0x7fe0787e4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0787e54c0, obj=..., state=state@entry=0x7fe0787e4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0787e54b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0787e4f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0787e54b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0787e60e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0787e60e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9dc00, client_io=client_io@entry=0x7fe0787e6710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9dc00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9dc00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023ee0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 485 (Thread 0x7fe077fe7700 (LWP 136918)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe077fe31a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe077fe31a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0af868b80, sul=..., ptid=ptid@entry=0x7fe077fe33c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0af868b80, sul=..., ptid=ptid@entry=0x7fe077fe33c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0af868b80, ptid=0x7fe077fe33c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf76421400, oid=..., o=0x7fdf55c67280, pbl=pbl@entry=0x7fe077fe37e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe077fe3760, oid="test1", o=o@entry=0x7fe077fe3740, pbl=pbl@entry=0x7fe077fe37e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0af8a1518, pmtime=0x7fe0af8a1520, epoch=0x7fe0af8a1528, attrs=0x7fe0af8a1958, first_chunk=0x0, objv_tracker=0x7fe077fe41e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe077fe5620, obj=..., state=state@entry=0x7fe077fe3aa8, objv_tracker=objv_tracker@entry=0x7fe077fe41e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe077fe5620, obj=..., state=state@entry=0x7fe077fe3aa8, objv_tracker=objv_tracker@entry=0x7fe077fe41e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe077fe53c8, lastmod=0x7fe077fe4180, obj_size=0x0, objv_tracker=0x7fe077fe41e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe077fe3cb0, objv_tracker=objv_tracker@entry=0x7fe077fe41e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe077fe41e0, pmtime=pmtime@entry=0x7fe077fe4180, pattrs=pattrs@entry=0x7fe077fe53c8, cache_info=cache_info@entry=0x7fe077fe41b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe077fe41e0, pmtime=pmtime@entry=0x7fe077fe4180, pattrs=pattrs@entry=0x7fe077fe53c8, cache_info=cache_info@entry=0x7fe077fe41b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe077fe53c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe077fe50e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c2890e0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7712a780, client_io=client_io@entry=0x7fe077fe5710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7712a780) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7712a780) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023f40) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 484 (Thread 0x7fe0777e6700 (LWP 136919)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0777e21a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0777e21a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ae043c80, sul=..., ptid=ptid@entry=0x7fe0777e23c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ae043c80, sul=..., ptid=ptid@entry=0x7fe0777e23c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ae043c80, ptid=0x7fe0777e23c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c5a00, oid=..., o=0x7fe0c7488e00, pbl=pbl@entry=0x7fe0777e27e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0777e2760, oid="test1", o=o@entry=0x7fe0777e2740, pbl=pbl@entry=0x7fe0777e27e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ae0a1b18, pmtime=0x7fe0ae0a1b20, epoch=0x7fe0ae0a1b28, attrs=0x7fe0ae0a1f58, first_chunk=0x0, objv_tracker=0x7fe0777e31e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0777e4620, obj=..., state=state@entry=0x7fe0777e2aa8, objv_tracker=objv_tracker@entry=0x7fe0777e31e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0777e4620, obj=..., state=state@entry=0x7fe0777e2aa8, objv_tracker=objv_tracker@entry=0x7fe0777e31e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0777e43c8, lastmod=0x7fe0777e3180, obj_size=0x0, objv_tracker=0x7fe0777e31e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0777e2cb0, objv_tracker=objv_tracker@entry=0x7fe0777e31e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0777e31e0, pmtime=pmtime@entry=0x7fe0777e3180, pattrs=pattrs@entry=0x7fe0777e43c8, cache_info=cache_info@entry=0x7fe0777e31b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0777e31e0, pmtime=pmtime@entry=0x7fe0777e3180, pattrs=pattrs@entry=0x7fe0777e43c8, cache_info=cache_info@entry=0x7fe0777e31b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0777e43c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0777e40e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c70d1560) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf778681c0, client_io=client_io@entry=0x7fe0777e4710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf778681c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf778681c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7023fa0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 483 (Thread 0x7fe076fe5700 (LWP 136920)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe076fe11a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe076fe11a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ac010600, sul=..., ptid=ptid@entry=0x7fe076fe13c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ac010600, sul=..., ptid=ptid@entry=0x7fe076fe13c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ac010600, ptid=0x7fe076fe13c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7440f400, oid=..., o=0x7fe0f0d7ab80, pbl=pbl@entry=0x7fe076fe17e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe076fe1760, oid="test1", o=o@entry=0x7fe076fe1740, pbl=pbl@entry=0x7fe076fe17e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ac0aab18, pmtime=0x7fe0ac0aab20, epoch=0x7fe0ac0aab28, attrs=0x7fe0ac0aaf58, first_chunk=0x0, objv_tracker=0x7fe076fe21e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe076fe3620, obj=..., state=state@entry=0x7fe076fe1aa8, objv_tracker=objv_tracker@entry=0x7fe076fe21e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe076fe3620, obj=..., state=state@entry=0x7fe076fe1aa8, objv_tracker=objv_tracker@entry=0x7fe076fe21e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe076fe33c8, lastmod=0x7fe076fe2180, obj_size=0x0, objv_tracker=0x7fe076fe21e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe076fe1cb0, objv_tracker=objv_tracker@entry=0x7fe076fe21e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe076fe21e0, pmtime=pmtime@entry=0x7fe076fe2180, pattrs=pattrs@entry=0x7fe076fe33c8, cache_info=cache_info@entry=0x7fe076fe21b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe076fe21e0, pmtime=pmtime@entry=0x7fe076fe2180, pattrs=pattrs@entry=0x7fe076fe33c8, cache_info=cache_info@entry=0x7fe076fe21b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe076fe33c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe076fe30e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf76838520) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c7107900, client_io=client_io@entry=0x7fe076fe3710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c7107900) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c7107900) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d040) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 482 (Thread 0x7fe0767e4700 (LWP 136921)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0767e06c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0767e06c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0767e0898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0767e08c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0767e09d0, bucket=bucket@entry=0x7fe0767e0a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0a5090b18, pmtime=0x7fe0a5090b20, epoch=0x7fe0a5090b28, attrs=0x7fe0a5090f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0767e14c0, obj=..., state=state@entry=0x7fe0767e0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0767e14c0, obj=..., state=state@entry=0x7fe0767e0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0767e14b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0767e0f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0767e14b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0767e20e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0767e20e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b830800, client_io=client_io@entry=0x7fe0767e2710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b830800) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b830800) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d0a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 481 (Thread 0x7fe075fe3700 (LWP 136922)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe075fdf6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe075fdf6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe075fdf898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe075fdf8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe075fdf9d0, bucket=bucket@entry=0x7fe075fdfa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe08409fb18, pmtime=0x7fe08409fb20, epoch=0x7fe08409fb28, attrs=0x7fe08409ff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe075fe04c0, obj=..., state=state@entry=0x7fe075fdfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe075fe04c0, obj=..., state=state@entry=0x7fe075fdfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe075fe04b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe075fdff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe075fe04b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe075fe10e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe075fe10e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9db80, client_io=client_io@entry=0x7fe075fe1710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9db80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9db80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d100) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 480 (Thread 0x7fe0757e2700 (LWP 136923)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0757de1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0757de1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8984b680, sul=..., ptid=ptid@entry=0x7fe0757de3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8984b680, sul=..., ptid=ptid@entry=0x7fe0757de3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8984b680, ptid=0x7fe0757de3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb717800, oid=..., o=0x7fe0f0cb6300, pbl=pbl@entry=0x7fe0757de7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0757de760, oid="test1", o=o@entry=0x7fe0757de740, pbl=pbl@entry=0x7fe0757de7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf898ceb18, pmtime=0x7fdf898ceb20, epoch=0x7fdf898ceb28, attrs=0x7fdf898cef58, first_chunk=0x0, objv_tracker=0x7fe0757df1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0757e0620, obj=..., state=state@entry=0x7fe0757deaa8, objv_tracker=objv_tracker@entry=0x7fe0757df1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0757e0620, obj=..., state=state@entry=0x7fe0757deaa8, objv_tracker=objv_tracker@entry=0x7fe0757df1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0757e03c8, lastmod=0x7fe0757df180, obj_size=0x0, objv_tracker=0x7fe0757df1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0757decb0, objv_tracker=objv_tracker@entry=0x7fe0757df1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0757df1e0, pmtime=pmtime@entry=0x7fe0757df180, pattrs=pattrs@entry=0x7fe0757e03c8, cache_info=cache_info@entry=0x7fe0757df1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0757df1e0, pmtime=pmtime@entry=0x7fe0757df180, pattrs=pattrs@entry=0x7fe0757e03c8, cache_info=cache_info@entry=0x7fe0757df1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0757e03c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0757e00e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7baa29a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bd9e280, client_io=client_io@entry=0x7fe0757e0710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bd9e280) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bd9e280) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d160) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 479 (Thread 0x7fe074fe1700 (LWP 136924)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe074fdd650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf764c5c00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe074fdd880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe074fdd800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe074fdd7e0, pbl=pbl@entry=0x7fe074fdd880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf894cfb18, pmtime=0x7fdf894cfb20, epoch=0x7fdf894cfb28, attrs=0x7fdf894cff58, first_chunk=0x0, objv_tracker=0x7fe074fde3d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe074fdf620, obj=..., state=state@entry=0x7fe074fddb48, objv_tracker=objv_tracker@entry=0x7fe074fde3d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe074fdf620, obj=..., state=state@entry=0x7fe074fddb48, objv_tracker=objv_tracker@entry=0x7fe074fde3d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe074fde4b8, lastmod=0x7fe074fde4b0, obj_size=0x0, objv_tracker=0x7fe074fde3d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe074fddd50, objv_tracker=objv_tracker@entry=0x7fe074fde3d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe074fde3d8, pmtime=pmtime@entry=0x7fe074fde4b0, pattrs=pattrs@entry=0x7fe074fde4b8, cache_info=cache_info@entry=0x7fe074fde1c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe074fde4b0, pattrs=pattrs@entry=0x7fe074fde4b8, cache_info=cache_info@entry=0x7fe074fde1c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe074fdf3c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe074fdf0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c8ebac0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b949600, client_io=client_io@entry=0x7fe074fdf710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b949600) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b949600) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d1c0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 478 (Thread 0x7fe0747e0700 (LWP 136925)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0747dc6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0747dc6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0747dc898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0747dc8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0747dc9d0, bucket=bucket@entry=0x7fe0747dca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf890cfb18, pmtime=0x7fdf890cfb20, epoch=0x7fdf890cfb28, attrs=0x7fdf890cff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0747dd4c0, obj=..., state=state@entry=0x7fe0747dcd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0747dd4c0, obj=..., state=state@entry=0x7fe0747dcd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0747dd4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0747dcf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0747dd4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0747de0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0747de0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8880, client_io=client_io@entry=0x7fe0747de710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8880) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8880) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d220) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 477 (Thread 0x7fe073fdf700 (LWP 136926)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe073fdb6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe073fdb6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe073fdb898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe073fdb8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe073fdb9d0, bucket=bucket@entry=0x7fe073fdba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf88ccf518, pmtime=0x7fdf88ccf520, epoch=0x7fdf88ccf528, attrs=0x7fdf88ccf958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe073fdc4c0, obj=..., state=state@entry=0x7fe073fdbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe073fdc4c0, obj=..., state=state@entry=0x7fe073fdbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe073fdc4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe073fdbf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe073fdc4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe073fdd0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe073fdd0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfad00, client_io=client_io@entry=0x7fe073fdd710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfad00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfad00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d280) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 476 (Thread 0x7fe0737de700 (LWP 136927)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0737da6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0737da6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0737da898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0737da8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0737da9d0, bucket=bucket@entry=0x7fe0737daa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf888cfb18, pmtime=0x7fdf888cfb20, epoch=0x7fdf888cfb28, attrs=0x7fdf888cff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0737db4c0, obj=..., state=state@entry=0x7fe0737dad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0737db4c0, obj=..., state=state@entry=0x7fe0737dad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0737db4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0737daf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0737db4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0737dc0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0737dc0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce1c0, client_io=client_io@entry=0x7fe0737dc710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce1c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce1c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d2e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 475 (Thread 0x7fe072fdd700 (LWP 136928)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe072fd96c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe072fd96c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe072fd9898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe072fd98c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe072fd99d0, bucket=bucket@entry=0x7fe072fd9a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf884cfb18, pmtime=0x7fdf884cfb20, epoch=0x7fdf884cfb28, attrs=0x7fdf884cff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe072fda4c0, obj=..., state=state@entry=0x7fe072fd9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe072fda4c0, obj=..., state=state@entry=0x7fe072fd9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe072fda4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe072fd9f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe072fda4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe072fdb0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe072fdb0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa5c0, client_io=client_io@entry=0x7fe072fdb710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa5c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa5c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d340) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 474 (Thread 0x7fe0727dc700 (LWP 136929)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe100abac68 in Mutex::Lock (this=0x7fe0ebc41170, no_lockdep=<optimized out>) at common/Mutex.cc:110
#4  0x00007fe100c92d8c in SimpleMessenger::submit_message (this=this@entry=0x7fe0fad71600, m=m@entry=0x7fdf8818b900, con=con@entry=0x7fe0ebc42180, dest_addr=..., dest_type=4, already_locked=already_locked@entry=false) at msg/simple/SimpleMessenger.cc:458
#5  0x00007fe100c93d95 in SimpleMessenger::_send_message (this=0x7fe0fad71600, m=0x7fdf8818b900, con=0x7fe0ebc42180) at msg/simple/SimpleMessenger.cc:142
#6  0x00007fe100a3b532 in Objecter::_send_op (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8803a200, m=m@entry=0x7fdf8818b900) at osdc/Objecter.cc:3080
#7  0x00007fe100a40250 in Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8803a200, sul=..., ptid=ptid@entry=0x7fe0727d8348) at osdc/Objecter.cc:2340
#8  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8803a200, sul=..., ptid=ptid@entry=0x7fe0727d8348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#9  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8803a200, ptid=0x7fe0727d8348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#10 0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf76543600, oid=..., o=0x7fdf880af600, pbl=pbl@entry=0x7fe0727d8760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#11 0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0727d86e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fe0727d86c0, pbl=pbl@entry=0x7fe0727d8760) at librados/librados.cc:1424
#12 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf880ceb18, pmtime=0x7fdf880ceb20, epoch=0x7fdf880ceb28, attrs=0x7fdf880cef58, first_chunk=0x0, objv_tracker=0x7fe0727d9498) at rgw/rgw_rados.cc:10670
#13 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0727d8ff0, obj=..., state=state@entry=0x7fe0727d8a28, objv_tracker=objv_tracker@entry=0x7fe0727d9498) at rgw/rgw_rados.cc:8325
#14 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0727d8ff0, obj=..., state=state@entry=0x7fe0727d8a28, objv_tracker=objv_tracker@entry=0x7fe0727d9498) at rgw/rgw_rados.cc:8353
#15 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe0727d9498) at rgw/rgw_rados.cc:9101
#16 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0727d8c30, objv_tracker=objv_tracker@entry=0x7fe0727d9498) at rgw/rgw_rados.cc:9133
#17 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0727d9498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe0727d9150) at rgw/rgw_tools.cc:63
#18 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe0727d9498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe0727d9150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#19 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#20 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#21 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0727da0e0) at rgw/rgw_rest_s3.cc:4412
#22 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0727da0e0) at rgw/rgw_rest_s3.cc:3681
#23 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357340, client_io=client_io@entry=0x7fe0727da710, olog=0x0) at rgw/rgw_process.cc:91
#24 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357340) at rgw/rgw_fcgi_process.cc:121
#25 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357340) at rgw/rgw_process.h:84
#26 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d3a0) at common/WorkQueue.cc:128
#27 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#28 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#29 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 473 (Thread 0x7fe071fdb700 (LWP 136930)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe071fd71a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe071fd71a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf87c21300, sul=..., ptid=ptid@entry=0x7fe071fd73c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf87c21300, sul=..., ptid=ptid@entry=0x7fe071fd73c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf87c21300, ptid=0x7fe071fd73c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb718600, oid=..., o=0x7fdf8709ac00, pbl=pbl@entry=0x7fe071fd77e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe071fd7760, oid="test1", o=o@entry=0x7fe071fd7740, pbl=pbl@entry=0x7fe071fd77e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf87ccfb18, pmtime=0x7fdf87ccfb20, epoch=0x7fdf87ccfb28, attrs=0x7fdf87ccff58, first_chunk=0x0, objv_tracker=0x7fe071fd81e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe071fd9620, obj=..., state=state@entry=0x7fe071fd7aa8, objv_tracker=objv_tracker@entry=0x7fe071fd81e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe071fd9620, obj=..., state=state@entry=0x7fe071fd7aa8, objv_tracker=objv_tracker@entry=0x7fe071fd81e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe071fd93c8, lastmod=0x7fe071fd8180, obj_size=0x0, objv_tracker=0x7fe071fd81e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe071fd7cb0, objv_tracker=objv_tracker@entry=0x7fe071fd81e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe071fd81e0, pmtime=pmtime@entry=0x7fe071fd8180, pattrs=pattrs@entry=0x7fe071fd93c8, cache_info=cache_info@entry=0x7fe071fd81b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe071fd81e0, pmtime=pmtime@entry=0x7fe071fd8180, pattrs=pattrs@entry=0x7fe071fd93c8, cache_info=cache_info@entry=0x7fe071fd81b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe071fd93c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe071fd90e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c810c40) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ea900, client_io=client_io@entry=0x7fe071fd9710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ea900) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ea900) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d400) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 472 (Thread 0x7fe0717da700 (LWP 136931)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0717d66c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0717d66c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0717d6898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0717d68c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0717d69d0, bucket=bucket@entry=0x7fe0717d6a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf878cf518, pmtime=0x7fdf878cf520, epoch=0x7fdf878cf528, attrs=0x7fdf878cf958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0717d74c0, obj=..., state=state@entry=0x7fe0717d6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0717d74c0, obj=..., state=state@entry=0x7fe0717d6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0717d74b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0717d6f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0717d74b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0717d80e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0717d80e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357e40, client_io=client_io@entry=0x7fe0717d8710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357e40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357e40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d460) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 471 (Thread 0x7fe070fd9700 (LWP 136932)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe070fd56c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe070fd56c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe070fd5898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe070fd58c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe070fd59d0, bucket=bucket@entry=0x7fe070fd5a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf874cf518, pmtime=0x7fdf874cf520, epoch=0x7fdf874cf528, attrs=0x7fdf874cf958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe070fd64c0, obj=..., state=state@entry=0x7fe070fd5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe070fd64c0, obj=..., state=state@entry=0x7fe070fd5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe070fd64b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe070fd5f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe070fd64b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe070fd70e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe070fd70e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9dbc0, client_io=client_io@entry=0x7fe070fd7710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9dbc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9dbc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d4c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 470 (Thread 0x7fe0707d8700 (LWP 136933)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0707d41a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0707d41a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf87049100, sul=..., ptid=ptid@entry=0x7fe0707d43c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf87049100, sul=..., ptid=ptid@entry=0x7fe0707d43c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf87049100, ptid=0x7fe0707d43c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c5c00, oid=..., o=0x7fdf7c29e700, pbl=pbl@entry=0x7fe0707d47e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0707d4760, oid="test1", o=o@entry=0x7fe0707d4740, pbl=pbl@entry=0x7fe0707d47e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf870d2b18, pmtime=0x7fdf870d2b20, epoch=0x7fdf870d2b28, attrs=0x7fdf870d2f58, first_chunk=0x0, objv_tracker=0x7fe0707d51e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0707d6620, obj=..., state=state@entry=0x7fe0707d4aa8, objv_tracker=objv_tracker@entry=0x7fe0707d51e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0707d6620, obj=..., state=state@entry=0x7fe0707d4aa8, objv_tracker=objv_tracker@entry=0x7fe0707d51e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0707d63c8, lastmod=0x7fe0707d5180, obj_size=0x0, objv_tracker=0x7fe0707d51e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0707d4cb0, objv_tracker=objv_tracker@entry=0x7fe0707d51e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0707d51e0, pmtime=pmtime@entry=0x7fe0707d5180, pattrs=pattrs@entry=0x7fe0707d63c8, cache_info=cache_info@entry=0x7fe0707d51b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0707d51e0, pmtime=pmtime@entry=0x7fe0707d5180, pattrs=pattrs@entry=0x7fe0707d63c8, cache_info=cache_info@entry=0x7fe0707d51b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0707d63c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0707d60e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bd98240) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868240, client_io=client_io@entry=0x7fe0707d6710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868240) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868240) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d520) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 469 (Thread 0x7fe06ffd7700 (LWP 136934)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe06ffd36c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe06ffd36c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe06ffd3898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe06ffd38c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe06ffd39d0, bucket=bucket@entry=0x7fe06ffd3a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf86cce518, pmtime=0x7fdf86cce520, epoch=0x7fdf86cce528, attrs=0x7fdf86cce958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe06ffd44c0, obj=..., state=state@entry=0x7fe06ffd3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe06ffd44c0, obj=..., state=state@entry=0x7fe06ffd3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe06ffd44b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe06ffd3f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe06ffd44b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe06ffd50e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe06ffd50e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8fb80, client_io=client_io@entry=0x7fe06ffd5710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8fb80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8fb80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d580) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 468 (Thread 0x7fe06f7d6700 (LWP 136935)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe06f7d26c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe06f7d26c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe06f7d2898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe06f7d28c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe06f7d29d0, bucket=bucket@entry=0x7fe06f7d2a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf868cfb18, pmtime=0x7fdf868cfb20, epoch=0x7fdf868cfb28, attrs=0x7fdf868cff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe06f7d34c0, obj=..., state=state@entry=0x7fe06f7d2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe06f7d34c0, obj=..., state=state@entry=0x7fe06f7d2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe06f7d34b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe06f7d2f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe06f7d34b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe06f7d40e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe06f7d40e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd1c0, client_io=client_io@entry=0x7fe06f7d4710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd1c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd1c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d5e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 467 (Thread 0x7fe06efd5700 (LWP 136936)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe06efd1950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73396c00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe06efd1d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe06efd1ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe06efd21c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe06efd1d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe06efd23d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe06efd23d8, pmtime=pmtime@entry=0x7fe06efd24b0, pattrs=pattrs@entry=0x7fe06efd24b8, cache_info=cache_info@entry=0x7fe06efd21c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe06efd24b0, pattrs=pattrs@entry=0x7fe06efd24b8, cache_info=cache_info@entry=0x7fe06efd21c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe06efd33c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe06efd30e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cb79820) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a308dc0, client_io=client_io@entry=0x7fe06efd3710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a308dc0) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a308dc0) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d640) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 466 (Thread 0x7fe06e7d4700 (LWP 136937)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe06e7d06c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe06e7d06c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe06e7d0898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe06e7d08c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe06e7d09d0, bucket=bucket@entry=0x7fe06e7d0a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf860cf518, pmtime=0x7fdf860cf520, epoch=0x7fdf860cf528, attrs=0x7fdf860cf958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe06e7d14c0, obj=..., state=state@entry=0x7fe06e7d0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe06e7d14c0, obj=..., state=state@entry=0x7fe06e7d0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe06e7d14b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe06e7d0f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe06e7d14b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe06e7d20e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe06e7d20e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8b00, client_io=client_io@entry=0x7fe06e7d2710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8b00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8b00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d6a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 465 (Thread 0x7fe06dfd3700 (LWP 136938)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe06dfcf1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe06dfcf1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf85c24500, sul=..., ptid=ptid@entry=0x7fe06dfcf3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf85c24500, sul=..., ptid=ptid@entry=0x7fe06dfcf3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf85c24500, ptid=0x7fe06dfcf3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745bda00, oid=..., o=0x7fe0f0d7af80, pbl=pbl@entry=0x7fe06dfcf7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe06dfcf760, oid="test1", o=o@entry=0x7fe06dfcf740, pbl=pbl@entry=0x7fe06dfcf7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf85cd0b18, pmtime=0x7fdf85cd0b20, epoch=0x7fdf85cd0b28, attrs=0x7fdf85cd0f58, first_chunk=0x0, objv_tracker=0x7fe06dfd01e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe06dfd1620, obj=..., state=state@entry=0x7fe06dfcfaa8, objv_tracker=objv_tracker@entry=0x7fe06dfd01e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe06dfd1620, obj=..., state=state@entry=0x7fe06dfcfaa8, objv_tracker=objv_tracker@entry=0x7fe06dfd01e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe06dfd13c8, lastmod=0x7fe06dfd0180, obj_size=0x0, objv_tracker=0x7fe06dfd01e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe06dfcfcb0, objv_tracker=objv_tracker@entry=0x7fe06dfd01e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe06dfd01e0, pmtime=pmtime@entry=0x7fe06dfd0180, pattrs=pattrs@entry=0x7fe06dfd13c8, cache_info=cache_info@entry=0x7fe06dfd01b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe06dfd01e0, pmtime=pmtime@entry=0x7fe06dfd0180, pattrs=pattrs@entry=0x7fe06dfd13c8, cache_info=cache_info@entry=0x7fe06dfd01b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe06dfd13c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe06dfd10e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cb790a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78510500, client_io=client_io@entry=0x7fe06dfd1710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78510500) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78510500) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d700) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 464 (Thread 0x7fe06d7d2700 (LWP 136939)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe06d7ce1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe06d7ce1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8580e300, sul=..., ptid=ptid@entry=0x7fe06d7ce3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8580e300, sul=..., ptid=ptid@entry=0x7fe06d7ce3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8580e300, ptid=0x7fe06d7ce3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fe000, oid=..., o=0x7fdf55e70980, pbl=pbl@entry=0x7fe06d7ce7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe06d7ce760, oid="test1", o=o@entry=0x7fe06d7ce740, pbl=pbl@entry=0x7fe06d7ce7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf858d2b18, pmtime=0x7fdf858d2b20, epoch=0x7fdf858d2b28, attrs=0x7fdf858d2f58, first_chunk=0x0, objv_tracker=0x7fe06d7cf1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe06d7d0620, obj=..., state=state@entry=0x7fe06d7ceaa8, objv_tracker=objv_tracker@entry=0x7fe06d7cf1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe06d7d0620, obj=..., state=state@entry=0x7fe06d7ceaa8, objv_tracker=objv_tracker@entry=0x7fe06d7cf1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe06d7d03c8, lastmod=0x7fe06d7cf180, obj_size=0x0, objv_tracker=0x7fe06d7cf1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe06d7cecb0, objv_tracker=objv_tracker@entry=0x7fe06d7cf1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe06d7cf1e0, pmtime=pmtime@entry=0x7fe06d7cf180, pattrs=pattrs@entry=0x7fe06d7d03c8, cache_info=cache_info@entry=0x7fe06d7cf1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe06d7cf1e0, pmtime=pmtime@entry=0x7fe06d7cf180, pattrs=pattrs@entry=0x7fe06d7d03c8, cache_info=cache_info@entry=0x7fe06d7cf1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe06d7d03c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe06d7d00e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bce57e0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722cd80, client_io=client_io@entry=0x7fe06d7d0710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722cd80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722cd80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d760) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 463 (Thread 0x7fe06cfd1700 (LWP 136940)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe06cfcd1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe06cfcd1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8540fc00, sul=..., ptid=ptid@entry=0x7fe06cfcd3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8540fc00, sul=..., ptid=ptid@entry=0x7fe06cfcd3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8540fc00, ptid=0x7fe06cfcd3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7440ec00, oid=..., o=0x7fe0ccc5f280, pbl=pbl@entry=0x7fe06cfcd7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe06cfcd760, oid="test1", o=o@entry=0x7fe06cfcd740, pbl=pbl@entry=0x7fe06cfcd7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf854d0518, pmtime=0x7fdf854d0520, epoch=0x7fdf854d0528, attrs=0x7fdf854d0958, first_chunk=0x0, objv_tracker=0x7fe06cfce1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe06cfcf620, obj=..., state=state@entry=0x7fe06cfcdaa8, objv_tracker=objv_tracker@entry=0x7fe06cfce1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe06cfcf620, obj=..., state=state@entry=0x7fe06cfcdaa8, objv_tracker=objv_tracker@entry=0x7fe06cfce1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe06cfcf3c8, lastmod=0x7fe06cfce180, obj_size=0x0, objv_tracker=0x7fe06cfce1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe06cfcdcb0, objv_tracker=objv_tracker@entry=0x7fe06cfce1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe06cfce1e0, pmtime=pmtime@entry=0x7fe06cfce180, pattrs=pattrs@entry=0x7fe06cfcf3c8, cache_info=cache_info@entry=0x7fe06cfce1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe06cfce1e0, pmtime=pmtime@entry=0x7fe06cfce180, pattrs=pattrs@entry=0x7fe06cfcf3c8, cache_info=cache_info@entry=0x7fe06cfce1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe06cfcf3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe06cfcf0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf79e30320) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c70f5cc0, client_io=client_io@entry=0x7fe06cfcf710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c70f5cc0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c70f5cc0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d7c0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 462 (Thread 0x7fe06c7d0700 (LWP 136941)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe06c7cc850) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73380400, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe06c7cca80, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe06c7cca00, oid="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3_100w_512K2223", o=o@entry=0x7fe06c7cc9e0, pbl=pbl@entry=0x7fe06c7cca80) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=this@entry=0x7fe0fad50c00, obj=..., psize=psize@entry=0x7fdf85087b18, pmtime=pmtime@entry=0x7fdf85087b20, epoch=epoch@entry=0x7fdf85087b28, attrs=attrs@entry=0x7fdf85087f58, first_chunk=0x0, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10bab7456 in RGWRados::get_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe06c7ce620, obj=..., state=state@entry=0x7fe06c7cd028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8375
#6  0x00007fe10bab8b84 in RGWRados::get_obj_state (this=0x7fe0fad50c00, rctx=0x7fe06c7ce620, obj=..., state=state@entry=0x7fe06c7cd028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8491
#7  0x00007fe10babb2a0 in RGWRados::Object::get_state (this=<optimized out>, pstate=pstate@entry=0x7fe06c7cd028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8649
#8  0x00007fe10bac1939 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe06c7cd500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6227
#9  0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf85205600, etag=..., mtime=0x7fdf853eb768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#10 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf85205600, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#11 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf853eb400) at rgw/rgw_op.cc:2877
#12 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bf0bb80, client_io=client_io@entry=0x7fe06c7ce710, olog=0x0) at rgw/rgw_process.cc:174
#13 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bf0bb80) at rgw/rgw_fcgi_process.cc:121
#14 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bf0bb80) at rgw/rgw_process.h:84
#15 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d820) at common/WorkQueue.cc:128
#16 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#17 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#18 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 461 (Thread 0x7fe06bfcf700 (LWP 136942)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe06bfcb6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe06bfcb6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe06bfcb898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe06bfcb8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe06bfcb9d0, bucket=bucket@entry=0x7fe06bfcba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf84cd0518, pmtime=0x7fdf84cd0520, epoch=0x7fdf84cd0528, attrs=0x7fdf84cd0958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe06bfcc4c0, obj=..., state=state@entry=0x7fe06bfcbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe06bfcc4c0, obj=..., state=state@entry=0x7fe06bfcbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe06bfcc4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe06bfcbf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe06bfcc4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe06bfcd0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe06bfcd0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dcd00, client_io=client_io@entry=0x7fe06bfcd710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dcd00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dcd00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d880) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 460 (Thread 0x7fe06b7ce700 (LWP 136943)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe06b7ca6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe06b7ca6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe06b7ca898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe06b7ca8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe06b7ca9d0, bucket=bucket@entry=0x7fe06b7caa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf848d1518, pmtime=0x7fdf848d1520, epoch=0x7fdf848d1528, attrs=0x7fdf848d1958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe06b7cb4c0, obj=..., state=state@entry=0x7fe06b7cad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe06b7cb4c0, obj=..., state=state@entry=0x7fe06b7cad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe06b7cb4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe06b7caf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe06b7cb4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe06b7cc0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe06b7cc0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce2c0, client_io=client_io@entry=0x7fe06b7cc710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce2c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce2c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d8e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 459 (Thread 0x7fe06afcd700 (LWP 136944)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe06afc96c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe06afc96c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe06afc9898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe06afc98c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe06afc99d0, bucket=bucket@entry=0x7fe06afc9a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf844d3518, pmtime=0x7fdf844d3520, epoch=0x7fdf844d3528, attrs=0x7fdf844d3958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe06afca4c0, obj=..., state=state@entry=0x7fe06afc9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe06afca4c0, obj=..., state=state@entry=0x7fe06afc9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe06afca4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe06afc9f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe06afca4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe06afcb0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe06afcb0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd2c0, client_io=client_io@entry=0x7fe06afcb710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd2c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd2c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d940) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 458 (Thread 0x7fe06a7cc700 (LWP 136945)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe06a7c8120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe06a7c8120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf84015100, sul=..., ptid=ptid@entry=0x7fe06a7c8348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf84015100, sul=..., ptid=ptid@entry=0x7fe06a7c8348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf84015100, ptid=0x7fe06a7c8348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7699c200, oid=..., o=0x7fdf840e9d80, pbl=pbl@entry=0x7fe06a7c8760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe06a7c86e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fe06a7c86c0, pbl=pbl@entry=0x7fe06a7c8760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf840d1518, pmtime=0x7fdf840d1520, epoch=0x7fdf840d1528, attrs=0x7fdf840d1958, first_chunk=0x0, objv_tracker=0x7fe06a7c9498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe06a7c8ff0, obj=..., state=state@entry=0x7fe06a7c8a28, objv_tracker=objv_tracker@entry=0x7fe06a7c9498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe06a7c8ff0, obj=..., state=state@entry=0x7fe06a7c8a28, objv_tracker=objv_tracker@entry=0x7fe06a7c9498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe06a7c9498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe06a7c8c30, objv_tracker=objv_tracker@entry=0x7fe06a7c9498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fe06a7c9498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe06a7c9150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe06a7c9498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe06a7c9150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe06a7ca0e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe06a7ca0e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b3578c0, client_io=client_io@entry=0x7fe06a7ca710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b3578c0) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b3578c0) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702d9a0) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 457 (Thread 0x7fe069fcb700 (LWP 136946)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe069fc76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe069fc76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe069fc7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe069fc78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe069fc79d0, bucket=bucket@entry=0x7fe069fc7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf83ccfb18, pmtime=0x7fdf83ccfb20, epoch=0x7fdf83ccfb28, attrs=0x7fdf83ccff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe069fc84c0, obj=..., state=state@entry=0x7fe069fc7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe069fc84c0, obj=..., state=state@entry=0x7fe069fc7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe069fc84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe069fc7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe069fc84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe069fc90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe069fc90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8a80, client_io=client_io@entry=0x7fe069fc9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8a80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8a80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702da00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 456 (Thread 0x7fe0697ca700 (LWP 136947)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0697c66c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0697c66c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0697c6898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0697c68c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0697c69d0, bucket=bucket@entry=0x7fe0697c6a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf838d1b18, pmtime=0x7fdf838d1b20, epoch=0x7fdf838d1b28, attrs=0x7fdf838d1f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0697c74c0, obj=..., state=state@entry=0x7fe0697c6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0697c74c0, obj=..., state=state@entry=0x7fe0697c6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0697c74b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0697c6f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0697c74b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0697c80e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0697c80e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb640, client_io=client_io@entry=0x7fe0697c8710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb640) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb640) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702da60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 455 (Thread 0x7fe068fc9700 (LWP 136948)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe068fc56c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe068fc56c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe068fc5898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe068fc58c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe068fc59d0, bucket=bucket@entry=0x7fe068fc5a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf83481b18, pmtime=0x7fdf83481b20, epoch=0x7fdf83481b28, attrs=0x7fdf83481f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe068fc64c0, obj=..., state=state@entry=0x7fe068fc5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe068fc64c0, obj=..., state=state@entry=0x7fe068fc5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe068fc64b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe068fc5f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe068fc64b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe068fc70e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe068fc70e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79492d00, client_io=client_io@entry=0x7fe068fc7710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79492d00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79492d00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702dac0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 454 (Thread 0x7fe0687c8700 (LWP 136949)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0687c46c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0687c46c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0687c4898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0687c48c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0687c49d0, bucket=bucket@entry=0x7fe0687c4a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf830d0b18, pmtime=0x7fdf830d0b20, epoch=0x7fdf830d0b28, attrs=0x7fdf830d0f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0687c54c0, obj=..., state=state@entry=0x7fe0687c4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0687c54c0, obj=..., state=state@entry=0x7fe0687c4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0687c54b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0687c4f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0687c54b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0687c60e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0687c60e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8b40, client_io=client_io@entry=0x7fe0687c6710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8b40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8b40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702db20) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 453 (Thread 0x7fe067fc7700 (LWP 136950)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe067fc2de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d05e00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe067fc3010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe067fc2f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe067fc2f70, pbl=pbl@entry=0x7fe067fc3010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf82c86318, pmtime=0x7fdf82c86320, epoch=0x7fdf82c86328, attrs=0x7fdf82c86758, first_chunk=0x0, objv_tracker=0x7fe067fc3ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe067fc3b90, obj=..., state=state@entry=0x7fe067fc32d8, objv_tracker=objv_tracker@entry=0x7fe067fc3ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe067fc3b90, obj=..., state=state@entry=0x7fe067fc32d8, objv_tracker=objv_tracker@entry=0x7fe067fc3ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe067fc3ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe067fc34e0, objv_tracker=objv_tracker@entry=0x7fe067fc3ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe067fc3ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2254", bucket_obj=bucket_obj@entry=0x7fe067fc4210, shard_id=shard_id@entry=0x7fe067fc4200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe067fc41b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe067fc4120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe067fc4120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe067fc4500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf82fd2800, etag=..., mtime=0x7fdf82ebf368, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf82fd2800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf82ebf000) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77aee500, client_io=client_io@entry=0x7fe067fc5710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77aee500) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77aee500) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702db80) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 452 (Thread 0x7fe0677c6700 (LWP 136951)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0677c26c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0677c26c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0677c2898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0677c28c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0677c29d0, bucket=bucket@entry=0x7fe0677c2a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf828d0b18, pmtime=0x7fdf828d0b20, epoch=0x7fdf828d0b28, attrs=0x7fdf828d0f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0677c34c0, obj=..., state=state@entry=0x7fe0677c2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0677c34c0, obj=..., state=state@entry=0x7fe0677c2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0677c34b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0677c2f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0677c34b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0677c40e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0677c40e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8fe80, client_io=client_io@entry=0x7fe0677c4710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8fe80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8fe80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702dbe0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 451 (Thread 0x7fe066fc5700 (LWP 136952)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe066fc11a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe066fc11a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8240e800, sul=..., ptid=ptid@entry=0x7fe066fc13c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8240e800, sul=..., ptid=ptid@entry=0x7fe066fc13c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8240e800, ptid=0x7fe066fc13c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf74406200, oid=..., o=0x7fe0ebd54e00, pbl=pbl@entry=0x7fe066fc17e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe066fc1760, oid="test1", o=o@entry=0x7fe066fc1740, pbl=pbl@entry=0x7fe066fc17e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf824ce518, pmtime=0x7fdf824ce520, epoch=0x7fdf824ce528, attrs=0x7fdf824ce958, first_chunk=0x0, objv_tracker=0x7fe066fc21e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe066fc3620, obj=..., state=state@entry=0x7fe066fc1aa8, objv_tracker=objv_tracker@entry=0x7fe066fc21e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe066fc3620, obj=..., state=state@entry=0x7fe066fc1aa8, objv_tracker=objv_tracker@entry=0x7fe066fc21e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe066fc33c8, lastmod=0x7fe066fc2180, obj_size=0x0, objv_tracker=0x7fe066fc21e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe066fc1cb0, objv_tracker=objv_tracker@entry=0x7fe066fc21e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe066fc21e0, pmtime=pmtime@entry=0x7fe066fc2180, pattrs=pattrs@entry=0x7fe066fc33c8, cache_info=cache_info@entry=0x7fe066fc21b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe066fc21e0, pmtime=pmtime@entry=0x7fe066fc2180, pattrs=pattrs@entry=0x7fe066fc33c8, cache_info=cache_info@entry=0x7fe066fc21b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe066fc33c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe066fc30e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7ca895c0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ca8e200, client_io=client_io@entry=0x7fe066fc3710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ca8e200) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ca8e200) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702dc40) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 450 (Thread 0x7fe0667c4700 (LWP 136953)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0667c0830) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf774bca00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe0667c0c38, oid="system.user", o=o@entry=0x7fe0667c09c0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe0667c1150) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe0667c0c30, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe0667c1498) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="system.user", bl=..., objv_tracker=objv_tracker@entry=0x7fe0667c1498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe0667c1150) at rgw/rgw_tools.cc:69
#7  0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe0667c1498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe0667c1150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#8  0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#9  0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#10 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0667c20e0) at rgw/rgw_rest_s3.cc:4412
#11 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0667c20e0) at rgw/rgw_rest_s3.cc:3681
#12 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ba6d580, client_io=client_io@entry=0x7fe0667c2710, olog=0x0) at rgw/rgw_process.cc:91
#13 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ba6d580) at rgw/rgw_fcgi_process.cc:121
#14 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ba6d580) at rgw/rgw_process.h:84
#15 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702dca0) at common/WorkQueue.cc:128
#16 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#17 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#18 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 449 (Thread 0x7fe065fc3700 (LWP 136954)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe065fbf6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe065fbf6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe065fbf898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe065fbf8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe065fbf9d0, bucket=bucket@entry=0x7fe065fbfa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf81cceb18, pmtime=0x7fdf81cceb20, epoch=0x7fdf81cceb28, attrs=0x7fdf81ccef58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe065fc04c0, obj=..., state=state@entry=0x7fe065fbfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe065fc04c0, obj=..., state=state@entry=0x7fe065fbfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe065fc04b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe065fbff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe065fc04b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe065fc10e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe065fc10e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdbb40, client_io=client_io@entry=0x7fe065fc1710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdbb40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdbb40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702dd00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 448 (Thread 0x7fe0657c2700 (LWP 136955)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0657be6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0657be6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0657be898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0657be8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0657be9d0, bucket=bucket@entry=0x7fe0657bea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf818d0518, pmtime=0x7fdf818d0520, epoch=0x7fdf818d0528, attrs=0x7fdf818d0958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0657bf4c0, obj=..., state=state@entry=0x7fe0657bed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0657bf4c0, obj=..., state=state@entry=0x7fe0657bed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0657bf4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0657bef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0657bf4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0657c00e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0657c00e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb7c0, client_io=client_io@entry=0x7fe0657c0710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb7c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb7c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702dd60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 447 (Thread 0x7fe064fc1700 (LWP 136956)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe064fbd1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe064fbd1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf81421f80, sul=..., ptid=ptid@entry=0x7fe064fbd3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf81421f80, sul=..., ptid=ptid@entry=0x7fe064fbd3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf81421f80, ptid=0x7fe064fbd3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf76449800, oid=..., o=0x7fe0ec859300, pbl=pbl@entry=0x7fe064fbd7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe064fbd760, oid="test1", o=o@entry=0x7fe064fbd740, pbl=pbl@entry=0x7fe064fbd7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf814cfb18, pmtime=0x7fdf814cfb20, epoch=0x7fdf814cfb28, attrs=0x7fdf814cff58, first_chunk=0x0, objv_tracker=0x7fe064fbe1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe064fbf620, obj=..., state=state@entry=0x7fe064fbdaa8, objv_tracker=objv_tracker@entry=0x7fe064fbe1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe064fbf620, obj=..., state=state@entry=0x7fe064fbdaa8, objv_tracker=objv_tracker@entry=0x7fe064fbe1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe064fbf3c8, lastmod=0x7fe064fbe180, obj_size=0x0, objv_tracker=0x7fe064fbe1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe064fbdcb0, objv_tracker=objv_tracker@entry=0x7fe064fbe1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe064fbe1e0, pmtime=pmtime@entry=0x7fe064fbe180, pattrs=pattrs@entry=0x7fe064fbf3c8, cache_info=cache_info@entry=0x7fe064fbe1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe064fbe1e0, pmtime=pmtime@entry=0x7fe064fbe180, pattrs=pattrs@entry=0x7fe064fbf3c8, cache_info=cache_info@entry=0x7fe064fbe1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe064fbf3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe064fbf0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c3eafe0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7870f6c0, client_io=client_io@entry=0x7fe064fbf710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7870f6c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7870f6c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702ddc0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 446 (Thread 0x7fe0647c0700 (LWP 136957)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0647bc6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0647bc6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0647bc898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0647bc8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0647bc9d0, bucket=bucket@entry=0x7fe0647bca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf810d0b18, pmtime=0x7fdf810d0b20, epoch=0x7fdf810d0b28, attrs=0x7fdf810d0f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0647bd4c0, obj=..., state=state@entry=0x7fe0647bcd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0647bd4c0, obj=..., state=state@entry=0x7fe0647bcd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0647bd4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0647bcf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0647bd4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0647be0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0647be0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa340, client_io=client_io@entry=0x7fe0647be710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa340) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa340) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702de20) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 445 (Thread 0x7fe063fbf700 (LWP 136958)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe100abac68 in Mutex::Lock (this=0x7fe0fad91170, no_lockdep=<optimized out>) at common/Mutex.cc:110
#4  0x00007fe100c92d8c in SimpleMessenger::submit_message (this=this@entry=0x7fe0fad71600, m=m@entry=0x7fdf809aae00, con=con@entry=0x7fe0fac37f00, dest_addr=..., dest_type=4, already_locked=already_locked@entry=false) at msg/simple/SimpleMessenger.cc:458
#5  0x00007fe100c93d95 in SimpleMessenger::_send_message (this=0x7fe0fad71600, m=0x7fdf809aae00, con=0x7fe0fac37f00) at msg/simple/SimpleMessenger.cc:142
#6  0x00007fe100a3b532 in Objecter::_send_op (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf80810880, m=m@entry=0x7fdf809aae00) at osdc/Objecter.cc:3080
#7  0x00007fe100a40250 in Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf80810880, sul=..., ptid=ptid@entry=0x7fe063fbb348) at osdc/Objecter.cc:2340
#8  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf80810880, sul=..., ptid=ptid@entry=0x7fe063fbb348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#9  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf80810880, ptid=0x7fe063fbb348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#10 0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf773c9200, oid=..., o=0x7fdf76170400, pbl=pbl@entry=0x7fe063fbb760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#11 0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe063fbb6e0, oid="system.user", o=o@entry=0x7fe063fbb6c0, pbl=pbl@entry=0x7fe063fbb760) at librados/librados.cc:1424
#12 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf808d3518, pmtime=0x7fdf808d3520, epoch=0x7fdf808d3528, attrs=0x7fdf808d3958, first_chunk=0x0, objv_tracker=0x7fe063fbc498) at rgw/rgw_rados.cc:10670
#13 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe063fbbff0, obj=..., state=state@entry=0x7fe063fbba28, objv_tracker=objv_tracker@entry=0x7fe063fbc498) at rgw/rgw_rados.cc:8325
#14 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe063fbbff0, obj=..., state=state@entry=0x7fe063fbba28, objv_tracker=objv_tracker@entry=0x7fe063fbc498) at rgw/rgw_rados.cc:8353
#15 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe063fbc498) at rgw/rgw_rados.cc:9101
#16 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe063fbbc30, objv_tracker=objv_tracker@entry=0x7fe063fbc498) at rgw/rgw_rados.cc:9133
#17 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="system.user", bl=..., objv_tracker=objv_tracker@entry=0x7fe063fbc498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe063fbc150) at rgw/rgw_tools.cc:63
#18 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe063fbc498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe063fbc150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#19 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#20 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#21 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe063fbd0e0) at rgw/rgw_rest_s3.cc:4412
#22 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe063fbd0e0) at rgw/rgw_rest_s3.cc:3681
#23 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ea3c0, client_io=client_io@entry=0x7fe063fbd710, olog=0x0) at rgw/rgw_process.cc:91
#24 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ea3c0) at rgw/rgw_fcgi_process.cc:121
#25 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ea3c0) at rgw/rgw_process.h:84
#26 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702de80) at common/WorkQueue.cc:128
#27 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#28 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#29 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 444 (Thread 0x7fe0637be700 (LWP 136959)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0637ba1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0637ba1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8040fc00, sul=..., ptid=ptid@entry=0x7fe0637ba3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8040fc00, sul=..., ptid=ptid@entry=0x7fe0637ba3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8040fc00, ptid=0x7fe0637ba3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c4e00, oid=..., o=0x7fe0af884a80, pbl=pbl@entry=0x7fe0637ba7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0637ba760, oid="test1", o=o@entry=0x7fe0637ba740, pbl=pbl@entry=0x7fe0637ba7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf804ce518, pmtime=0x7fdf804ce520, epoch=0x7fdf804ce528, attrs=0x7fdf804ce958, first_chunk=0x0, objv_tracker=0x7fe0637bb1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0637bc620, obj=..., state=state@entry=0x7fe0637baaa8, objv_tracker=objv_tracker@entry=0x7fe0637bb1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0637bc620, obj=..., state=state@entry=0x7fe0637baaa8, objv_tracker=objv_tracker@entry=0x7fe0637bb1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0637bc3c8, lastmod=0x7fe0637bb180, obj_size=0x0, objv_tracker=0x7fe0637bb1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0637bacb0, objv_tracker=objv_tracker@entry=0x7fe0637bb1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0637bb1e0, pmtime=pmtime@entry=0x7fe0637bb180, pattrs=pattrs@entry=0x7fe0637bc3c8, cache_info=cache_info@entry=0x7fe0637bb1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0637bb1e0, pmtime=pmtime@entry=0x7fe0637bb180, pattrs=pattrs@entry=0x7fe0637bc3c8, cache_info=cache_info@entry=0x7fe0637bb1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0637bc3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0637bc0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c2317c0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1eaec0, client_io=client_io@entry=0x7fe0637bc710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1eaec0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1eaec0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702dee0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 443 (Thread 0x7fe062fbd700 (LWP 136960)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe062fb9950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73379a00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe062fb9d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe062fb9ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe062fba1c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe062fb9d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe062fba3d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe062fba3d8, pmtime=pmtime@entry=0x7fe062fba4b0, pattrs=pattrs@entry=0x7fe062fba4b8, cache_info=cache_info@entry=0x7fe062fba1c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe062fba4b0, pattrs=pattrs@entry=0x7fe062fba4b8, cache_info=cache_info@entry=0x7fe062fba1c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe062fbb3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe062fbb0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b6907c0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a4bbac0, client_io=client_io@entry=0x7fe062fbb710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a4bbac0) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a4bbac0) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702df40) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 442 (Thread 0x7fe0627bc700 (LWP 136961)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0627b81a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0627b81a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7fc14980, sul=..., ptid=ptid@entry=0x7fe0627b83c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7fc14980, sul=..., ptid=ptid@entry=0x7fe0627b83c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7fc14980, ptid=0x7fe0627b83c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c7600, oid=..., o=0x7fe0e9d45880, pbl=pbl@entry=0x7fe0627b87e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0627b8760, oid="test1", o=o@entry=0x7fe0627b8740, pbl=pbl@entry=0x7fe0627b87e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7fcce518, pmtime=0x7fdf7fcce520, epoch=0x7fdf7fcce528, attrs=0x7fdf7fcce958, first_chunk=0x0, objv_tracker=0x7fe0627b91e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0627ba620, obj=..., state=state@entry=0x7fe0627b8aa8, objv_tracker=objv_tracker@entry=0x7fe0627b91e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0627ba620, obj=..., state=state@entry=0x7fe0627b8aa8, objv_tracker=objv_tracker@entry=0x7fe0627b91e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0627ba3c8, lastmod=0x7fe0627b9180, obj_size=0x0, objv_tracker=0x7fe0627b91e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0627b8cb0, objv_tracker=objv_tracker@entry=0x7fe0627b91e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0627b91e0, pmtime=pmtime@entry=0x7fe0627b9180, pattrs=pattrs@entry=0x7fe0627ba3c8, cache_info=cache_info@entry=0x7fe0627b91b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0627b91e0, pmtime=pmtime@entry=0x7fe0627b9180, pattrs=pattrs@entry=0x7fe0627ba3c8, cache_info=cache_info@entry=0x7fe0627b91b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0627ba3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0627ba0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf79ba8640) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868900, client_io=client_io@entry=0x7fe0627ba710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868900) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868900) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c702dfa0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 441 (Thread 0x7fe061fbb700 (LWP 136962)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe061fb76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe061fb76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe061fb7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe061fb78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe061fb79d0, bucket=bucket@entry=0x7fe061fb7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7f8cf518, pmtime=0x7fdf7f8cf520, epoch=0x7fdf7f8cf528, attrs=0x7fdf7f8cf958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe061fb84c0, obj=..., state=state@entry=0x7fe061fb7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe061fb84c0, obj=..., state=state@entry=0x7fe061fb7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe061fb84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe061fb7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe061fb84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe061fb90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe061fb90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc300, client_io=client_io@entry=0x7fe061fb9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc300) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc300) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037040) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 440 (Thread 0x7fe0617ba700 (LWP 136963)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0617b66c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0617b66c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0617b6898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0617b68c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0617b69d0, bucket=bucket@entry=0x7fe0617b6a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7f4cf518, pmtime=0x7fdf7f4cf520, epoch=0x7fdf7f4cf528, attrs=0x7fdf7f4cf958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0617b74c0, obj=..., state=state@entry=0x7fe0617b6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0617b74c0, obj=..., state=state@entry=0x7fe0617b6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0617b74b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0617b6f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0617b74b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0617b80e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0617b80e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78710b80, client_io=client_io@entry=0x7fe0617b8710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78710b80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78710b80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70370a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 439 (Thread 0x7fe060fb9700 (LWP 136964)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe060fb5120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe060fb5120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7f04b900, sul=..., ptid=ptid@entry=0x7fe060fb5348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7f04b900, sul=..., ptid=ptid@entry=0x7fe060fb5348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7f04b900, ptid=0x7fe060fb5348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf764f2400, oid=..., o=0x7fe0ec972200, pbl=pbl@entry=0x7fe060fb5760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe060fb56e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fe060fb56c0, pbl=pbl@entry=0x7fe060fb5760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7f0cb518, pmtime=0x7fdf7f0cb520, epoch=0x7fdf7f0cb528, attrs=0x7fdf7f0cb958, first_chunk=0x0, objv_tracker=0x7fe060fb6498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe060fb5ff0, obj=..., state=state@entry=0x7fe060fb5a28, objv_tracker=objv_tracker@entry=0x7fe060fb6498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe060fb5ff0, obj=..., state=state@entry=0x7fe060fb5a28, objv_tracker=objv_tracker@entry=0x7fe060fb6498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe060fb6498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe060fb5c30, objv_tracker=objv_tracker@entry=0x7fe060fb6498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fe060fb6498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe060fb6150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe060fb6498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe060fb6150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe060fb70e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe060fb70e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357540, client_io=client_io@entry=0x7fe060fb7710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357540) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357540) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037100) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 438 (Thread 0x7fe0607b8700 (LWP 136965)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0607b46c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0607b46c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0607b4898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0607b48c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0607b49d0, bucket=bucket@entry=0x7fe0607b4a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7ecceb18, pmtime=0x7fdf7ecceb20, epoch=0x7fdf7ecceb28, attrs=0x7fdf7eccef58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0607b54c0, obj=..., state=state@entry=0x7fe0607b4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0607b54c0, obj=..., state=state@entry=0x7fe0607b4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0607b54b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0607b4f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0607b54b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0607b60e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0607b60e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa980, client_io=client_io@entry=0x7fe0607b6710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa980) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa980) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037160) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 437 (Thread 0x7fe05ffb7700 (LWP 136966)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe05ffb3950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73378600, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe05ffb3d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe05ffb3ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe05ffb41c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe05ffb3d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe05ffb43d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe05ffb43d8, pmtime=pmtime@entry=0x7fe05ffb44b0, pattrs=pattrs@entry=0x7fe05ffb44b8, cache_info=cache_info@entry=0x7fe05ffb41c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe05ffb44b0, pattrs=pattrs@entry=0x7fe05ffb44b8, cache_info=cache_info@entry=0x7fe05ffb41c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe05ffb53c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe05ffb50e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bd41040) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79b7ff40, client_io=client_io@entry=0x7fe05ffb5710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79b7ff40) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79b7ff40) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70371c0) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 436 (Thread 0x7fe05f7b6700 (LWP 136967)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe05f7b21a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe05f7b21a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7e437780, sul=..., ptid=ptid@entry=0x7fe05f7b23c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7e437780, sul=..., ptid=ptid@entry=0x7fe05f7b23c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7e437780, ptid=0x7fe05f7b23c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7440c200, oid=..., o=0x7fe0eca2d600, pbl=pbl@entry=0x7fe05f7b27e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe05f7b2760, oid="test1", o=o@entry=0x7fe05f7b2740, pbl=pbl@entry=0x7fe05f7b27e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7e4cfb18, pmtime=0x7fdf7e4cfb20, epoch=0x7fdf7e4cfb28, attrs=0x7fdf7e4cff58, first_chunk=0x0, objv_tracker=0x7fe05f7b31e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05f7b4620, obj=..., state=state@entry=0x7fe05f7b2aa8, objv_tracker=objv_tracker@entry=0x7fe05f7b31e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05f7b4620, obj=..., state=state@entry=0x7fe05f7b2aa8, objv_tracker=objv_tracker@entry=0x7fe05f7b31e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe05f7b43c8, lastmod=0x7fe05f7b3180, obj_size=0x0, objv_tracker=0x7fe05f7b31e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05f7b2cb0, objv_tracker=objv_tracker@entry=0x7fe05f7b31e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe05f7b31e0, pmtime=pmtime@entry=0x7fe05f7b3180, pattrs=pattrs@entry=0x7fe05f7b43c8, cache_info=cache_info@entry=0x7fe05f7b31b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe05f7b31e0, pmtime=pmtime@entry=0x7fe05f7b3180, pattrs=pattrs@entry=0x7fe05f7b43c8, cache_info=cache_info@entry=0x7fe05f7b31b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe05f7b43c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe05f7b40e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c1781c0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c300, client_io=client_io@entry=0x7fe05f7b4710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c300) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c300) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037220) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 435 (Thread 0x7fe05efb5700 (LWP 136968)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe05efb16c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe05efb16c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe05efb1898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe05efb18c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe05efb19d0, bucket=bucket@entry=0x7fe05efb1a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7e0cfb18, pmtime=0x7fdf7e0cfb20, epoch=0x7fdf7e0cfb28, attrs=0x7fdf7e0cff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05efb24c0, obj=..., state=state@entry=0x7fe05efb1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05efb24c0, obj=..., state=state@entry=0x7fe05efb1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe05efb24b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05efb1f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe05efb24b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe05efb30e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe05efb30e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9da40, client_io=client_io@entry=0x7fe05efb3710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9da40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9da40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037280) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 434 (Thread 0x7fe05e7b4700 (LWP 136969)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe05e7b06c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe05e7b06c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe05e7b0898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe05e7b08c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe05e7b09d0, bucket=bucket@entry=0x7fe05e7b0a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7dcd3b18, pmtime=0x7fdf7dcd3b20, epoch=0x7fdf7dcd3b28, attrs=0x7fdf7dcd3f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05e7b14c0, obj=..., state=state@entry=0x7fe05e7b0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05e7b14c0, obj=..., state=state@entry=0x7fe05e7b0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe05e7b14b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05e7b0f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe05e7b14b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe05e7b20e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe05e7b20e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdbbc0, client_io=client_io@entry=0x7fe05e7b2710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdbbc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdbbc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70372e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 433 (Thread 0x7fe05dfb3700 (LWP 136970)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe05dfaf1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe05dfaf1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7d84b180, sul=..., ptid=ptid@entry=0x7fe05dfaf3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7d84b180, sul=..., ptid=ptid@entry=0x7fe05dfaf3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7d84b180, ptid=0x7fe05dfaf3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fb200, oid=..., o=0x7fe0edd49a80, pbl=pbl@entry=0x7fe05dfaf7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe05dfaf760, oid="test1", o=o@entry=0x7fe05dfaf740, pbl=pbl@entry=0x7fe05dfaf7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7d885b18, pmtime=0x7fdf7d885b20, epoch=0x7fdf7d885b28, attrs=0x7fdf7d885f58, first_chunk=0x0, objv_tracker=0x7fe05dfb01e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05dfb1620, obj=..., state=state@entry=0x7fe05dfafaa8, objv_tracker=objv_tracker@entry=0x7fe05dfb01e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05dfb1620, obj=..., state=state@entry=0x7fe05dfafaa8, objv_tracker=objv_tracker@entry=0x7fe05dfb01e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe05dfb13c8, lastmod=0x7fe05dfb0180, obj_size=0x0, objv_tracker=0x7fe05dfb01e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05dfafcb0, objv_tracker=objv_tracker@entry=0x7fe05dfb01e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe05dfb01e0, pmtime=pmtime@entry=0x7fe05dfb0180, pattrs=pattrs@entry=0x7fe05dfb13c8, cache_info=cache_info@entry=0x7fe05dfb01b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe05dfb01e0, pmtime=pmtime@entry=0x7fe05dfb0180, pattrs=pattrs@entry=0x7fe05dfb13c8, cache_info=cache_info@entry=0x7fe05dfb01b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe05dfb13c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe05dfb10e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bd41c60) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1f4b40, client_io=client_io@entry=0x7fe05dfb1710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1f4b40) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1f4b40) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037340) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 432 (Thread 0x7fe05d7b2700 (LWP 136971)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe05d7ae6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe05d7ae6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe05d7ae898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe05d7ae8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe05d7ae9d0, bucket=bucket@entry=0x7fe05d7aea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7d4cfb18, pmtime=0x7fdf7d4cfb20, epoch=0x7fdf7d4cfb28, attrs=0x7fdf7d4cff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05d7af4c0, obj=..., state=state@entry=0x7fe05d7aed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05d7af4c0, obj=..., state=state@entry=0x7fe05d7aed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe05d7af4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05d7aef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe05d7af4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe05d7b00e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe05d7b00e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79b91ac0, client_io=client_io@entry=0x7fe05d7b0710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79b91ac0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79b91ac0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70373a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 431 (Thread 0x7fe05cfb1700 (LWP 136972)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe05cfad1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe05cfad1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7d036600, sul=..., ptid=ptid@entry=0x7fe05cfad3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7d036600, sul=..., ptid=ptid@entry=0x7fe05cfad3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7d036600, ptid=0x7fe05cfad3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fe800, oid=..., o=0x7fdf7b273080, pbl=pbl@entry=0x7fe05cfad7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe05cfad760, oid="test1", o=o@entry=0x7fe05cfad740, pbl=pbl@entry=0x7fe05cfad7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7d0d3b18, pmtime=0x7fdf7d0d3b20, epoch=0x7fdf7d0d3b28, attrs=0x7fdf7d0d3f58, first_chunk=0x0, objv_tracker=0x7fe05cfae1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05cfaf620, obj=..., state=state@entry=0x7fe05cfadaa8, objv_tracker=objv_tracker@entry=0x7fe05cfae1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05cfaf620, obj=..., state=state@entry=0x7fe05cfadaa8, objv_tracker=objv_tracker@entry=0x7fe05cfae1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe05cfaf3c8, lastmod=0x7fe05cfae180, obj_size=0x0, objv_tracker=0x7fe05cfae1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05cfadcb0, objv_tracker=objv_tracker@entry=0x7fe05cfae1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe05cfae1e0, pmtime=pmtime@entry=0x7fe05cfae180, pattrs=pattrs@entry=0x7fe05cfaf3c8, cache_info=cache_info@entry=0x7fe05cfae1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe05cfae1e0, pmtime=pmtime@entry=0x7fe05cfae180, pattrs=pattrs@entry=0x7fe05cfaf3c8, cache_info=cache_info@entry=0x7fe05cfae1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe05cfaf3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe05cfaf0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bea40c0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722ce80, client_io=client_io@entry=0x7fe05cfaf710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722ce80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722ce80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037400) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 430 (Thread 0x7fe05c7b0700 (LWP 136973)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe05c7ac6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe05c7ac6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe05c7ac898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe05c7ac8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe05c7ac9d0, bucket=bucket@entry=0x7fe05c7aca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7cccf518, pmtime=0x7fdf7cccf520, epoch=0x7fdf7cccf528, attrs=0x7fdf7cccf958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05c7ad4c0, obj=..., state=state@entry=0x7fe05c7acd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05c7ad4c0, obj=..., state=state@entry=0x7fe05c7acd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe05c7ad4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05c7acf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe05c7ad4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe05c7ae0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe05c7ae0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f580, client_io=client_io@entry=0x7fe05c7ae710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f580) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f580) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037460) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 429 (Thread 0x7fe05bfaf700 (LWP 136974)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe05bfab1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe05bfab1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0fae54c00, sul=..., ptid=ptid@entry=0x7fe05bfab3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0fae54c00, sul=..., ptid=ptid@entry=0x7fe05bfab3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0fae54c00, ptid=0x7fe05bfab3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7f9800, oid=..., o=0x7fe0ec9dca80, pbl=pbl@entry=0x7fe05bfab7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe05bfab760, oid="test1", o=o@entry=0x7fe05bfab740, pbl=pbl@entry=0x7fe05bfab7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0faee4518, pmtime=0x7fe0faee4520, epoch=0x7fe0faee4528, attrs=0x7fe0faee4958, first_chunk=0x0, objv_tracker=0x7fe05bfac1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05bfad620, obj=..., state=state@entry=0x7fe05bfabaa8, objv_tracker=objv_tracker@entry=0x7fe05bfac1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05bfad620, obj=..., state=state@entry=0x7fe05bfabaa8, objv_tracker=objv_tracker@entry=0x7fe05bfac1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe05bfad3c8, lastmod=0x7fe05bfac180, obj_size=0x0, objv_tracker=0x7fe05bfac1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05bfabcb0, objv_tracker=objv_tracker@entry=0x7fe05bfac1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe05bfac1e0, pmtime=pmtime@entry=0x7fe05bfac180, pattrs=pattrs@entry=0x7fe05bfad3c8, cache_info=cache_info@entry=0x7fe05bfac1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe05bfac1e0, pmtime=pmtime@entry=0x7fe05bfac180, pattrs=pattrs@entry=0x7fe05bfad3c8, cache_info=cache_info@entry=0x7fe05bfac1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe05bfad3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe05bfad0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b48f9e0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79b7f4c0, client_io=client_io@entry=0x7fe05bfad710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79b7f4c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79b7f4c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70374c0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 428 (Thread 0x7fe05b7ae700 (LWP 136975)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe05b7aa6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe05b7aa6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe05b7aa898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe05b7aa8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe05b7aa9d0, bucket=bucket@entry=0x7fe05b7aaa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f7cdbb18, pmtime=0x7fe0f7cdbb20, epoch=0x7fe0f7cdbb28, attrs=0x7fe0f7cdbf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05b7ab4c0, obj=..., state=state@entry=0x7fe05b7aad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05b7ab4c0, obj=..., state=state@entry=0x7fe05b7aad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe05b7ab4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05b7aaf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe05b7ab4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe05b7ac0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe05b7ac0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd040, client_io=client_io@entry=0x7fe05b7ac710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd040) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd040) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037520) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 427 (Thread 0x7fe05afad700 (LWP 136976)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe05afa91a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe05afa91a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f445b700, sul=..., ptid=ptid@entry=0x7fe05afa93c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f445b700, sul=..., ptid=ptid@entry=0x7fe05afa93c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0f445b700, ptid=0x7fe05afa93c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf74410600, oid=..., o=0x7fe0f0d7ac00, pbl=pbl@entry=0x7fe05afa97e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe05afa9760, oid="test1", o=o@entry=0x7fe05afa9740, pbl=pbl@entry=0x7fe05afa97e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f44f0b18, pmtime=0x7fe0f44f0b20, epoch=0x7fe0f44f0b28, attrs=0x7fe0f44f0f58, first_chunk=0x0, objv_tracker=0x7fe05afaa1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05afab620, obj=..., state=state@entry=0x7fe05afa9aa8, objv_tracker=objv_tracker@entry=0x7fe05afaa1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05afab620, obj=..., state=state@entry=0x7fe05afa9aa8, objv_tracker=objv_tracker@entry=0x7fe05afaa1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe05afab3c8, lastmod=0x7fe05afaa180, obj_size=0x0, objv_tracker=0x7fe05afaa1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05afa9cb0, objv_tracker=objv_tracker@entry=0x7fe05afaa1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe05afaa1e0, pmtime=pmtime@entry=0x7fe05afaa180, pattrs=pattrs@entry=0x7fe05afab3c8, cache_info=cache_info@entry=0x7fe05afaa1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe05afaa1e0, pmtime=pmtime@entry=0x7fe05afaa180, pattrs=pattrs@entry=0x7fe05afab3c8, cache_info=cache_info@entry=0x7fe05afaa1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe05afab3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe05afab0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c073ec0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c7169d00, client_io=client_io@entry=0x7fe05afab710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c7169d00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c7169d00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037580) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 426 (Thread 0x7fe05a7ac700 (LWP 136977)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe05a7a86c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe05a7a86c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe05a7a8898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe05a7a88c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe05a7a89d0, bucket=bucket@entry=0x7fe05a7a8a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f4104b18, pmtime=0x7fe0f4104b20, epoch=0x7fe0f4104b28, attrs=0x7fe0f4104f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05a7a94c0, obj=..., state=state@entry=0x7fe05a7a8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05a7a94c0, obj=..., state=state@entry=0x7fe05a7a8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe05a7a94b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05a7a8f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe05a7a94b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe05a7aa0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe05a7aa0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f600, client_io=client_io@entry=0x7fe05a7aa710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f600) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f600) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70375e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 425 (Thread 0x7fe059fab700 (LWP 136978)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe059fa76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe059fa76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe059fa7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe059fa78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe059fa79d0, bucket=bucket@entry=0x7fe059fa7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f3cf5518, pmtime=0x7fe0f3cf5520, epoch=0x7fe0f3cf5528, attrs=0x7fe0f3cf5958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe059fa84c0, obj=..., state=state@entry=0x7fe059fa7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe059fa84c0, obj=..., state=state@entry=0x7fe059fa7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe059fa84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe059fa7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe059fa84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe059fa90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe059fa90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa700, client_io=client_io@entry=0x7fe059fa9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa700) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa700) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037640) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 424 (Thread 0x7fe0597aa700 (LWP 136979)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0597a6440) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0597a6440) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7dc48e80, sul=..., ptid=ptid@entry=0x7fe0597a6668) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7dc48e80, sul=..., ptid=ptid@entry=0x7fe0597a6668, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7dc48e80, ptid=0x7fe0597a6668, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf73376a00, oid=..., o=0x7fe0ec9a2080, pbl=pbl@entry=0x7fe0597a6a80, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0597a6a00, oid="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3_100w_512K2274", o=o@entry=0x7fe0597a69e0, pbl=pbl@entry=0x7fe0597a6a80) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=this@entry=0x7fe0fad50c00, obj=..., psize=psize@entry=0x7fe0f1495918, pmtime=pmtime@entry=0x7fe0f1495920, epoch=epoch@entry=0x7fe0f1495928, attrs=attrs@entry=0x7fe0f1495d58, first_chunk=0x0, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10bab7456 in RGWRados::get_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0597a8620, obj=..., state=state@entry=0x7fe0597a7028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8375
#12 0x00007fe10bab8b84 in RGWRados::get_obj_state (this=0x7fe0fad50c00, rctx=0x7fe0597a8620, obj=..., state=state@entry=0x7fe0597a7028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8491
#13 0x00007fe10babb2a0 in RGWRados::Object::get_state (this=<optimized out>, pstate=pstate@entry=0x7fe0597a7028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8649
#14 0x00007fe10bac1939 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe0597a7500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6227
#15 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0f1661800, etag=..., mtime=0x7fe0f1651768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#16 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0f1661800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#17 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0f1651400) at rgw/rgw_op.cc:2877
#18 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b5b9480, client_io=client_io@entry=0x7fe0597a8710, olog=0x0) at rgw/rgw_process.cc:174
#19 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b5b9480) at rgw/rgw_fcgi_process.cc:121
#20 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b5b9480) at rgw/rgw_process.h:84
#21 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70376a0) at common/WorkQueue.cc:128
#22 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#23 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#24 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 423 (Thread 0x7fe058fa9700 (LWP 136980)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe058fa51a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe058fa51a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f1037d80, sul=..., ptid=ptid@entry=0x7fe058fa53c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f1037d80, sul=..., ptid=ptid@entry=0x7fe058fa53c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0f1037d80, ptid=0x7fe058fa53c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c2400, oid=..., o=0x7fdf86469100, pbl=pbl@entry=0x7fe058fa57e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe058fa5760, oid="test1", o=o@entry=0x7fe058fa5740, pbl=pbl@entry=0x7fe058fa57e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f10f0518, pmtime=0x7fe0f10f0520, epoch=0x7fe0f10f0528, attrs=0x7fe0f10f0958, first_chunk=0x0, objv_tracker=0x7fe058fa61e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe058fa7620, obj=..., state=state@entry=0x7fe058fa5aa8, objv_tracker=objv_tracker@entry=0x7fe058fa61e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe058fa7620, obj=..., state=state@entry=0x7fe058fa5aa8, objv_tracker=objv_tracker@entry=0x7fe058fa61e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe058fa73c8, lastmod=0x7fe058fa6180, obj_size=0x0, objv_tracker=0x7fe058fa61e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe058fa5cb0, objv_tracker=objv_tracker@entry=0x7fe058fa61e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe058fa61e0, pmtime=pmtime@entry=0x7fe058fa6180, pattrs=pattrs@entry=0x7fe058fa73c8, cache_info=cache_info@entry=0x7fe058fa61b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe058fa61e0, pmtime=pmtime@entry=0x7fe058fa6180, pattrs=pattrs@entry=0x7fe058fa73c8, cache_info=cache_info@entry=0x7fe058fa61b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe058fa73c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe058fa70e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bc33be0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c600, client_io=client_io@entry=0x7fe058fa7710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c600) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c600) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037700) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 422 (Thread 0x7fe0587a8700 (LWP 136981)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0587a46c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0587a46c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0587a4898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0587a48c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0587a49d0, bucket=bucket@entry=0x7fe0587a4a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f0d1a518, pmtime=0x7fe0f0d1a520, epoch=0x7fe0f0d1a528, attrs=0x7fe0f0d1a958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0587a54c0, obj=..., state=state@entry=0x7fe0587a4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0587a54c0, obj=..., state=state@entry=0x7fe0587a4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0587a54b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0587a4f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0587a54b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0587a60e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0587a60e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79d304c0, client_io=client_io@entry=0x7fe0587a6710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79d304c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79d304c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037760) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 421 (Thread 0x7fe057fa7700 (LWP 136982)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe057fa36c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe057fa36c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe057fa3898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe057fa38c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe057fa39d0, bucket=bucket@entry=0x7fe057fa3a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f08f0518, pmtime=0x7fe0f08f0520, epoch=0x7fe0f08f0528, attrs=0x7fe0f08f0958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe057fa44c0, obj=..., state=state@entry=0x7fe057fa3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe057fa44c0, obj=..., state=state@entry=0x7fe057fa3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe057fa44b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe057fa3f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe057fa44b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe057fa50e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe057fa50e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1cee00, client_io=client_io@entry=0x7fe057fa5710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1cee00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1cee00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70377c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 420 (Thread 0x7fe0577a6700 (LWP 136983)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0577a26c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0577a26c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0577a2898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0577a28c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0577a29d0, bucket=bucket@entry=0x7fe0577a2a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f0526518, pmtime=0x7fe0f0526520, epoch=0x7fe0f0526528, attrs=0x7fe0f0526958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0577a34c0, obj=..., state=state@entry=0x7fe0577a2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0577a34c0, obj=..., state=state@entry=0x7fe0577a2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0577a34b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0577a2f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0577a34b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0577a40e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0577a40e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc200, client_io=client_io@entry=0x7fe0577a4710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc200) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc200) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037820) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 419 (Thread 0x7fe056fa5700 (LWP 136984)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe056fa16c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe056fa16c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe056fa1898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe056fa18c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe056fa19d0, bucket=bucket@entry=0x7fe056fa1a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f00f0518, pmtime=0x7fe0f00f0520, epoch=0x7fe0f00f0528, attrs=0x7fe0f00f0958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe056fa24c0, obj=..., state=state@entry=0x7fe056fa1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe056fa24c0, obj=..., state=state@entry=0x7fe056fa1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe056fa24b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe056fa1f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe056fa24b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe056fa30e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe056fa30e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9dd80, client_io=client_io@entry=0x7fe056fa3710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9dd80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9dd80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037880) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 418 (Thread 0x7fe0567a4700 (LWP 136985)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0567a06c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0567a06c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0567a0898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0567a08c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0567a09d0, bucket=bucket@entry=0x7fe0567a0a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0efd0fb18, pmtime=0x7fe0efd0fb20, epoch=0x7fe0efd0fb28, attrs=0x7fe0efd0ff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0567a14c0, obj=..., state=state@entry=0x7fe0567a0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0567a14c0, obj=..., state=state@entry=0x7fe0567a0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0567a14b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0567a0f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0567a14b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0567a20e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0567a20e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce340, client_io=client_io@entry=0x7fe0567a2710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce340) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce340) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70378e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 417 (Thread 0x7fe055fa3700 (LWP 136986)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe055f9f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe055f9f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe055f9f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe055f9f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe055f9f9d0, bucket=bucket@entry=0x7fe055f9fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ef8f5518, pmtime=0x7fe0ef8f5520, epoch=0x7fe0ef8f5528, attrs=0x7fe0ef8f5958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe055fa04c0, obj=..., state=state@entry=0x7fe055f9fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe055fa04c0, obj=..., state=state@entry=0x7fe055f9fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe055fa04b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe055f9ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe055fa04b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe055fa10e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe055fa10e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa3c0, client_io=client_io@entry=0x7fe055fa1710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa3c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa3c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037940) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 416 (Thread 0x7fe0557a2700 (LWP 136987)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe05579e1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe05579e1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ef491100, sul=..., ptid=ptid@entry=0x7fe05579e3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ef491100, sul=..., ptid=ptid@entry=0x7fe05579e3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ef491100, ptid=0x7fe05579e3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c7000, oid=..., o=0x7fe0ef4bd700, pbl=pbl@entry=0x7fe05579e7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe05579e760, oid="test1", o=o@entry=0x7fe05579e740, pbl=pbl@entry=0x7fe05579e7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ef431d18, pmtime=0x7fe0ef431d20, epoch=0x7fe0ef431d28, attrs=0x7fe0ef432158, first_chunk=0x0, objv_tracker=0x7fe05579f1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0557a0620, obj=..., state=state@entry=0x7fe05579eaa8, objv_tracker=objv_tracker@entry=0x7fe05579f1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0557a0620, obj=..., state=state@entry=0x7fe05579eaa8, objv_tracker=objv_tracker@entry=0x7fe05579f1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0557a03c8, lastmod=0x7fe05579f180, obj_size=0x0, objv_tracker=0x7fe05579f1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05579ecb0, objv_tracker=objv_tracker@entry=0x7fe05579f1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe05579f1e0, pmtime=pmtime@entry=0x7fe05579f180, pattrs=pattrs@entry=0x7fe0557a03c8, cache_info=cache_info@entry=0x7fe05579f1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe05579f1e0, pmtime=pmtime@entry=0x7fe05579f180, pattrs=pattrs@entry=0x7fe0557a03c8, cache_info=cache_info@entry=0x7fe05579f1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0557a03c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0557a00e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c71981a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868780, client_io=client_io@entry=0x7fe0557a0710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868780) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868780) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70379a0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 415 (Thread 0x7fe054fa1700 (LWP 136988)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe054f9d6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe054f9d6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe054f9d898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe054f9d8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe054f9d9d0, bucket=bucket@entry=0x7fe054f9da20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0eecf3518, pmtime=0x7fe0eecf3520, epoch=0x7fe0eecf3528, attrs=0x7fe0eecf3958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe054f9e4c0, obj=..., state=state@entry=0x7fe054f9dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe054f9e4c0, obj=..., state=state@entry=0x7fe054f9dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe054f9e4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe054f9df30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe054f9e4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe054f9f0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe054f9f0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd3c0, client_io=client_io@entry=0x7fe054f9f710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd3c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd3c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037a00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 414 (Thread 0x7fe0547a0700 (LWP 136989)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe05479c6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe05479c6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe05479c898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe05479c8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe05479c9d0, bucket=bucket@entry=0x7fe05479ca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ee91eb18, pmtime=0x7fe0ee91eb20, epoch=0x7fe0ee91eb28, attrs=0x7fe0ee91ef58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05479d4c0, obj=..., state=state@entry=0x7fe05479cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05479d4c0, obj=..., state=state@entry=0x7fe05479cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe05479d4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05479cf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe05479d4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe05479e0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe05479e0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9dd00, client_io=client_io@entry=0x7fe05479e710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9dd00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9dd00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037a60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 413 (Thread 0x7fe053f9f700 (LWP 136990)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe053f9b6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe053f9b6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe053f9b898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe053f9b8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe053f9b9d0, bucket=bucket@entry=0x7fe053f9ba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ee4ed518, pmtime=0x7fe0ee4ed520, epoch=0x7fe0ee4ed528, attrs=0x7fe0ee4ed958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe053f9c4c0, obj=..., state=state@entry=0x7fe053f9bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe053f9c4c0, obj=..., state=state@entry=0x7fe053f9bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe053f9c4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe053f9bf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe053f9c4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe053f9d0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe053f9d0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1cebc0, client_io=client_io@entry=0x7fe053f9d710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1cebc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1cebc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037ac0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 412 (Thread 0x7fe05379e700 (LWP 136991)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fac2f0a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0fac2f018) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe05379a120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe05379a120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0edc77e00, sul=..., ptid=ptid@entry=0x7fe05379a348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0edc77e00, sul=..., ptid=ptid@entry=0x7fe05379a348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0edc77e00, ptid=0x7fe05379a348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7728d800, oid=..., o=0x7fdf7b5a4500, pbl=pbl@entry=0x7fe05379a760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe05379a6e0, oid="system.user", o=o@entry=0x7fe05379a6c0, pbl=pbl@entry=0x7fe05379a760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0edd20b18, pmtime=0x7fe0edd20b20, epoch=0x7fe0edd20b28, attrs=0x7fe0edd20f58, first_chunk=0x0, objv_tracker=0x7fe05379b498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05379aff0, obj=..., state=state@entry=0x7fe05379aa28, objv_tracker=objv_tracker@entry=0x7fe05379b498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05379aff0, obj=..., state=state@entry=0x7fe05379aa28, objv_tracker=objv_tracker@entry=0x7fe05379b498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe05379b498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe05379ac30, objv_tracker=objv_tracker@entry=0x7fe05379b498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="system.user", bl=..., objv_tracker=objv_tracker@entry=0x7fe05379b498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe05379b150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe05379b498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe05379b150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe05379c0e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe05379c0e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7cbedb40, client_io=client_io@entry=0x7fe05379c710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7cbedb40) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7cbedb40) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037b20) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 411 (Thread 0x7fe052f9d700 (LWP 136992)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe052f996c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe052f996c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe052f99898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe052f998c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe052f999d0, bucket=bucket@entry=0x7fe052f99a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ed8f1518, pmtime=0x7fe0ed8f1520, epoch=0x7fe0ed8f1528, attrs=0x7fe0ed8f1958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe052f9a4c0, obj=..., state=state@entry=0x7fe052f99d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe052f9a4c0, obj=..., state=state@entry=0x7fe052f99d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe052f9a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe052f99f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe052f9a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe052f9b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe052f9b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd540, client_io=client_io@entry=0x7fe052f9b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd540) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd540) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037b80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 410 (Thread 0x7fe05279c700 (LWP 136993)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0527981a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0527981a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ed46a280, sul=..., ptid=ptid@entry=0x7fe0527983c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ed46a280, sul=..., ptid=ptid@entry=0x7fe0527983c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ed46a280, ptid=0x7fe0527983c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c1400, oid=..., o=0x7fe0e9cb7200, pbl=pbl@entry=0x7fe0527987e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe052798760, oid="test1", o=o@entry=0x7fe052798740, pbl=pbl@entry=0x7fe0527987e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ed508b18, pmtime=0x7fe0ed508b20, epoch=0x7fe0ed508b28, attrs=0x7fe0ed508f58, first_chunk=0x0, objv_tracker=0x7fe0527991e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe05279a620, obj=..., state=state@entry=0x7fe052798aa8, objv_tracker=objv_tracker@entry=0x7fe0527991e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe05279a620, obj=..., state=state@entry=0x7fe052798aa8, objv_tracker=objv_tracker@entry=0x7fe0527991e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe05279a3c8, lastmod=0x7fe052799180, obj_size=0x0, objv_tracker=0x7fe0527991e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe052798cb0, objv_tracker=objv_tracker@entry=0x7fe0527991e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0527991e0, pmtime=pmtime@entry=0x7fe052799180, pattrs=pattrs@entry=0x7fe05279a3c8, cache_info=cache_info@entry=0x7fe0527991b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0527991e0, pmtime=pmtime@entry=0x7fe052799180, pattrs=pattrs@entry=0x7fe05279a3c8, cache_info=cache_info@entry=0x7fe0527991b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe05279a3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe05279a0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bc6cda0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c380, client_io=client_io@entry=0x7fe05279a710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c380) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c380) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037be0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 409 (Thread 0x7fe051f9b700 (LWP 136994)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe051f97650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733bc800, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe051f97880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe051f97800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe051f977e0, pbl=pbl@entry=0x7fe051f97880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0eccf0b18, pmtime=0x7fe0eccf0b20, epoch=0x7fe0eccf0b28, attrs=0x7fe0eccf0f58, first_chunk=0x0, objv_tracker=0x7fe051f983d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe051f99620, obj=..., state=state@entry=0x7fe051f97b48, objv_tracker=objv_tracker@entry=0x7fe051f983d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe051f99620, obj=..., state=state@entry=0x7fe051f97b48, objv_tracker=objv_tracker@entry=0x7fe051f983d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe051f984b8, lastmod=0x7fe051f984b0, obj_size=0x0, objv_tracker=0x7fe051f983d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe051f97d50, objv_tracker=objv_tracker@entry=0x7fe051f983d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe051f983d8, pmtime=pmtime@entry=0x7fe051f984b0, pattrs=pattrs@entry=0x7fe051f984b8, cache_info=cache_info@entry=0x7fe051f981c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe051f984b0, pattrs=pattrs@entry=0x7fe051f984b8, cache_info=cache_info@entry=0x7fe051f981c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe051f993c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe051f990e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7a5d8620) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a8c0, client_io=client_io@entry=0x7fe051f99710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a8c0) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a8c0) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037c40) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 408 (Thread 0x7fe05179a700 (LWP 136995)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe051795de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7881bc00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe051796010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe051795f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe051795f70, pbl=pbl@entry=0x7fe051796010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ec8f5918, pmtime=0x7fe0ec8f5920, epoch=0x7fe0ec8f5928, attrs=0x7fe0ec8f5d58, first_chunk=0x0, objv_tracker=0x7fe051796ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe051796b90, obj=..., state=state@entry=0x7fe0517962d8, objv_tracker=objv_tracker@entry=0x7fe051796ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe051796b90, obj=..., state=state@entry=0x7fe0517962d8, objv_tracker=objv_tracker@entry=0x7fe051796ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe051796ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0517964e0, objv_tracker=objv_tracker@entry=0x7fe051796ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe051796ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2224", bucket_obj=bucket_obj@entry=0x7fe051797210, shard_id=shard_id@entry=0x7fe051797200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe0517971b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe051797120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe051797120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe051797500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0ecbd0600, etag=..., mtime=0x7fe0ecab4768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0ecbd0600, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0ecab4400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c7289480, client_io=client_io@entry=0x7fe051798710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c7289480) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c7289480) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037ca0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 407 (Thread 0x7fe050f99700 (LWP 136996)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe050f95950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf74410e00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe050f95d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe050f95ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe050f961c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe050f95d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe050f963d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe050f963d8, pmtime=pmtime@entry=0x7fe050f964b0, pattrs=pattrs@entry=0x7fe050f964b8, cache_info=cache_info@entry=0x7fe050f961c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe050f964b0, pattrs=pattrs@entry=0x7fe050f964b8, cache_info=cache_info@entry=0x7fe050f961c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe050f973c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe050f970e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf77869fa0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b35cf00, client_io=client_io@entry=0x7fe050f97710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b35cf00) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b35cf00) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037d00) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 406 (Thread 0x7fe050798700 (LWP 136997)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0507941a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0507941a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ebc76200, sul=..., ptid=ptid@entry=0x7fe0507943c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ebc76200, sul=..., ptid=ptid@entry=0x7fe0507943c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ebc76200, ptid=0x7fe0507943c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c2800, oid=..., o=0x7fe0ec923680, pbl=pbl@entry=0x7fe0507947e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe050794760, oid="test1", o=o@entry=0x7fe050794740, pbl=pbl@entry=0x7fe0507947e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ebd2b518, pmtime=0x7fe0ebd2b520, epoch=0x7fe0ebd2b528, attrs=0x7fe0ebd2b958, first_chunk=0x0, objv_tracker=0x7fe0507951e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe050796620, obj=..., state=state@entry=0x7fe050794aa8, objv_tracker=objv_tracker@entry=0x7fe0507951e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe050796620, obj=..., state=state@entry=0x7fe050794aa8, objv_tracker=objv_tracker@entry=0x7fe0507951e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0507963c8, lastmod=0x7fe050795180, obj_size=0x0, objv_tracker=0x7fe0507951e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe050794cb0, objv_tracker=objv_tracker@entry=0x7fe0507951e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0507951e0, pmtime=pmtime@entry=0x7fe050795180, pattrs=pattrs@entry=0x7fe0507963c8, cache_info=cache_info@entry=0x7fe0507951b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0507951e0, pmtime=pmtime@entry=0x7fe050795180, pattrs=pattrs@entry=0x7fe0507963c8, cache_info=cache_info@entry=0x7fe0507951b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0507963c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0507960e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bc336a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c700, client_io=client_io@entry=0x7fe050796710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c700) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c700) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037d60) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 405 (Thread 0x7fe04ff97700 (LWP 136998)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe04ff931a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe04ff931a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eb831980, sul=..., ptid=ptid@entry=0x7fe04ff933c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eb831980, sul=..., ptid=ptid@entry=0x7fe04ff933c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0eb831980, ptid=0x7fe04ff933c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf76472800, oid=..., o=0x7fe0b2085680, pbl=pbl@entry=0x7fe04ff937e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe04ff93760, oid="test1", o=o@entry=0x7fe04ff93740, pbl=pbl@entry=0x7fe04ff937e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0eb8f0b18, pmtime=0x7fe0eb8f0b20, epoch=0x7fe0eb8f0b28, attrs=0x7fe0eb8f0f58, first_chunk=0x0, objv_tracker=0x7fe04ff941e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04ff95620, obj=..., state=state@entry=0x7fe04ff93aa8, objv_tracker=objv_tracker@entry=0x7fe04ff941e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04ff95620, obj=..., state=state@entry=0x7fe04ff93aa8, objv_tracker=objv_tracker@entry=0x7fe04ff941e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe04ff953c8, lastmod=0x7fe04ff94180, obj_size=0x0, objv_tracker=0x7fe04ff941e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04ff93cb0, objv_tracker=objv_tracker@entry=0x7fe04ff941e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe04ff941e0, pmtime=pmtime@entry=0x7fe04ff94180, pattrs=pattrs@entry=0x7fe04ff953c8, cache_info=cache_info@entry=0x7fe04ff941b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe04ff941e0, pmtime=pmtime@entry=0x7fe04ff94180, pattrs=pattrs@entry=0x7fe04ff953c8, cache_info=cache_info@entry=0x7fe04ff941b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe04ff953c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe04ff950e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bf3c4a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b7cbd00, client_io=client_io@entry=0x7fe04ff95710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b7cbd00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b7cbd00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037dc0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 404 (Thread 0x7fe04f796700 (LWP 136999)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fac2f0a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0fac2f018) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe04f792120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe04f792120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eb49d200, sul=..., ptid=ptid@entry=0x7fe04f792348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eb49d200, sul=..., ptid=ptid@entry=0x7fe04f792348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0eb49d200, ptid=0x7fe04f792348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf76894800, oid=..., o=0x7fdf7b365480, pbl=pbl@entry=0x7fe04f792760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe04f7926e0, oid="system.user", o=o@entry=0x7fe04f7926c0, pbl=pbl@entry=0x7fe04f792760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0eb560518, pmtime=0x7fe0eb560520, epoch=0x7fe0eb560528, attrs=0x7fe0eb560958, first_chunk=0x0, objv_tracker=0x7fe04f793498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04f792ff0, obj=..., state=state@entry=0x7fe04f792a28, objv_tracker=objv_tracker@entry=0x7fe04f793498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04f792ff0, obj=..., state=state@entry=0x7fe04f792a28, objv_tracker=objv_tracker@entry=0x7fe04f793498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe04f793498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04f792c30, objv_tracker=objv_tracker@entry=0x7fe04f793498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="system.user", bl=..., objv_tracker=objv_tracker@entry=0x7fe04f793498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe04f793150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe04f793498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe04f793150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe04f7940e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe04f7940e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c040, client_io=client_io@entry=0x7fe04f794710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c040) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c040) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037e20) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 403 (Thread 0x7fe04ef95700 (LWP 137000)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe04ef911a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe04ef911a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eac6d300, sul=..., ptid=ptid@entry=0x7fe04ef913c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eac6d300, sul=..., ptid=ptid@entry=0x7fe04ef913c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0eac6d300, ptid=0x7fe04ef913c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c5200, oid=..., o=0x7fdf772ae500, pbl=pbl@entry=0x7fe04ef917e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe04ef91760, oid="test1", o=o@entry=0x7fe04ef91740, pbl=pbl@entry=0x7fe04ef917e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0eacf0518, pmtime=0x7fe0eacf0520, epoch=0x7fe0eacf0528, attrs=0x7fe0eacf0958, first_chunk=0x0, objv_tracker=0x7fe04ef921e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04ef93620, obj=..., state=state@entry=0x7fe04ef91aa8, objv_tracker=objv_tracker@entry=0x7fe04ef921e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04ef93620, obj=..., state=state@entry=0x7fe04ef91aa8, objv_tracker=objv_tracker@entry=0x7fe04ef921e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe04ef933c8, lastmod=0x7fe04ef92180, obj_size=0x0, objv_tracker=0x7fe04ef921e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04ef91cb0, objv_tracker=objv_tracker@entry=0x7fe04ef921e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe04ef921e0, pmtime=pmtime@entry=0x7fe04ef92180, pattrs=pattrs@entry=0x7fe04ef933c8, cache_info=cache_info@entry=0x7fe04ef921b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe04ef921e0, pmtime=pmtime@entry=0x7fe04ef92180, pattrs=pattrs@entry=0x7fe04ef933c8, cache_info=cache_info@entry=0x7fe04ef921b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe04ef933c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe04ef930e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c70e4ca0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c7289680, client_io=client_io@entry=0x7fe04ef93710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c7289680) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c7289680) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037e80) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 402 (Thread 0x7fe04e794700 (LWP 137001)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe04e7906c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe04e7906c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe04e790898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe04e7908c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe04e7909d0, bucket=bucket@entry=0x7fe04e790a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ea915518, pmtime=0x7fe0ea915520, epoch=0x7fe0ea915528, attrs=0x7fe0ea915958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04e7914c0, obj=..., state=state@entry=0x7fe04e790d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04e7914c0, obj=..., state=state@entry=0x7fe04e790d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe04e7914b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04e790f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe04e7914b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe04e7920e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe04e7920e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8fb00, client_io=client_io@entry=0x7fe04e792710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8fb00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8fb00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037ee0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 401 (Thread 0x7fe04df93700 (LWP 137002)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe04df8f5b0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0eb6ef200, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe04df8f7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe04df8f760, oid="test1", o=o@entry=0x7fe04df8f740, pbl=pbl@entry=0x7fe04df8f7e0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ea4f1518, pmtime=0x7fe0ea4f1520, epoch=0x7fe0ea4f1528, attrs=0x7fe0ea4f1958, first_chunk=0x0, objv_tracker=0x7fe04df901e0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04df91620, obj=..., state=state@entry=0x7fe04df8faa8, objv_tracker=objv_tracker@entry=0x7fe04df901e0) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04df91620, obj=..., state=state@entry=0x7fe04df8faa8, objv_tracker=objv_tracker@entry=0x7fe04df901e0) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe04df913c8, lastmod=0x7fe04df90180, obj_size=0x0, objv_tracker=0x7fe04df901e0) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04df8fcb0, objv_tracker=objv_tracker@entry=0x7fe04df901e0) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe04df901e0, pmtime=pmtime@entry=0x7fe04df90180, pattrs=pattrs@entry=0x7fe04df913c8, cache_info=cache_info@entry=0x7fe04df901b0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe04df901e0, pmtime=pmtime@entry=0x7fe04df90180, pattrs=pattrs@entry=0x7fe04df913c8, cache_info=cache_info@entry=0x7fe04df901b0) at rgw/rgw_rados.cc:10991
#11 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe04df913c8) at rgw/rgw_rados.cc:11066
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe04df910e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c831540) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35ad00, client_io=client_io@entry=0x7fe04df91710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35ad00) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35ad00) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037f40) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 400 (Thread 0x7fe04d792700 (LWP 137003)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe04d78e6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe04d78e6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe04d78e898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe04d78e8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe04d78e9d0, bucket=bucket@entry=0x7fe04d78ea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0e9d1cb18, pmtime=0x7fe0e9d1cb20, epoch=0x7fe0e9d1cb28, attrs=0x7fe0e9d1cf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04d78f4c0, obj=..., state=state@entry=0x7fe04d78ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04d78f4c0, obj=..., state=state@entry=0x7fe04d78ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe04d78f4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04d78ef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe04d78f4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe04d7900e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe04d7900e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdbe40, client_io=client_io@entry=0x7fe04d790710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdbe40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdbe40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7037fa0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 399 (Thread 0x7fe04cf91700 (LWP 137004)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe04cf8d6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe04cf8d6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe04cf8d898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe04cf8d8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe04cf8d9d0, bucket=bucket@entry=0x7fe04cf8da20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0e7d07518, pmtime=0x7fe0e7d07520, epoch=0x7fe0e7d07528, attrs=0x7fe0e7d07958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04cf8e4c0, obj=..., state=state@entry=0x7fe04cf8dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04cf8e4c0, obj=..., state=state@entry=0x7fe04cf8dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe04cf8e4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04cf8df30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe04cf8e4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe04cf8f0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe04cf8f0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8280, client_io=client_io@entry=0x7fe04cf8f710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8280) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8280) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041040) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 398 (Thread 0x7fe04c790700 (LWP 137005)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fac2f0a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0fac2f018) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe04c78c120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe04c78c120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0e7843080, sul=..., ptid=ptid@entry=0x7fe04c78c348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0e7843080, sul=..., ptid=ptid@entry=0x7fe04c78c348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0e7843080, ptid=0x7fe04c78c348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf77e9dc00, oid=..., o=0x7fdf76d5d280, pbl=pbl@entry=0x7fe04c78c760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe04c78c6e0, oid="system.user", o=o@entry=0x7fe04c78c6c0, pbl=pbl@entry=0x7fe04c78c760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0e7a1ab18, pmtime=0x7fe0e7a1ab20, epoch=0x7fe0e7a1ab28, attrs=0x7fe0e7a1af58, first_chunk=0x0, objv_tracker=0x7fe04c78d498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04c78cff0, obj=..., state=state@entry=0x7fe04c78ca28, objv_tracker=objv_tracker@entry=0x7fe04c78d498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04c78cff0, obj=..., state=state@entry=0x7fe04c78ca28, objv_tracker=objv_tracker@entry=0x7fe04c78d498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe04c78d498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04c78cc30, objv_tracker=objv_tracker@entry=0x7fe04c78d498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="system.user", bl=..., objv_tracker=objv_tracker@entry=0x7fe04c78d498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe04c78d150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe04c78d498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe04c78d150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe04c78e0e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe04c78e0e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c73d6980, client_io=client_io@entry=0x7fe04c78e710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c73d6980) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c73d6980) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70410a0) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 397 (Thread 0x7fe04bf8f700 (LWP 137006)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe04bf8b850) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73390a00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe04bf8ba80, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe04bf8ba00, oid="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3_100w_512K2253", o=o@entry=0x7fe04bf8b9e0, pbl=pbl@entry=0x7fe04bf8ba80) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=this@entry=0x7fe0fad50c00, obj=..., psize=psize@entry=0x7fe0d68b8318, pmtime=pmtime@entry=0x7fe0d68b8320, epoch=epoch@entry=0x7fe0d68b8328, attrs=attrs@entry=0x7fe0d68b8758, first_chunk=0x0, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10bab7456 in RGWRados::get_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04bf8d620, obj=..., state=state@entry=0x7fe04bf8c028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8375
#6  0x00007fe10bab8b84 in RGWRados::get_obj_state (this=0x7fe0fad50c00, rctx=0x7fe04bf8d620, obj=..., state=state@entry=0x7fe04bf8c028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8491
#7  0x00007fe10babb2a0 in RGWRados::Object::get_state (this=<optimized out>, pstate=pstate@entry=0x7fe04bf8c028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8649
#8  0x00007fe10bac1939 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe04bf8c500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6227
#9  0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0d6b26800, etag=..., mtime=0x7fe0d69b2768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#10 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0d6b26800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#11 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0d69b2400) at rgw/rgw_op.cc:2877
#12 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a080, client_io=client_io@entry=0x7fe04bf8d710, olog=0x0) at rgw/rgw_process.cc:174
#13 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a080) at rgw/rgw_fcgi_process.cc:121
#14 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a080) at rgw/rgw_process.h:84
#15 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041100) at common/WorkQueue.cc:128
#16 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#17 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#18 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 396 (Thread 0x7fe04b78e700 (LWP 137007)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe04b78a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe04b78a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe04b78a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe04b78a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe04b78a9d0, bucket=bucket@entry=0x7fe04b78aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d5901b18, pmtime=0x7fe0d5901b20, epoch=0x7fe0d5901b28, attrs=0x7fe0d5901f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04b78b4c0, obj=..., state=state@entry=0x7fe04b78ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04b78b4c0, obj=..., state=state@entry=0x7fe04b78ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe04b78b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04b78af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe04b78b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe04b78c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe04b78c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9df80, client_io=client_io@entry=0x7fe04b78c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9df80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9df80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041160) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 395 (Thread 0x7fe04af8d700 (LWP 137008)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe04af896c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe04af896c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe04af89898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe04af898c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe04af899d0, bucket=bucket@entry=0x7fe04af89a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d48d3b18, pmtime=0x7fe0d48d3b20, epoch=0x7fe0d48d3b28, attrs=0x7fe0d48d3f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04af8a4c0, obj=..., state=state@entry=0x7fe04af89d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04af8a4c0, obj=..., state=state@entry=0x7fe04af89d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe04af8a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04af89f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe04af8a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe04af8b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe04af8b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb6c0, client_io=client_io@entry=0x7fe04af8b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb6c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb6c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70411c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 394 (Thread 0x7fe04a78c700 (LWP 137009)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe04a788950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337aa00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe04a788d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe04a788ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe04a7891c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe04a788d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe04a7893d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe04a7893d8, pmtime=pmtime@entry=0x7fe04a7894b0, pattrs=pattrs@entry=0x7fe04a7894b8, cache_info=cache_info@entry=0x7fe04a7891c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe04a7894b0, pattrs=pattrs@entry=0x7fe04a7894b8, cache_info=cache_info@entry=0x7fe04a7891c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe04a78a3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe04a78a0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b8c5420) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b336d80, client_io=client_io@entry=0x7fe04a78a710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b336d80) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b336d80) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041220) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 393 (Thread 0x7fe049f8b700 (LWP 137010)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe049f871a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe049f871a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d340e800, sul=..., ptid=ptid@entry=0x7fe049f873c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d340e800, sul=..., ptid=ptid@entry=0x7fe049f873c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0d340e800, ptid=0x7fe049f873c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c6200, oid=..., o=0x7fdf80501180, pbl=pbl@entry=0x7fe049f877e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe049f87760, oid="test1", o=o@entry=0x7fe049f87740, pbl=pbl@entry=0x7fe049f877e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0d34f9518, pmtime=0x7fe0d34f9520, epoch=0x7fe0d34f9528, attrs=0x7fe0d34f9958, first_chunk=0x0, objv_tracker=0x7fe049f881e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe049f89620, obj=..., state=state@entry=0x7fe049f87aa8, objv_tracker=objv_tracker@entry=0x7fe049f881e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe049f89620, obj=..., state=state@entry=0x7fe049f87aa8, objv_tracker=objv_tracker@entry=0x7fe049f881e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe049f893c8, lastmod=0x7fe049f88180, obj_size=0x0, objv_tracker=0x7fe049f881e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe049f87cb0, objv_tracker=objv_tracker@entry=0x7fe049f881e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe049f881e0, pmtime=pmtime@entry=0x7fe049f88180, pattrs=pattrs@entry=0x7fe049f893c8, cache_info=cache_info@entry=0x7fe049f881b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe049f881e0, pmtime=pmtime@entry=0x7fe049f88180, pattrs=pattrs@entry=0x7fe049f893c8, cache_info=cache_info@entry=0x7fe049f881b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe049f893c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe049f890e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cbbd5a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868380, client_io=client_io@entry=0x7fe049f89710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868380) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868380) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041280) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 392 (Thread 0x7fe04978a700 (LWP 137011)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0497866c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0497866c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe049786898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0497868c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0497869d0, bucket=bucket@entry=0x7fe049786a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d24f5b18, pmtime=0x7fe0d24f5b20, epoch=0x7fe0d24f5b28, attrs=0x7fe0d24f5f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0497874c0, obj=..., state=state@entry=0x7fe049786d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0497874c0, obj=..., state=state@entry=0x7fe049786d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0497874b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe049786f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0497874b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0497880e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0497880e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb940, client_io=client_io@entry=0x7fe049788710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb940) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb940) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70412e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 391 (Thread 0x7fe048f89700 (LWP 137012)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe048f85950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337a600, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe048f85d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe048f85ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe048f861c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe048f85d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe048f863d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe048f863d8, pmtime=pmtime@entry=0x7fe048f864b0, pattrs=pattrs@entry=0x7fe048f864b8, cache_info=cache_info@entry=0x7fe048f861c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe048f864b0, pattrs=pattrs@entry=0x7fe048f864b8, cache_info=cache_info@entry=0x7fe048f861c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe048f873c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe048f870e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7ca07ea0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a5b0640, client_io=client_io@entry=0x7fe048f87710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a5b0640) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a5b0640) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041340) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 390 (Thread 0x7fe048788700 (LWP 137013)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0487846c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0487846c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe048784898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0487848c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0487849d0, bucket=bucket@entry=0x7fe048784a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d04a8b18, pmtime=0x7fe0d04a8b20, epoch=0x7fe0d04a8b28, attrs=0x7fe0d04a8f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0487854c0, obj=..., state=state@entry=0x7fe048784d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0487854c0, obj=..., state=state@entry=0x7fe048784d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0487854b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe048784f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0487854b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0487860e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0487860e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357f80, client_io=client_io@entry=0x7fe048786710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357f80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357f80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70413a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 389 (Thread 0x7fe047f87700 (LWP 137014)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe047f83950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73379e00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe047f83d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe047f83ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe047f841c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe047f83d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe047f843d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe047f843d8, pmtime=pmtime@entry=0x7fe047f844b0, pattrs=pattrs@entry=0x7fe047f844b8, cache_info=cache_info@entry=0x7fe047f841c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe047f844b0, pattrs=pattrs@entry=0x7fe047f844b8, cache_info=cache_info@entry=0x7fe047f841c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe047f853c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe047f850e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c942040) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79d93580, client_io=client_io@entry=0x7fe047f85710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79d93580) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79d93580) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041400) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 388 (Thread 0x7fe047786700 (LWP 137015)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe047782950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73379800, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe047782d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe047782ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe0477831c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe047782d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe0477833d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0477833d8, pmtime=pmtime@entry=0x7fe0477834b0, pattrs=pattrs@entry=0x7fe0477834b8, cache_info=cache_info@entry=0x7fe0477831c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe0477834b0, pattrs=pattrs@entry=0x7fe0477834b8, cache_info=cache_info@entry=0x7fe0477831c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0477843c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0477840e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c3ea140) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78fc9480, client_io=client_io@entry=0x7fe047784710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78fc9480) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78fc9480) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041460) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 387 (Thread 0x7fe046f85700 (LWP 137016)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fac2f0a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0fac2f018) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe046f81120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe046f81120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cec14c00, sul=..., ptid=ptid@entry=0x7fe046f81348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cec14c00, sul=..., ptid=ptid@entry=0x7fe046f81348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0cec14c00, ptid=0x7fe046f81348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7699c000, oid=..., o=0x7fdf84c69180, pbl=pbl@entry=0x7fe046f81760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe046f816e0, oid="system.user", o=o@entry=0x7fe046f816c0, pbl=pbl@entry=0x7fe046f81760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0cececb18, pmtime=0x7fe0cececb20, epoch=0x7fe0cececb28, attrs=0x7fe0cececf58, first_chunk=0x0, objv_tracker=0x7fe046f82498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe046f81ff0, obj=..., state=state@entry=0x7fe046f81a28, objv_tracker=objv_tracker@entry=0x7fe046f82498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe046f81ff0, obj=..., state=state@entry=0x7fe046f81a28, objv_tracker=objv_tracker@entry=0x7fe046f82498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe046f82498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe046f81c30, objv_tracker=objv_tracker@entry=0x7fe046f82498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="system.user", bl=..., objv_tracker=objv_tracker@entry=0x7fe046f82498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe046f82150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe046f82498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe046f82150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe046f830e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe046f830e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c7197300, client_io=client_io@entry=0x7fe046f83710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c7197300) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c7197300) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70414c0) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 386 (Thread 0x7fe046784700 (LWP 137017)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0467806c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0467806c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe046780898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0467808c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0467809d0, bucket=bucket@entry=0x7fe046780a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0cdcedb18, pmtime=0x7fe0cdcedb20, epoch=0x7fe0cdcedb28, attrs=0x7fe0cdcedf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0467814c0, obj=..., state=state@entry=0x7fe046780d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0467814c0, obj=..., state=state@entry=0x7fe046780d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0467814b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe046780f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0467814b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0467820e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0467820e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357ec0, client_io=client_io@entry=0x7fe046782710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357ec0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357ec0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041520) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 385 (Thread 0x7fe045f83700 (LWP 137018)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe045f7f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe045f7f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe045f7f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe045f7f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe045f7f9d0, bucket=bucket@entry=0x7fe045f7fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0cccc5518, pmtime=0x7fe0cccc5520, epoch=0x7fe0cccc5528, attrs=0x7fe0cccc5958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe045f804c0, obj=..., state=state@entry=0x7fe045f7fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe045f804c0, obj=..., state=state@entry=0x7fe045f7fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe045f804b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe045f7ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe045f804b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe045f810e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe045f810e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdbcc0, client_io=client_io@entry=0x7fe045f81710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdbcc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdbcc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041580) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 384 (Thread 0x7fe045782700 (LWP 137019)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe04577e6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe04577e6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe04577e898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe04577e8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe04577e9d0, bucket=bucket@entry=0x7fe04577ea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0cbce8b18, pmtime=0x7fe0cbce8b20, epoch=0x7fe0cbce8b28, attrs=0x7fe0cbce8f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04577f4c0, obj=..., state=state@entry=0x7fe04577ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04577f4c0, obj=..., state=state@entry=0x7fe04577ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe04577f4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04577ef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe04577f4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0457800e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0457800e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77aee7c0, client_io=client_io@entry=0x7fe045780710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77aee7c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77aee7c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70415e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 383 (Thread 0x7fe044f81700 (LWP 137020)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe044f7d5b0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0eb6ef600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe044f7d7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe044f7d760, oid="test1", o=o@entry=0x7fe044f7d740, pbl=pbl@entry=0x7fe044f7d7e0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ca8c1518, pmtime=0x7fe0ca8c1520, epoch=0x7fe0ca8c1528, attrs=0x7fe0ca8c1958, first_chunk=0x0, objv_tracker=0x7fe044f7e1e0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe044f7f620, obj=..., state=state@entry=0x7fe044f7daa8, objv_tracker=objv_tracker@entry=0x7fe044f7e1e0) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe044f7f620, obj=..., state=state@entry=0x7fe044f7daa8, objv_tracker=objv_tracker@entry=0x7fe044f7e1e0) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe044f7f3c8, lastmod=0x7fe044f7e180, obj_size=0x0, objv_tracker=0x7fe044f7e1e0) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe044f7dcb0, objv_tracker=objv_tracker@entry=0x7fe044f7e1e0) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe044f7e1e0, pmtime=pmtime@entry=0x7fe044f7e180, pattrs=pattrs@entry=0x7fe044f7f3c8, cache_info=cache_info@entry=0x7fe044f7e1b0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe044f7e1e0, pmtime=pmtime@entry=0x7fe044f7e180, pattrs=pattrs@entry=0x7fe044f7f3c8, cache_info=cache_info@entry=0x7fe044f7e1b0) at rgw/rgw_rados.cc:10991
#11 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe044f7f3c8) at rgw/rgw_rados.cc:11066
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe044f7f0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c8c7380) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35ac80, client_io=client_io@entry=0x7fe044f7f710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35ac80) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35ac80) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041640) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 382 (Thread 0x7fe044780700 (LWP 137021)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe04477c6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe04477c6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe04477c898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe04477c8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe04477c9d0, bucket=bucket@entry=0x7fe04477ca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0cace8b18, pmtime=0x7fe0cace8b20, epoch=0x7fe0cace8b28, attrs=0x7fe0cace8f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04477d4c0, obj=..., state=state@entry=0x7fe04477cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04477d4c0, obj=..., state=state@entry=0x7fe04477cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe04477d4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04477cf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe04477d4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe04477e0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe04477e0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8a40, client_io=client_io@entry=0x7fe04477e710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8a40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8a40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70416a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 381 (Thread 0x7fe043f7f700 (LWP 137022)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe043f7b6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe043f7b6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe043f7b898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe043f7b8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe043f7b9d0, bucket=bucket@entry=0x7fe043f7ba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c98f8518, pmtime=0x7fe0c98f8520, epoch=0x7fe0c98f8528, attrs=0x7fe0c98f8958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe043f7c4c0, obj=..., state=state@entry=0x7fe043f7bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe043f7c4c0, obj=..., state=state@entry=0x7fe043f7bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe043f7c4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe043f7bf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe043f7c4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe043f7d0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe043f7d0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8100, client_io=client_io@entry=0x7fe043f7d710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8100) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8100) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041700) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 380 (Thread 0x7fe04377e700 (LWP 137023)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe043779de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7999b600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe04377a010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe043779f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe043779f70, pbl=pbl@entry=0x7fe04377a010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c94ebf18, pmtime=0x7fe0c94ebf20, epoch=0x7fe0c94ebf28, attrs=0x7fe0c94ec358, first_chunk=0x0, objv_tracker=0x7fe04377aab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04377ab90, obj=..., state=state@entry=0x7fe04377a2d8, objv_tracker=objv_tracker@entry=0x7fe04377aab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04377ab90, obj=..., state=state@entry=0x7fe04377a2d8, objv_tracker=objv_tracker@entry=0x7fe04377aab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe04377aab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe04377a4e0, objv_tracker=objv_tracker@entry=0x7fe04377aab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe04377aab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2262", bucket_obj=bucket_obj@entry=0x7fe04377b210, shard_id=shard_id@entry=0x7fe04377b200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe04377b1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe04377b120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe04377b120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe04377b500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0c95bf400, etag=..., mtime=0x7fe0c9564368, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0c95bf400, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0c9564000) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b32d540, client_io=client_io@entry=0x7fe04377c710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b32d540) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b32d540) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041760) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 379 (Thread 0x7fe042f7d700 (LWP 137024)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe042f796c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe042f796c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe042f79898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe042f798c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe042f799d0, bucket=bucket@entry=0x7fe042f79a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c84e9b18, pmtime=0x7fe0c84e9b20, epoch=0x7fe0c84e9b28, attrs=0x7fe0c84e9f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe042f7a4c0, obj=..., state=state@entry=0x7fe042f79d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe042f7a4c0, obj=..., state=state@entry=0x7fe042f79d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe042f7a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe042f79f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe042f7a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe042f7b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe042f7b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb240, client_io=client_io@entry=0x7fe042f7b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb240) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb240) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70417c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 378 (Thread 0x7fe04277c700 (LWP 137025)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0427781a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0427781a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c7444880, sul=..., ptid=ptid@entry=0x7fe0427783c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c7444880, sul=..., ptid=ptid@entry=0x7fe0427783c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0c7444880, ptid=0x7fe0427783c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c5400, oid=..., o=0x7fe0c74cda80, pbl=pbl@entry=0x7fe0427787e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe042778760, oid="test1", o=o@entry=0x7fe042778740, pbl=pbl@entry=0x7fe0427787e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c74eb518, pmtime=0x7fe0c74eb520, epoch=0x7fe0c74eb528, attrs=0x7fe0c74eb958, first_chunk=0x0, objv_tracker=0x7fe0427791e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe04277a620, obj=..., state=state@entry=0x7fe042778aa8, objv_tracker=objv_tracker@entry=0x7fe0427791e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe04277a620, obj=..., state=state@entry=0x7fe042778aa8, objv_tracker=objv_tracker@entry=0x7fe0427791e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe04277a3c8, lastmod=0x7fe042779180, obj_size=0x0, objv_tracker=0x7fe0427791e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe042778cb0, objv_tracker=objv_tracker@entry=0x7fe0427791e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0427791e0, pmtime=pmtime@entry=0x7fe042779180, pattrs=pattrs@entry=0x7fe04277a3c8, cache_info=cache_info@entry=0x7fe0427791b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0427791e0, pmtime=pmtime@entry=0x7fe042779180, pattrs=pattrs@entry=0x7fe04277a3c8, cache_info=cache_info@entry=0x7fe0427791b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe04277a3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe04277a0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cadea80) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868040, client_io=client_io@entry=0x7fe04277a710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868040) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868040) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041820) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 377 (Thread 0x7fe041f7b700 (LWP 137026)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe041f776c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe041f776c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe041f77898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe041f778c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe041f779d0, bucket=bucket@entry=0x7fe041f77a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7c9b4518, pmtime=0x7fdf7c9b4520, epoch=0x7fdf7c9b4528, attrs=0x7fdf7c9b4958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe041f784c0, obj=..., state=state@entry=0x7fe041f77d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe041f784c0, obj=..., state=state@entry=0x7fe041f77d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe041f784b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe041f77f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe041f784b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe041f790e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe041f790e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd380, client_io=client_io@entry=0x7fe041f79710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd380) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd380) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041880) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 376 (Thread 0x7fe04177a700 (LWP 137027)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0417766c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0417766c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe041776898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0417768c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0417769d0, bucket=bucket@entry=0x7fe041776a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c6cedb18, pmtime=0x7fe0c6cedb20, epoch=0x7fe0c6cedb28, attrs=0x7fe0c6cedf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0417774c0, obj=..., state=state@entry=0x7fe041776d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0417774c0, obj=..., state=state@entry=0x7fe041776d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0417774b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe041776f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0417774b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0417780e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0417780e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa900, client_io=client_io@entry=0x7fe041778710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa900) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa900) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70418e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 375 (Thread 0x7fe040f79700 (LWP 137028)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe040f756c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe040f756c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe040f75898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe040f758c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe040f759d0, bucket=bucket@entry=0x7fe040f75a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c5ce9b18, pmtime=0x7fe0c5ce9b20, epoch=0x7fe0c5ce9b28, attrs=0x7fe0c5ce9f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe040f764c0, obj=..., state=state@entry=0x7fe040f75d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe040f764c0, obj=..., state=state@entry=0x7fe040f75d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe040f764b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe040f75f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe040f764b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe040f770e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe040f770e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf789eb2c0, client_io=client_io@entry=0x7fe040f77710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf789eb2c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf789eb2c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041940) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 374 (Thread 0x7fe040778700 (LWP 137029)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0407746c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0407746c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe040774898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0407748c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0407749d0, bucket=bucket@entry=0x7fe040774a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c4cebb18, pmtime=0x7fe0c4cebb20, epoch=0x7fe0c4cebb28, attrs=0x7fe0c4cebf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0407754c0, obj=..., state=state@entry=0x7fe040774d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0407754c0, obj=..., state=state@entry=0x7fe040774d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0407754b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe040774f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0407754b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0407760e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0407760e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8080, client_io=client_io@entry=0x7fe040776710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8080) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8080) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70419a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 373 (Thread 0x7fe03ff77700 (LWP 137030)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe03ff736c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe03ff736c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe03ff73898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe03ff738c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe03ff739d0, bucket=bucket@entry=0x7fe03ff73a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c34ec518, pmtime=0x7fe0c34ec520, epoch=0x7fe0c34ec528, attrs=0x7fe0c34ec958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03ff744c0, obj=..., state=state@entry=0x7fe03ff73d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03ff744c0, obj=..., state=state@entry=0x7fe03ff73d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe03ff744b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03ff73f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe03ff744b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe03ff750e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe03ff750e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd280, client_io=client_io@entry=0x7fe03ff75710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd280) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd280) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041a00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 372 (Thread 0x7fe03f776700 (LWP 137031)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe03f7726c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe03f7726c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe03f772898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe03f7728c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe03f7729d0, bucket=bucket@entry=0x7fe03f772a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c14eeb18, pmtime=0x7fe0c14eeb20, epoch=0x7fe0c14eeb28, attrs=0x7fe0c14eef58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03f7734c0, obj=..., state=state@entry=0x7fe03f772d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03f7734c0, obj=..., state=state@entry=0x7fe03f772d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe03f7734b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03f772f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe03f7734b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe03f7740e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe03f7740e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce5c0, client_io=client_io@entry=0x7fe03f774710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce5c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce5c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041a60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 371 (Thread 0x7fe03ef75700 (LWP 137032)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe03ef716c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe03ef716c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe03ef71898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe03ef718c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe03ef719d0, bucket=bucket@entry=0x7fe03ef71a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0bed1db18, pmtime=0x7fe0bed1db20, epoch=0x7fe0bed1db28, attrs=0x7fe0bed1df58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03ef724c0, obj=..., state=state@entry=0x7fe03ef71d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03ef724c0, obj=..., state=state@entry=0x7fe03ef71d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe03ef724b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03ef71f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe03ef724b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe03ef730e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe03ef730e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f980, client_io=client_io@entry=0x7fe03ef73710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f980) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f980) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041ac0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 370 (Thread 0x7fe03e774700 (LWP 137033)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe03e7706c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe03e7706c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe03e770898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe03e7708c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe03e7709d0, bucket=bucket@entry=0x7fe03e770a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c051f518, pmtime=0x7fe0c051f520, epoch=0x7fe0c051f528, attrs=0x7fe0c051f958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03e7714c0, obj=..., state=state@entry=0x7fe03e770d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03e7714c0, obj=..., state=state@entry=0x7fe03e770d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe03e7714b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03e770f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe03e7714b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe03e7720e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe03e7720e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357b40, client_io=client_io@entry=0x7fe03e772710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357b40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357b40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041b20) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 369 (Thread 0x7fe03df73700 (LWP 137034)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe03df6f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe03df6f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe03df6f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe03df6f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe03df6f9d0, bucket=bucket@entry=0x7fe03df6fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0be8eeb18, pmtime=0x7fe0be8eeb20, epoch=0x7fe0be8eeb28, attrs=0x7fe0be8eef58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03df704c0, obj=..., state=state@entry=0x7fe03df6fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03df704c0, obj=..., state=state@entry=0x7fe03df6fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe03df704b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03df6ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe03df704b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe03df710e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe03df710e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a95f780, client_io=client_io@entry=0x7fe03df71710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a95f780) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a95f780) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041b80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 368 (Thread 0x7fe03d772700 (LWP 137035)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe03d76e6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe03d76e6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe03d76e898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe03d76e8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe03d76e9d0, bucket=bucket@entry=0x7fe03d76ea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0bc0ed518, pmtime=0x7fe0bc0ed520, epoch=0x7fe0bc0ed528, attrs=0x7fe0bc0ed958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03d76f4c0, obj=..., state=state@entry=0x7fe03d76ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03d76f4c0, obj=..., state=state@entry=0x7fe03d76ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe03d76f4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03d76ef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe03d76f4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe03d7700e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe03d7700e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dca00, client_io=client_io@entry=0x7fe03d770710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dca00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dca00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041be0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 367 (Thread 0x7fe03cf71700 (LWP 137036)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe03cf6d6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe03cf6d6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe03cf6d898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe03cf6d8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe03cf6d9d0, bucket=bucket@entry=0x7fe03cf6da20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b9cf1b18, pmtime=0x7fe0b9cf1b20, epoch=0x7fe0b9cf1b28, attrs=0x7fe0b9cf1f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03cf6e4c0, obj=..., state=state@entry=0x7fe03cf6dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03cf6e4c0, obj=..., state=state@entry=0x7fe03cf6dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe03cf6e4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03cf6df30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe03cf6e4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe03cf6f0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe03cf6f0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d5c0, client_io=client_io@entry=0x7fe03cf6f710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d5c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d5c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041c40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 366 (Thread 0x7fe03c770700 (LWP 137037)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe03c76c1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe03c76c1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b8454d80, sul=..., ptid=ptid@entry=0x7fe03c76c3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b8454d80, sul=..., ptid=ptid@entry=0x7fe03c76c3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0b8454d80, ptid=0x7fe03c76c3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7440e400, oid=..., o=0x7fe0f0d61a80, pbl=pbl@entry=0x7fe03c76c7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe03c76c760, oid="test1", o=o@entry=0x7fe03c76c740, pbl=pbl@entry=0x7fe03c76c7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b84ed518, pmtime=0x7fe0b84ed520, epoch=0x7fe0b84ed528, attrs=0x7fe0b84ed958, first_chunk=0x0, objv_tracker=0x7fe03c76d1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03c76e620, obj=..., state=state@entry=0x7fe03c76caa8, objv_tracker=objv_tracker@entry=0x7fe03c76d1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03c76e620, obj=..., state=state@entry=0x7fe03c76caa8, objv_tracker=objv_tracker@entry=0x7fe03c76d1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe03c76e3c8, lastmod=0x7fe03c76d180, obj_size=0x0, objv_tracker=0x7fe03c76d1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03c76ccb0, objv_tracker=objv_tracker@entry=0x7fe03c76d1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe03c76d1e0, pmtime=pmtime@entry=0x7fe03c76d180, pattrs=pattrs@entry=0x7fe03c76e3c8, cache_info=cache_info@entry=0x7fe03c76d1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe03c76d1e0, pmtime=pmtime@entry=0x7fe03c76d180, pattrs=pattrs@entry=0x7fe03c76e3c8, cache_info=cache_info@entry=0x7fe03c76d1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe03c76e3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe03c76e0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c352f60) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868d00, client_io=client_io@entry=0x7fe03c76e710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868d00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868d00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041ca0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 365 (Thread 0x7fe03bf6f700 (LWP 137038)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe03bf6ade0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d7fe00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe03bf6b010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe03bf6af90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe03bf6af70, pbl=pbl@entry=0x7fe03bf6b010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b5cf1318, pmtime=0x7fe0b5cf1320, epoch=0x7fe0b5cf1328, attrs=0x7fe0b5cf1758, first_chunk=0x0, objv_tracker=0x7fe03bf6bab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03bf6bb90, obj=..., state=state@entry=0x7fe03bf6b2d8, objv_tracker=objv_tracker@entry=0x7fe03bf6bab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03bf6bb90, obj=..., state=state@entry=0x7fe03bf6b2d8, objv_tracker=objv_tracker@entry=0x7fe03bf6bab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe03bf6bab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03bf6b4e0, objv_tracker=objv_tracker@entry=0x7fe03bf6bab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe03bf6bab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2257", bucket_obj=bucket_obj@entry=0x7fe03bf6c210, shard_id=shard_id@entry=0x7fe03bf6c200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe03bf6c1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe03bf6c120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe03bf6c120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe03bf6c500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0b5dc7800, etag=..., mtime=0x7fe0b5dad768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0b5dc7800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0b5dad400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7835e080, client_io=client_io@entry=0x7fe03bf6d710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7835e080) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7835e080) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041d00) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 364 (Thread 0x7fe03b76e700 (LWP 137039)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe03b76a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe03b76a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe03b76a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe03b76a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe03b76a9d0, bucket=bucket@entry=0x7fe03b76aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b4cec518, pmtime=0x7fe0b4cec520, epoch=0x7fe0b4cec528, attrs=0x7fe0b4cec958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03b76b4c0, obj=..., state=state@entry=0x7fe03b76ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03b76b4c0, obj=..., state=state@entry=0x7fe03b76ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe03b76b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03b76af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe03b76b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe03b76c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe03b76c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8cc0, client_io=client_io@entry=0x7fe03b76c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8cc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8cc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041d60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 363 (Thread 0x7fe03af6d700 (LWP 137040)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe03af696c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe03af696c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe03af69898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe03af698c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe03af699d0, bucket=bucket@entry=0x7fe03af69a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b3cecb18, pmtime=0x7fe0b3cecb20, epoch=0x7fe0b3cecb28, attrs=0x7fe0b3cecf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03af6a4c0, obj=..., state=state@entry=0x7fe03af69d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03af6a4c0, obj=..., state=state@entry=0x7fe03af69d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe03af6a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03af69f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe03af6a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe03af6b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe03af6b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357f00, client_io=client_io@entry=0x7fe03af6b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357f00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357f00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041dc0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 362 (Thread 0x7fe03a76c700 (LWP 137041)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe03a7681a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe03a7681a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b3848980, sul=..., ptid=ptid@entry=0x7fe03a7683c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b3848980, sul=..., ptid=ptid@entry=0x7fe03a7683c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0b3848980, ptid=0x7fe03a7683c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c4000, oid=..., o=0x7fdf55d78280, pbl=pbl@entry=0x7fe03a7687e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe03a768760, oid="test1", o=o@entry=0x7fe03a768740, pbl=pbl@entry=0x7fe03a7687e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b38ddb18, pmtime=0x7fe0b38ddb20, epoch=0x7fe0b38ddb28, attrs=0x7fe0b38ddf58, first_chunk=0x0, objv_tracker=0x7fe03a7691e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03a76a620, obj=..., state=state@entry=0x7fe03a768aa8, objv_tracker=objv_tracker@entry=0x7fe03a7691e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03a76a620, obj=..., state=state@entry=0x7fe03a768aa8, objv_tracker=objv_tracker@entry=0x7fe03a7691e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe03a76a3c8, lastmod=0x7fe03a769180, obj_size=0x0, objv_tracker=0x7fe03a7691e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03a768cb0, objv_tracker=objv_tracker@entry=0x7fe03a7691e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe03a7691e0, pmtime=pmtime@entry=0x7fe03a769180, pattrs=pattrs@entry=0x7fe03a76a3c8, cache_info=cache_info@entry=0x7fe03a7691b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe03a7691e0, pmtime=pmtime@entry=0x7fe03a769180, pattrs=pattrs@entry=0x7fe03a76a3c8, cache_info=cache_info@entry=0x7fe03a7691b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe03a76a3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe03a76a0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b7cea00) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b7cb440, client_io=client_io@entry=0x7fe03a76a710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b7cb440) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b7cb440) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041e20) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 361 (Thread 0x7fe039f6b700 (LWP 137042)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe039f66de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf76a6d800, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe039f67010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe039f66f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe039f66f70, pbl=pbl@entry=0x7fe039f67010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b1caa518, pmtime=0x7fe0b1caa520, epoch=0x7fe0b1caa528, attrs=0x7fe0b1caa958, first_chunk=0x0, objv_tracker=0x7fe039f67ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe039f67b90, obj=..., state=state@entry=0x7fe039f672d8, objv_tracker=objv_tracker@entry=0x7fe039f67ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe039f67b90, obj=..., state=state@entry=0x7fe039f672d8, objv_tracker=objv_tracker@entry=0x7fe039f67ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe039f67ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe039f674e0, objv_tracker=objv_tracker@entry=0x7fe039f67ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe039f67ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2270", bucket_obj=bucket_obj@entry=0x7fe039f68210, shard_id=shard_id@entry=0x7fe039f68200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe039f681b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe039f68120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe039f68120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe039f68500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0b1dcf600, etag=..., mtime=0x7fe0b1fb4768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0b1dcf600, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0b1fb4400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf780f2f80, client_io=client_io@entry=0x7fe039f69710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf780f2f80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf780f2f80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041e80) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 360 (Thread 0x7fe03976a700 (LWP 137043)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0397666c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0397666c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe039766898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0397668c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0397669d0, bucket=bucket@entry=0x7fe039766a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b20f2b18, pmtime=0x7fe0b20f2b20, epoch=0x7fe0b20f2b28, attrs=0x7fe0b20f2f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0397674c0, obj=..., state=state@entry=0x7fe039766d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0397674c0, obj=..., state=state@entry=0x7fe039766d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0397674b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe039766f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0397674b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0397680e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0397680e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357d80, client_io=client_io@entry=0x7fe039768710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357d80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357d80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041ee0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 359 (Thread 0x7fe038f69700 (LWP 137044)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe038f656c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe038f656c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe038f65898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe038f658c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe038f659d0, bucket=bucket@entry=0x7fe038f65a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b0ce8518, pmtime=0x7fe0b0ce8520, epoch=0x7fe0b0ce8528, attrs=0x7fe0b0ce8958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe038f664c0, obj=..., state=state@entry=0x7fe038f65d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe038f664c0, obj=..., state=state@entry=0x7fe038f65d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe038f664b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe038f65f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe038f664b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe038f670e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe038f670e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd440, client_io=client_io@entry=0x7fe038f67710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd440) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd440) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041f40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 358 (Thread 0x7fe038768700 (LWP 137045)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0387646c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0387646c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe038764898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0387648c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0387649d0, bucket=bucket@entry=0x7fe038764a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b08da518, pmtime=0x7fe0b08da520, epoch=0x7fe0b08da528, attrs=0x7fe0b08da958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0387654c0, obj=..., state=state@entry=0x7fe038764d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0387654c0, obj=..., state=state@entry=0x7fe038764d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0387654b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe038764f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0387654b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0387660e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0387660e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8e40, client_io=client_io@entry=0x7fe038766710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8e40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8e40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7041fa0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 357 (Thread 0x7fe037f67700 (LWP 137046)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe037f636c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe037f636c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe037f63898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe037f638c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe037f639d0, bucket=bucket@entry=0x7fe037f63a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0af8ea518, pmtime=0x7fe0af8ea520, epoch=0x7fe0af8ea528, attrs=0x7fe0af8ea958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe037f644c0, obj=..., state=state@entry=0x7fe037f63d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe037f644c0, obj=..., state=state@entry=0x7fe037f63d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe037f644b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe037f63f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe037f644b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe037f650e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe037f650e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78de69c0, client_io=client_io@entry=0x7fe037f65710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78de69c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78de69c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b040) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 356 (Thread 0x7fe037766700 (LWP 137047)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0377626c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0377626c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe037762898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0377628c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0377629d0, bucket=bucket@entry=0x7fe037762a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ae0e9b18, pmtime=0x7fe0ae0e9b20, epoch=0x7fe0ae0e9b28, attrs=0x7fe0ae0e9f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0377634c0, obj=..., state=state@entry=0x7fe037762d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0377634c0, obj=..., state=state@entry=0x7fe037762d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0377634b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe037762f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0377634b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0377640e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0377640e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc280, client_io=client_io@entry=0x7fe037764710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc280) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc280) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b0a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 355 (Thread 0x7fe036f65700 (LWP 137048)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe036f616c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe036f616c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe036f61898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe036f618c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe036f619d0, bucket=bucket@entry=0x7fe036f61a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ac0f1b18, pmtime=0x7fe0ac0f1b20, epoch=0x7fe0ac0f1b28, attrs=0x7fe0ac0f1f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe036f624c0, obj=..., state=state@entry=0x7fe036f61d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe036f624c0, obj=..., state=state@entry=0x7fe036f61d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe036f624b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe036f61f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe036f624b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe036f630e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe036f630e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa4c0, client_io=client_io@entry=0x7fe036f63710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa4c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa4c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b100) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 354 (Thread 0x7fe036764700 (LWP 137049)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe036760650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733bce00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe036760880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe036760800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0367607e0, pbl=pbl@entry=0x7fe036760880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0a50dab18, pmtime=0x7fe0a50dab20, epoch=0x7fe0a50dab28, attrs=0x7fe0a50daf58, first_chunk=0x0, objv_tracker=0x7fe0367613d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe036762620, obj=..., state=state@entry=0x7fe036760b48, objv_tracker=objv_tracker@entry=0x7fe0367613d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe036762620, obj=..., state=state@entry=0x7fe036760b48, objv_tracker=objv_tracker@entry=0x7fe0367613d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0367614b8, lastmod=0x7fe0367614b0, obj_size=0x0, objv_tracker=0x7fe0367613d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe036760d50, objv_tracker=objv_tracker@entry=0x7fe0367613d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0367613d8, pmtime=pmtime@entry=0x7fe0367614b0, pattrs=pattrs@entry=0x7fe0367614b8, cache_info=cache_info@entry=0x7fe0367611c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe0367614b0, pattrs=pattrs@entry=0x7fe0367614b8, cache_info=cache_info@entry=0x7fe0367611c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0367623c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0367620e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c159540) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a940, client_io=client_io@entry=0x7fe036762710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a940) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a940) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b160) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 353 (Thread 0x7fe035f63700 (LWP 137050)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe035f5f1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe035f5f1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe08405f580, sul=..., ptid=ptid@entry=0x7fe035f5f3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe08405f580, sul=..., ptid=ptid@entry=0x7fe035f5f3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe08405f580, ptid=0x7fe035f5f3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf76466400, oid=..., o=0x7fe0ea489e80, pbl=pbl@entry=0x7fe035f5f7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe035f5f760, oid="test1", o=o@entry=0x7fe035f5f740, pbl=pbl@entry=0x7fe035f5f7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0840edb18, pmtime=0x7fe0840edb20, epoch=0x7fe0840edb28, attrs=0x7fe0840edf58, first_chunk=0x0, objv_tracker=0x7fe035f601e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe035f61620, obj=..., state=state@entry=0x7fe035f5faa8, objv_tracker=objv_tracker@entry=0x7fe035f601e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe035f61620, obj=..., state=state@entry=0x7fe035f5faa8, objv_tracker=objv_tracker@entry=0x7fe035f601e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe035f613c8, lastmod=0x7fe035f60180, obj_size=0x0, objv_tracker=0x7fe035f601e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe035f5fcb0, objv_tracker=objv_tracker@entry=0x7fe035f601e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe035f601e0, pmtime=pmtime@entry=0x7fe035f60180, pattrs=pattrs@entry=0x7fe035f613c8, cache_info=cache_info@entry=0x7fe035f601b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe035f601e0, pmtime=pmtime@entry=0x7fe035f60180, pattrs=pattrs@entry=0x7fe035f613c8, cache_info=cache_info@entry=0x7fe035f601b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe035f613c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe035f610e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c8eb0e0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b6d4e40, client_io=client_io@entry=0x7fe035f61710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b6d4e40) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b6d4e40) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b1c0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 352 (Thread 0x7fe035762700 (LWP 137051)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe03575dde0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55cd5a00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe03575e010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe03575df90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe03575df70, pbl=pbl@entry=0x7fe03575e010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf89882718, pmtime=0x7fdf89882720, epoch=0x7fdf89882728, attrs=0x7fdf89882b58, first_chunk=0x0, objv_tracker=0x7fe03575eab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03575eb90, obj=..., state=state@entry=0x7fe03575e2d8, objv_tracker=objv_tracker@entry=0x7fe03575eab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03575eb90, obj=..., state=state@entry=0x7fe03575e2d8, objv_tracker=objv_tracker@entry=0x7fe03575eab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe03575eab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03575e4e0, objv_tracker=objv_tracker@entry=0x7fe03575eab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe03575eab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2266", bucket_obj=bucket_obj@entry=0x7fe03575f210, shard_id=shard_id@entry=0x7fe03575f200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe03575f1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe03575f120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe03575f120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe03575f500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf89a27800, etag=..., mtime=0x7fdf89ad7768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf89a27800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf89ad7400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ae240, client_io=client_io@entry=0x7fe035760710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ae240) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ae240) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b220) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 351 (Thread 0x7fe034f61700 (LWP 137052)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe034f5d6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe034f5d6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe034f5d898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe034f5d8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe034f5d9d0, bucket=bucket@entry=0x7fe034f5da20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8951bb18, pmtime=0x7fdf8951bb20, epoch=0x7fdf8951bb28, attrs=0x7fdf8951bf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe034f5e4c0, obj=..., state=state@entry=0x7fe034f5dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe034f5e4c0, obj=..., state=state@entry=0x7fe034f5dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe034f5e4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe034f5df30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe034f5e4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe034f5f0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe034f5f0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78724140, client_io=client_io@entry=0x7fe034f5f710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78724140) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78724140) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b280) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 350 (Thread 0x7fe034760700 (LWP 137053)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe03475bde0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d80e00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe03475c010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe03475bf90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe03475bf70, pbl=pbl@entry=0x7fe03475c010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf8908af18, pmtime=0x7fdf8908af20, epoch=0x7fdf8908af28, attrs=0x7fdf8908b358, first_chunk=0x0, objv_tracker=0x7fe03475cab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03475cb90, obj=..., state=state@entry=0x7fe03475c2d8, objv_tracker=objv_tracker@entry=0x7fe03475cab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03475cb90, obj=..., state=state@entry=0x7fe03475c2d8, objv_tracker=objv_tracker@entry=0x7fe03475cab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe03475cab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03475c4e0, objv_tracker=objv_tracker@entry=0x7fe03475cab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe03475cab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2251", bucket_obj=bucket_obj@entry=0x7fe03475d210, shard_id=shard_id@entry=0x7fe03475d200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe03475d1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe03475d120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe03475d120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe03475d500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf89392600, etag=..., mtime=0x7fdf893e5768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf89392600, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf893e5400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c70e2180, client_io=client_io@entry=0x7fe03475e710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c70e2180) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c70e2180) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b2e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 349 (Thread 0x7fe033f5f700 (LWP 137054)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe033f5b6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe033f5b6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe033f5b898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe033f5b8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe033f5b9d0, bucket=bucket@entry=0x7fe033f5ba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf88d1b518, pmtime=0x7fdf88d1b520, epoch=0x7fdf88d1b528, attrs=0x7fdf88d1b958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe033f5c4c0, obj=..., state=state@entry=0x7fe033f5bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe033f5c4c0, obj=..., state=state@entry=0x7fe033f5bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe033f5c4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe033f5bf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe033f5c4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe033f5d0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe033f5d0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8b80, client_io=client_io@entry=0x7fe033f5d710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8b80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8b80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b340) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 348 (Thread 0x7fe03375e700 (LWP 137055)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe03375a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe03375a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe03375a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe03375a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe03375a9d0, bucket=bucket@entry=0x7fe03375aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8891c518, pmtime=0x7fdf8891c520, epoch=0x7fdf8891c528, attrs=0x7fdf8891c958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe03375b4c0, obj=..., state=state@entry=0x7fe03375ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe03375b4c0, obj=..., state=state@entry=0x7fe03375ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe03375b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe03375af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe03375b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe03375c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe03375c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfaf80, client_io=client_io@entry=0x7fe03375c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfaf80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfaf80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b3a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 347 (Thread 0x7fe032f5d700 (LWP 137056)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe032f596c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe032f596c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe032f59898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe032f598c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe032f599d0, bucket=bucket@entry=0x7fe032f59a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf88519518, pmtime=0x7fdf88519520, epoch=0x7fdf88519528, attrs=0x7fdf88519958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe032f5a4c0, obj=..., state=state@entry=0x7fe032f59d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe032f5a4c0, obj=..., state=state@entry=0x7fe032f59d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe032f5a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe032f59f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe032f5a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe032f5b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe032f5b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8580, client_io=client_io@entry=0x7fe032f5b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8580) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8580) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b400) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 346 (Thread 0x7fe03275c700 (LWP 137057)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0327586c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0327586c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe032758898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0327588c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0327589d0, bucket=bucket@entry=0x7fe032758a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8811ab18, pmtime=0x7fdf8811ab20, epoch=0x7fdf8811ab28, attrs=0x7fdf8811af58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0327594c0, obj=..., state=state@entry=0x7fe032758d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0327594c0, obj=..., state=state@entry=0x7fe032758d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0327594b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe032758f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0327594b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe03275a0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe03275a0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8e00, client_io=client_io@entry=0x7fe03275a710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8e00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8e00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b460) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 345 (Thread 0x7fe031f5b700 (LWP 137058)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe031f575b0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0eb6ebc00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe031f577e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe031f57760, oid="test1", o=o@entry=0x7fe031f57740, pbl=pbl@entry=0x7fe031f577e0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf87d1bb18, pmtime=0x7fdf87d1bb20, epoch=0x7fdf87d1bb28, attrs=0x7fdf87d1bf58, first_chunk=0x0, objv_tracker=0x7fe031f581e0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe031f59620, obj=..., state=state@entry=0x7fe031f57aa8, objv_tracker=objv_tracker@entry=0x7fe031f581e0) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe031f59620, obj=..., state=state@entry=0x7fe031f57aa8, objv_tracker=objv_tracker@entry=0x7fe031f581e0) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe031f593c8, lastmod=0x7fe031f58180, obj_size=0x0, objv_tracker=0x7fe031f581e0) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe031f57cb0, objv_tracker=objv_tracker@entry=0x7fe031f581e0) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe031f581e0, pmtime=pmtime@entry=0x7fe031f58180, pattrs=pattrs@entry=0x7fe031f593c8, cache_info=cache_info@entry=0x7fe031f581b0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe031f581e0, pmtime=pmtime@entry=0x7fe031f58180, pattrs=pattrs@entry=0x7fe031f593c8, cache_info=cache_info@entry=0x7fe031f581b0) at rgw/rgw_rados.cc:10991
#11 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe031f593c8) at rgw/rgw_rados.cc:11066
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe031f590e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7a94b840) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35aa80, client_io=client_io@entry=0x7fe031f59710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35aa80) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35aa80) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b4c0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 344 (Thread 0x7fe03175a700 (LWP 137059)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0317566c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0317566c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe031756898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0317568c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0317569d0, bucket=bucket@entry=0x7fe031756a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf87917518, pmtime=0x7fdf87917520, epoch=0x7fdf87917528, attrs=0x7fdf87917958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0317574c0, obj=..., state=state@entry=0x7fe031756d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0317574c0, obj=..., state=state@entry=0x7fe031756d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0317574b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe031756f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0317574b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0317580e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0317580e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f340, client_io=client_io@entry=0x7fe031758710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f340) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f340) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b520) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 343 (Thread 0x7fe030f59700 (LWP 137060)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe030f556c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe030f556c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe030f55898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe030f558c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe030f559d0, bucket=bucket@entry=0x7fe030f55a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf87517518, pmtime=0x7fdf87517520, epoch=0x7fdf87517528, attrs=0x7fdf87517958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe030f564c0, obj=..., state=state@entry=0x7fe030f55d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe030f564c0, obj=..., state=state@entry=0x7fe030f55d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe030f564b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe030f55f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe030f564b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe030f570e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe030f570e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1cef00, client_io=client_io@entry=0x7fe030f57710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1cef00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1cef00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b580) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 342 (Thread 0x7fe030758700 (LWP 137061)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0307541a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0307541a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8700ed00, sul=..., ptid=ptid@entry=0x7fe0307543c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8700ed00, sul=..., ptid=ptid@entry=0x7fe0307543c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8700ed00, ptid=0x7fe0307543c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb719200, oid=..., o=0x7fe0d699e280, pbl=pbl@entry=0x7fe0307547e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe030754760, oid="test1", o=o@entry=0x7fe030754740, pbl=pbl@entry=0x7fe0307547e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf8711db18, pmtime=0x7fdf8711db20, epoch=0x7fdf8711db28, attrs=0x7fdf8711df58, first_chunk=0x0, objv_tracker=0x7fe0307551e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe030756620, obj=..., state=state@entry=0x7fe030754aa8, objv_tracker=objv_tracker@entry=0x7fe0307551e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe030756620, obj=..., state=state@entry=0x7fe030754aa8, objv_tracker=objv_tracker@entry=0x7fe0307551e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0307563c8, lastmod=0x7fe030755180, obj_size=0x0, objv_tracker=0x7fe0307551e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe030754cb0, objv_tracker=objv_tracker@entry=0x7fe0307551e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0307551e0, pmtime=pmtime@entry=0x7fe030755180, pattrs=pattrs@entry=0x7fe0307563c8, cache_info=cache_info@entry=0x7fe0307551b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0307551e0, pmtime=pmtime@entry=0x7fe030755180, pattrs=pattrs@entry=0x7fe0307563c8, cache_info=cache_info@entry=0x7fe0307551b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0307563c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0307560e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c02b1e0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c91d940, client_io=client_io@entry=0x7fe030756710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c91d940) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c91d940) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b5e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 341 (Thread 0x7fe02ff57700 (LWP 137062)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe02ff536c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe02ff536c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe02ff53898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe02ff538c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe02ff539d0, bucket=bucket@entry=0x7fe02ff53a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf86d1db18, pmtime=0x7fdf86d1db20, epoch=0x7fdf86d1db28, attrs=0x7fdf86d1df58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02ff544c0, obj=..., state=state@entry=0x7fe02ff53d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02ff544c0, obj=..., state=state@entry=0x7fe02ff53d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe02ff544b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02ff53f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe02ff544b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe02ff550e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe02ff550e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc580, client_io=client_io@entry=0x7fe02ff55710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc580) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc580) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b640) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 340 (Thread 0x7fe02f756700 (LWP 137063)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe02f7526c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe02f7526c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe02f752898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe02f7528c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe02f7529d0, bucket=bucket@entry=0x7fe02f752a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf86917b18, pmtime=0x7fdf86917b20, epoch=0x7fdf86917b28, attrs=0x7fdf86917f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02f7534c0, obj=..., state=state@entry=0x7fe02f752d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02f7534c0, obj=..., state=state@entry=0x7fe02f752d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe02f7534b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02f752f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe02f7534b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe02f7540e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe02f7540e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa640, client_io=client_io@entry=0x7fe02f754710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa640) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa640) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b6a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 339 (Thread 0x7fe02ef55700 (LWP 137064)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe02ef516c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe02ef516c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe02ef51898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe02ef518c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe02ef519d0, bucket=bucket@entry=0x7fe02ef51a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8651fb18, pmtime=0x7fdf8651fb20, epoch=0x7fdf8651fb28, attrs=0x7fdf8651ff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02ef524c0, obj=..., state=state@entry=0x7fe02ef51d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02ef524c0, obj=..., state=state@entry=0x7fe02ef51d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe02ef524b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02ef51f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe02ef524b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe02ef530e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe02ef530e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb140, client_io=client_io@entry=0x7fe02ef53710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb140) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb140) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b700) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 338 (Thread 0x7fe02e754700 (LWP 137065)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe02e750950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73378e00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe02e750d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe02e750ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe02e7511c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe02e750d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe02e7513d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe02e7513d8, pmtime=pmtime@entry=0x7fe02e7514b0, pattrs=pattrs@entry=0x7fe02e7514b8, cache_info=cache_info@entry=0x7fe02e7511c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe02e7514b0, pattrs=pattrs@entry=0x7fe02e7514b8, cache_info=cache_info@entry=0x7fe02e7511c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe02e7523c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe02e7520e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b5d56c0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf76869c40, client_io=client_io@entry=0x7fe02e752710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf76869c40) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf76869c40) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b760) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 337 (Thread 0x7fe02df53700 (LWP 137066)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe02df4f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe02df4f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe02df4f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe02df4f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe02df4f9d0, bucket=bucket@entry=0x7fe02df4fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf85d1a518, pmtime=0x7fdf85d1a520, epoch=0x7fdf85d1a528, attrs=0x7fdf85d1a958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02df504c0, obj=..., state=state@entry=0x7fe02df4fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02df504c0, obj=..., state=state@entry=0x7fe02df4fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe02df504b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02df4ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe02df504b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe02df510e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe02df510e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8680, client_io=client_io@entry=0x7fe02df51710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8680) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8680) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b7c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 336 (Thread 0x7fe02d752700 (LWP 137067)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe02d74e6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe02d74e6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe02d74e898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe02d74e8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe02d74e9d0, bucket=bucket@entry=0x7fe02d74ea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8591fb18, pmtime=0x7fdf8591fb20, epoch=0x7fdf8591fb28, attrs=0x7fdf8591ff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02d74f4c0, obj=..., state=state@entry=0x7fe02d74ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02d74f4c0, obj=..., state=state@entry=0x7fe02d74ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe02d74f4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02d74ef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe02d74f4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe02d7500e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe02d7500e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357a40, client_io=client_io@entry=0x7fe02d750710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357a40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357a40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b820) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 335 (Thread 0x7fe02cf51700 (LWP 137068)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe02cf4d1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe02cf4d1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf85438680, sul=..., ptid=ptid@entry=0x7fe02cf4d3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf85438680, sul=..., ptid=ptid@entry=0x7fe02cf4d3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf85438680, ptid=0x7fe02cf4d3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c1e00, oid=..., o=0x7fe0d0419300, pbl=pbl@entry=0x7fe02cf4d7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe02cf4d760, oid="test1", o=o@entry=0x7fe02cf4d740, pbl=pbl@entry=0x7fe02cf4d7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf8551bb18, pmtime=0x7fdf8551bb20, epoch=0x7fdf8551bb28, attrs=0x7fdf8551bf58, first_chunk=0x0, objv_tracker=0x7fe02cf4e1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02cf4f620, obj=..., state=state@entry=0x7fe02cf4daa8, objv_tracker=objv_tracker@entry=0x7fe02cf4e1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02cf4f620, obj=..., state=state@entry=0x7fe02cf4daa8, objv_tracker=objv_tracker@entry=0x7fe02cf4e1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe02cf4f3c8, lastmod=0x7fe02cf4e180, obj_size=0x0, objv_tracker=0x7fe02cf4e1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02cf4dcb0, objv_tracker=objv_tracker@entry=0x7fe02cf4e1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe02cf4e1e0, pmtime=pmtime@entry=0x7fe02cf4e180, pattrs=pattrs@entry=0x7fe02cf4f3c8, cache_info=cache_info@entry=0x7fe02cf4e1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe02cf4e1e0, pmtime=pmtime@entry=0x7fe02cf4e180, pattrs=pattrs@entry=0x7fe02cf4f3c8, cache_info=cache_info@entry=0x7fe02cf4e1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe02cf4f3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe02cf4f0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7a21d820) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c480, client_io=client_io@entry=0x7fe02cf4f710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c480) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c480) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b880) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 334 (Thread 0x7fe02c750700 (LWP 137069)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe02c74c6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe02c74c6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe02c74c898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe02c74c8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe02c74c9d0, bucket=bucket@entry=0x7fe02c74ca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8511bb18, pmtime=0x7fdf8511bb20, epoch=0x7fdf8511bb28, attrs=0x7fdf8511bf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02c74d4c0, obj=..., state=state@entry=0x7fe02c74cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02c74d4c0, obj=..., state=state@entry=0x7fe02c74cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe02c74d4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02c74cf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe02c74d4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe02c74e0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe02c74e0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd140, client_io=client_io@entry=0x7fe02c74e710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd140) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd140) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b8e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 333 (Thread 0x7fe02bf4f700 (LWP 137070)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe02bf4b1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe02bf4b1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf84c5c600, sul=..., ptid=ptid@entry=0x7fe02bf4b3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf84c5c600, sul=..., ptid=ptid@entry=0x7fe02bf4b3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf84c5c600, ptid=0x7fe02bf4b3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c7a00, oid=..., o=0x7fe0ecb9a100, pbl=pbl@entry=0x7fe02bf4b7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe02bf4b760, oid="test1", o=o@entry=0x7fe02bf4b740, pbl=pbl@entry=0x7fe02bf4b7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf84d1c518, pmtime=0x7fdf84d1c520, epoch=0x7fdf84d1c528, attrs=0x7fdf84d1c958, first_chunk=0x0, objv_tracker=0x7fe02bf4c1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02bf4d620, obj=..., state=state@entry=0x7fe02bf4baa8, objv_tracker=objv_tracker@entry=0x7fe02bf4c1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02bf4d620, obj=..., state=state@entry=0x7fe02bf4baa8, objv_tracker=objv_tracker@entry=0x7fe02bf4c1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe02bf4d3c8, lastmod=0x7fe02bf4c180, obj_size=0x0, objv_tracker=0x7fe02bf4c1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02bf4bcb0, objv_tracker=objv_tracker@entry=0x7fe02bf4c1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe02bf4c1e0, pmtime=pmtime@entry=0x7fe02bf4c180, pattrs=pattrs@entry=0x7fe02bf4d3c8, cache_info=cache_info@entry=0x7fe02bf4c1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe02bf4c1e0, pmtime=pmtime@entry=0x7fe02bf4c180, pattrs=pattrs@entry=0x7fe02bf4d3c8, cache_info=cache_info@entry=0x7fe02bf4c1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe02bf4d3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe02bf4d0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7a37b0c0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868a00, client_io=client_io@entry=0x7fe02bf4d710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868a00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868a00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b940) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 332 (Thread 0x7fe02b74e700 (LWP 137071)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe02b74a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe02b74a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe02b74a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe02b74a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe02b74a9d0, bucket=bucket@entry=0x7fe02b74aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8491d518, pmtime=0x7fdf8491d520, epoch=0x7fdf8491d528, attrs=0x7fdf8491d958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02b74b4c0, obj=..., state=state@entry=0x7fe02b74ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02b74b4c0, obj=..., state=state@entry=0x7fe02b74ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe02b74b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02b74af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe02b74b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe02b74c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe02b74c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357e80, client_io=client_io@entry=0x7fe02b74c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357e80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357e80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704b9a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 331 (Thread 0x7fe02af4d700 (LWP 137072)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe02af496c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe02af496c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe02af49898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe02af498c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe02af499d0, bucket=bucket@entry=0x7fe02af49a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8451b518, pmtime=0x7fdf8451b520, epoch=0x7fdf8451b528, attrs=0x7fdf8451b958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02af4a4c0, obj=..., state=state@entry=0x7fe02af49d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02af4a4c0, obj=..., state=state@entry=0x7fe02af49d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe02af4a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02af49f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe02af4a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe02af4b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe02af4b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f140, client_io=client_io@entry=0x7fe02af4b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f140) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f140) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704ba00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 330 (Thread 0x7fe02a74c700 (LWP 137073)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe02a7481a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe02a7481a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf84038180, sul=..., ptid=ptid@entry=0x7fe02a7483c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf84038180, sul=..., ptid=ptid@entry=0x7fe02a7483c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf84038180, ptid=0x7fe02a7483c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7440d800, oid=..., o=0x7fe0c9483c80, pbl=pbl@entry=0x7fe02a7487e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe02a748760, oid="test1", o=o@entry=0x7fe02a748740, pbl=pbl@entry=0x7fe02a7487e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf8411c518, pmtime=0x7fdf8411c520, epoch=0x7fdf8411c528, attrs=0x7fdf8411c958, first_chunk=0x0, objv_tracker=0x7fe02a7491e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02a74a620, obj=..., state=state@entry=0x7fe02a748aa8, objv_tracker=objv_tracker@entry=0x7fe02a7491e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02a74a620, obj=..., state=state@entry=0x7fe02a748aa8, objv_tracker=objv_tracker@entry=0x7fe02a7491e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe02a74a3c8, lastmod=0x7fe02a749180, obj_size=0x0, objv_tracker=0x7fe02a7491e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02a748cb0, objv_tracker=objv_tracker@entry=0x7fe02a7491e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe02a7491e0, pmtime=pmtime@entry=0x7fe02a749180, pattrs=pattrs@entry=0x7fe02a74a3c8, cache_info=cache_info@entry=0x7fe02a7491b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe02a7491e0, pmtime=pmtime@entry=0x7fe02a749180, pattrs=pattrs@entry=0x7fe02a74a3c8, cache_info=cache_info@entry=0x7fe02a7491b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe02a74a3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe02a74a0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b75a7c0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c70f5380, client_io=client_io@entry=0x7fe02a74a710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c70f5380) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c70f5380) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704ba60) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 329 (Thread 0x7fe029f4b700 (LWP 137074)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe029f476c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe029f476c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe029f47898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe029f478c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe029f479d0, bucket=bucket@entry=0x7fe029f47a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf83d1cb18, pmtime=0x7fdf83d1cb20, epoch=0x7fdf83d1cb28, attrs=0x7fdf83d1cf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe029f484c0, obj=..., state=state@entry=0x7fe029f47d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe029f484c0, obj=..., state=state@entry=0x7fe029f47d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe029f484b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe029f47f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe029f484b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe029f490e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe029f490e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dcb80, client_io=client_io@entry=0x7fe029f49710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dcb80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dcb80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704bac0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 328 (Thread 0x7fe02974a700 (LWP 137075)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0297466c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0297466c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe029746898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0297468c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0297469d0, bucket=bucket@entry=0x7fe029746a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8391c518, pmtime=0x7fdf8391c520, epoch=0x7fdf8391c528, attrs=0x7fdf8391c958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0297474c0, obj=..., state=state@entry=0x7fe029746d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0297474c0, obj=..., state=state@entry=0x7fe029746d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0297474b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe029746f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0297474b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0297480e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0297480e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8c00, client_io=client_io@entry=0x7fe029748710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8c00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8c00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704bb20) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 327 (Thread 0x7fe028f49700 (LWP 137076)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe028f456c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe028f456c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe028f45898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe028f458c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe028f459d0, bucket=bucket@entry=0x7fe028f45a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf834ceb18, pmtime=0x7fdf834ceb20, epoch=0x7fdf834ceb28, attrs=0x7fdf834cef58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe028f464c0, obj=..., state=state@entry=0x7fe028f45d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe028f464c0, obj=..., state=state@entry=0x7fe028f45d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe028f464b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe028f45f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe028f464b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe028f470e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe028f470e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d0c0, client_io=client_io@entry=0x7fe028f47710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d0c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d0c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704bb80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 326 (Thread 0x7fe028748700 (LWP 137077)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0287446c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0287446c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe028744898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0287448c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0287449d0, bucket=bucket@entry=0x7fe028744a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf83117b18, pmtime=0x7fdf83117b20, epoch=0x7fdf83117b28, attrs=0x7fdf83117f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0287454c0, obj=..., state=state@entry=0x7fe028744d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0287454c0, obj=..., state=state@entry=0x7fe028744d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0287454b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe028744f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0287454b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0287460e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0287460e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1cea80, client_io=client_io@entry=0x7fe028746710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1cea80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1cea80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704bbe0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 325 (Thread 0x7fe027f47700 (LWP 137078)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe027f43120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe027f43120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf82c3a980, sul=..., ptid=ptid@entry=0x7fe027f43348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf82c3a980, sul=..., ptid=ptid@entry=0x7fe027f43348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf82c3a980, ptid=0x7fe027f43348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf55e21c00, oid=..., o=0x7fe0ec8d6280, pbl=pbl@entry=0x7fe027f43760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe027f436e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fe027f436c0, pbl=pbl@entry=0x7fe027f43760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf82d17b18, pmtime=0x7fdf82d17b20, epoch=0x7fdf82d17b28, attrs=0x7fdf82d17f58, first_chunk=0x0, objv_tracker=0x7fe027f44498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe027f43ff0, obj=..., state=state@entry=0x7fe027f43a28, objv_tracker=objv_tracker@entry=0x7fe027f44498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe027f43ff0, obj=..., state=state@entry=0x7fe027f43a28, objv_tracker=objv_tracker@entry=0x7fe027f44498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe027f44498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe027f43c30, objv_tracker=objv_tracker@entry=0x7fe027f44498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fe027f44498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe027f44150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe027f44498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe027f44150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe027f450e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe027f450e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357640, client_io=client_io@entry=0x7fe027f45710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357640) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357640) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704bc40) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 324 (Thread 0x7fe027746700 (LWP 137079)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0277421a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0277421a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8280f980, sul=..., ptid=ptid@entry=0x7fe0277423c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8280f980, sul=..., ptid=ptid@entry=0x7fe0277423c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8280f980, ptid=0x7fe0277423c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf74412e00, oid=..., o=0x7fe0b9cd4900, pbl=pbl@entry=0x7fe0277427e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe027742760, oid="test1", o=o@entry=0x7fe027742740, pbl=pbl@entry=0x7fe0277427e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf8291f518, pmtime=0x7fdf8291f520, epoch=0x7fdf8291f528, attrs=0x7fdf8291f958, first_chunk=0x0, objv_tracker=0x7fe0277431e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe027744620, obj=..., state=state@entry=0x7fe027742aa8, objv_tracker=objv_tracker@entry=0x7fe0277431e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe027744620, obj=..., state=state@entry=0x7fe027742aa8, objv_tracker=objv_tracker@entry=0x7fe0277431e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0277443c8, lastmod=0x7fe027743180, obj_size=0x0, objv_tracker=0x7fe0277431e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe027742cb0, objv_tracker=objv_tracker@entry=0x7fe0277431e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0277431e0, pmtime=pmtime@entry=0x7fe027743180, pattrs=pattrs@entry=0x7fe0277443c8, cache_info=cache_info@entry=0x7fe0277431b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0277431e0, pmtime=pmtime@entry=0x7fe027743180, pattrs=pattrs@entry=0x7fe0277443c8, cache_info=cache_info@entry=0x7fe0277431b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0277443c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0277440e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c159d40) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868e00, client_io=client_io@entry=0x7fe027744710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868e00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868e00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704bca0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 323 (Thread 0x7fe026f45700 (LWP 137080)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe026f40de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d7f000, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe026f41010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe026f40f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe026f40f70, pbl=pbl@entry=0x7fe026f41010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf82489f18, pmtime=0x7fdf82489f20, epoch=0x7fdf82489f28, attrs=0x7fdf8248a358, first_chunk=0x0, objv_tracker=0x7fe026f41ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe026f41b90, obj=..., state=state@entry=0x7fe026f412d8, objv_tracker=objv_tracker@entry=0x7fe026f41ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe026f41b90, obj=..., state=state@entry=0x7fe026f412d8, objv_tracker=objv_tracker@entry=0x7fe026f41ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe026f41ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe026f414e0, objv_tracker=objv_tracker@entry=0x7fe026f41ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe026f41ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2258", bucket_obj=bucket_obj@entry=0x7fe026f42210, shard_id=shard_id@entry=0x7fe026f42200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe026f421b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe026f42120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe026f42120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe026f42500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf82603600, etag=..., mtime=0x7fdf8277a768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf82603600, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf8277a400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78724400, client_io=client_io@entry=0x7fe026f43710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78724400) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78724400) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704bd00) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 322 (Thread 0x7fe026744700 (LWP 137081)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0267406c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0267406c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe026740898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0267408c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0267409d0, bucket=bucket@entry=0x7fe026740a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8211cb18, pmtime=0x7fdf8211cb20, epoch=0x7fdf8211cb28, attrs=0x7fdf8211cf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0267414c0, obj=..., state=state@entry=0x7fe026740d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0267414c0, obj=..., state=state@entry=0x7fe026740d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0267414b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe026740f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0267414b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0267420e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0267420e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc380, client_io=client_io@entry=0x7fe026742710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc380) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc380) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704bd60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 321 (Thread 0x7fe025f43700 (LWP 137082)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe025f3ede0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d1ea00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe025f3f010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe025f3ef90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe025f3ef70, pbl=pbl@entry=0x7fe025f3f010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf81c82718, pmtime=0x7fdf81c82720, epoch=0x7fdf81c82728, attrs=0x7fdf81c82b58, first_chunk=0x0, objv_tracker=0x7fe025f3fab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe025f3fb90, obj=..., state=state@entry=0x7fe025f3f2d8, objv_tracker=objv_tracker@entry=0x7fe025f3fab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe025f3fb90, obj=..., state=state@entry=0x7fe025f3f2d8, objv_tracker=objv_tracker@entry=0x7fe025f3fab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe025f3fab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe025f3f4e0, objv_tracker=objv_tracker@entry=0x7fe025f3fab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe025f3fab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2239", bucket_obj=bucket_obj@entry=0x7fe025f40210, shard_id=shard_id@entry=0x7fe025f40200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe025f401b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe025f40120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe025f40120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe025f40500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf81df6800, etag=..., mtime=0x7fdf81e8b768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf81df6800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf81e8b400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a5339c0, client_io=client_io@entry=0x7fe025f41710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a5339c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a5339c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704bdc0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 320 (Thread 0x7fe025742700 (LWP 137083)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe02573e6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe02573e6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe02573e898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe02573e8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe02573e9d0, bucket=bucket@entry=0x7fe02573ea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8191c518, pmtime=0x7fdf8191c520, epoch=0x7fdf8191c528, attrs=0x7fdf8191c958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02573f4c0, obj=..., state=state@entry=0x7fe02573ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02573f4c0, obj=..., state=state@entry=0x7fe02573ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe02573f4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02573ef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe02573f4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0257400e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0257400e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8fc00, client_io=client_io@entry=0x7fe025740710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8fc00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8fc00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704be20) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 319 (Thread 0x7fe024f41700 (LWP 137084)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe024f3d530) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf77a7dc00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe024f3d760, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe024f3d6e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fe024f3d6c0, pbl=pbl@entry=0x7fe024f3d760) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf8151db18, pmtime=0x7fdf8151db20, epoch=0x7fdf8151db28, attrs=0x7fdf8151df58, first_chunk=0x0, objv_tracker=0x7fe024f3e498) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe024f3dff0, obj=..., state=state@entry=0x7fe024f3da28, objv_tracker=objv_tracker@entry=0x7fe024f3e498) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe024f3dff0, obj=..., state=state@entry=0x7fe024f3da28, objv_tracker=objv_tracker@entry=0x7fe024f3e498) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe024f3e498) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe024f3dc30, objv_tracker=objv_tracker@entry=0x7fe024f3e498) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fe024f3e498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe024f3e150) at rgw/rgw_tools.cc:63
#10 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe024f3e498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe024f3e150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#11 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#12 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#13 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe024f3f0e0) at rgw/rgw_rest_s3.cc:4412
#14 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe024f3f0e0) at rgw/rgw_rest_s3.cc:3681
#15 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b3572c0, client_io=client_io@entry=0x7fe024f3f710, olog=0x0) at rgw/rgw_process.cc:91
#16 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b3572c0) at rgw/rgw_fcgi_process.cc:121
#17 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b3572c0) at rgw/rgw_process.h:84
#18 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704be80) at common/WorkQueue.cc:128
#19 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#20 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#21 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 318 (Thread 0x7fe024740700 (LWP 137085)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe02473c650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733bde00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe02473c880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe02473c800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe02473c7e0, pbl=pbl@entry=0x7fe02473c880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf8111c518, pmtime=0x7fdf8111c520, epoch=0x7fdf8111c528, attrs=0x7fdf8111c958, first_chunk=0x0, objv_tracker=0x7fe02473d3d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02473e620, obj=..., state=state@entry=0x7fe02473cb48, objv_tracker=objv_tracker@entry=0x7fe02473d3d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02473e620, obj=..., state=state@entry=0x7fe02473cb48, objv_tracker=objv_tracker@entry=0x7fe02473d3d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe02473d4b8, lastmod=0x7fe02473d4b0, obj_size=0x0, objv_tracker=0x7fe02473d3d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02473cd50, objv_tracker=objv_tracker@entry=0x7fe02473d3d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe02473d3d8, pmtime=pmtime@entry=0x7fe02473d4b0, pattrs=pattrs@entry=0x7fe02473d4b8, cache_info=cache_info@entry=0x7fe02473d1c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe02473d4b0, pattrs=pattrs@entry=0x7fe02473d4b8, cache_info=cache_info@entry=0x7fe02473d1c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe02473e3c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe02473e0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c3ea760) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a980, client_io=client_io@entry=0x7fe02473e710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a980) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a980) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704bee0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 317 (Thread 0x7fe023f3f700 (LWP 137086)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe023f3b730) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73375e00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe023f3b960, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe023f3b8e0, oid="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3_100w_512K621", o=o@entry=0x7fe023f3b8c0, pbl=pbl@entry=0x7fe023f3b960) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=this@entry=0x7fe0fad50c00, obj=..., psize=psize@entry=0x7fdf80889918, pmtime=pmtime@entry=0x7fdf80889920, epoch=epoch@entry=0x7fdf80889928, attrs=attrs@entry=0x7fdf80889d58, first_chunk=0x7fdf80889c80, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10bab7456 in RGWRados::get_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe023f3d620, obj=..., state=state@entry=0x7fe023f3be28, follow_olh=follow_olh@entry=true) at rgw/rgw_rados.cc:8375
#6  0x00007fe10bab8b84 in RGWRados::get_obj_state (this=0x7fe0fad50c00, rctx=0x7fe023f3d620, obj=..., state=state@entry=0x7fe023f3be28, follow_olh=follow_olh@entry=true) at rgw/rgw_rados.cc:8491
#7  0x00007fe10babb2a0 in RGWRados::Object::get_state (this=<optimized out>, pstate=pstate@entry=0x7fe023f3be28, follow_olh=follow_olh@entry=true) at rgw/rgw_rados.cc:8649
#8  0x00007fe10babb2c0 in RGWRados::Object::Read::get_attr (this=this@entry=0x7fe023f3bed0, name=name@entry=0x7fe10bef983a "user.rgw.acl", dest=...) at rgw/rgw_rados.cc:8500
#9  0x00007fe10ba640eb in get_obj_policy_from_attr (cct=0x7fe0fac41140, store=0x7fe0fad50c00, obj_ctx=..., bucket_info=..., policy=policy@entry=0x7fdf8086a640, obj=..., bucket_attrs=std::map with 3 elements) at rgw/rgw_op.cc:181
#10 0x00007fe10ba644c8 in get_policy_from_attr (cct=0x7fe0fac41140, store=store@entry=0x7fe0fad50c00, ctx=<optimized out>, bucket_info=..., bucket_attrs=std::map with 3 elements, policy=policy@entry=0x7fdf8086a640, obj=...) at rgw/rgw_op.cc:222
#11 0x00007fe10ba64ab1 in read_policy (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe023f3d0e0, bucket_info=..., bucket_attrs=std::map with 3 elements, policy=0x7fdf8086a640, bucket=..., object=...) at rgw/rgw_op.cc:289
#12 0x00007fe10ba65204 in rgw_build_object_policies (store=0x7fe0fad50c00, s=0x7fe023f3d0e0, prefetch_data=<optimized out>) at rgw/rgw_op.cc:440
#13 0x00007fe10ba6527d in RGWHandler::do_read_permissions (this=this@entry=0x7fdf7cb79040, op=op@entry=0x7fdf55d87200, only_bucket=<optimized out>) at rgw/rgw_op.cc:5065
#14 0x00007fe10bb14ff7 in RGWHandler_REST::read_permissions (this=0x7fdf7cb79040, op_obj=0x7fdf55d87200) at rgw/rgw_rest.cc:1563
#15 0x00007fe10ba812d8 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf785b4d00, client_io=client_io@entry=0x7fe023f3d710, olog=0x0) at rgw/rgw_process.cc:132
#16 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf785b4d00) at rgw/rgw_fcgi_process.cc:121
#17 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf785b4d00) at rgw/rgw_process.h:84
#18 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704bf40) at common/WorkQueue.cc:128
#19 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#20 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#21 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 316 (Thread 0x7fe02373e700 (LWP 137087)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe02373a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe02373a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe02373a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe02373a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe02373a9d0, bucket=bucket@entry=0x7fe02373aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8051b518, pmtime=0x7fdf8051b520, epoch=0x7fdf8051b528, attrs=0x7fdf8051b958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02373b4c0, obj=..., state=state@entry=0x7fe02373ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02373b4c0, obj=..., state=state@entry=0x7fe02373ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe02373b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe02373af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe02373b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe02373c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe02373c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1cec80, client_io=client_io@entry=0x7fe02373c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1cec80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1cec80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c704bfa0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 315 (Thread 0x7fe022f3d700 (LWP 137088)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe022f396c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe022f396c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe022f39898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe022f398c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe022f399d0, bucket=bucket@entry=0x7fe022f39a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8011cb18, pmtime=0x7fdf8011cb20, epoch=0x7fdf8011cb28, attrs=0x7fdf8011cf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe022f3a4c0, obj=..., state=state@entry=0x7fe022f39d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe022f3a4c0, obj=..., state=state@entry=0x7fe022f39d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe022f3a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe022f39f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe022f3a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe022f3b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe022f3b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8800, client_io=client_io@entry=0x7fe022f3b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8800) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8800) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055040) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 314 (Thread 0x7fe02273c700 (LWP 137089)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0227381a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0227381a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7fc38400, sul=..., ptid=ptid@entry=0x7fe0227383c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7fc38400, sul=..., ptid=ptid@entry=0x7fe0227383c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7fc38400, ptid=0x7fe0227383c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c8600, oid=..., o=0x7fe0eb8cb900, pbl=pbl@entry=0x7fe0227387e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe022738760, oid="test1", o=o@entry=0x7fe022738740, pbl=pbl@entry=0x7fe0227387e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7fd1b518, pmtime=0x7fdf7fd1b520, epoch=0x7fdf7fd1b528, attrs=0x7fdf7fd1b958, first_chunk=0x0, objv_tracker=0x7fe0227391e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe02273a620, obj=..., state=state@entry=0x7fe022738aa8, objv_tracker=objv_tracker@entry=0x7fe0227391e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe02273a620, obj=..., state=state@entry=0x7fe022738aa8, objv_tracker=objv_tracker@entry=0x7fe0227391e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe02273a3c8, lastmod=0x7fe022739180, obj_size=0x0, objv_tracker=0x7fe0227391e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe022738cb0, objv_tracker=objv_tracker@entry=0x7fe0227391e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0227391e0, pmtime=pmtime@entry=0x7fe022739180, pattrs=pattrs@entry=0x7fe02273a3c8, cache_info=cache_info@entry=0x7fe0227391b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0227391e0, pmtime=pmtime@entry=0x7fe022739180, pattrs=pattrs@entry=0x7fe02273a3c8, cache_info=cache_info@entry=0x7fe0227391b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe02273a3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe02273a0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bfd6be0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357040, client_io=client_io@entry=0x7fe02273a710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357040) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357040) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70550a0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 313 (Thread 0x7fe021f3b700 (LWP 137090)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe021f376c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe021f376c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe021f37898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe021f378c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe021f379d0, bucket=bucket@entry=0x7fe021f37a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7f91b518, pmtime=0x7fdf7f91b520, epoch=0x7fdf7f91b528, attrs=0x7fdf7f91b958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe021f384c0, obj=..., state=state@entry=0x7fe021f37d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe021f384c0, obj=..., state=state@entry=0x7fe021f37d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe021f384b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe021f37f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe021f384b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe021f390e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe021f390e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb340, client_io=client_io@entry=0x7fe021f39710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb340) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb340) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055100) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 312 (Thread 0x7fe02173a700 (LWP 137091)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0217366c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0217366c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe021736898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0217368c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0217369d0, bucket=bucket@entry=0x7fe021736a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7f51b518, pmtime=0x7fdf7f51b520, epoch=0x7fdf7f51b528, attrs=0x7fdf7f51b958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0217374c0, obj=..., state=state@entry=0x7fe021736d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0217374c0, obj=..., state=state@entry=0x7fe021736d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0217374b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe021736f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0217374b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0217380e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0217380e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8d40, client_io=client_io@entry=0x7fe021738710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8d40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8d40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055160) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 311 (Thread 0x7fe020f39700 (LWP 137092)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe020f356c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe020f356c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe020f35898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe020f358c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe020f359d0, bucket=bucket@entry=0x7fe020f35a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7f117b18, pmtime=0x7fdf7f117b20, epoch=0x7fdf7f117b28, attrs=0x7fdf7f117f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe020f364c0, obj=..., state=state@entry=0x7fe020f35d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe020f364c0, obj=..., state=state@entry=0x7fe020f35d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe020f364b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe020f35f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe020f364b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe020f370e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe020f370e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8600, client_io=client_io@entry=0x7fe020f37710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8600) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8600) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70551c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 310 (Thread 0x7fe020738700 (LWP 137093)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0207346c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0207346c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe020734898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0207348c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0207349d0, bucket=bucket@entry=0x7fe020734a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7ed1f518, pmtime=0x7fdf7ed1f520, epoch=0x7fdf7ed1f528, attrs=0x7fdf7ed1f958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0207354c0, obj=..., state=state@entry=0x7fe020734d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0207354c0, obj=..., state=state@entry=0x7fe020734d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0207354b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe020734f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0207354b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0207360e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0207360e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd640, client_io=client_io@entry=0x7fe020736710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd640) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd640) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055220) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 309 (Thread 0x7fe01ff37700 (LWP 137094)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe01ff32de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55ceda00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe01ff33010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe01ff32f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe01ff32f70, pbl=pbl@entry=0x7fe01ff33010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7e886318, pmtime=0x7fdf7e886320, epoch=0x7fdf7e886328, attrs=0x7fdf7e886758, first_chunk=0x0, objv_tracker=0x7fe01ff33ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe01ff33b90, obj=..., state=state@entry=0x7fe01ff332d8, objv_tracker=objv_tracker@entry=0x7fe01ff33ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe01ff33b90, obj=..., state=state@entry=0x7fe01ff332d8, objv_tracker=objv_tracker@entry=0x7fe01ff33ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe01ff33ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01ff334e0, objv_tracker=objv_tracker@entry=0x7fe01ff33ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe01ff33ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2211", bucket_obj=bucket_obj@entry=0x7fe01ff34210, shard_id=shard_id@entry=0x7fe01ff34200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe01ff341b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe01ff34120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe01ff34120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe01ff34500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf7eb5f600, etag=..., mtime=0x7fdf7e998768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf7eb5f600, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf7e998400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c70cf740, client_io=client_io@entry=0x7fe01ff35710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c70cf740) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c70cf740) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055280) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 308 (Thread 0x7fe01f736700 (LWP 137095)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe01f7321a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe01f7321a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7e449600, sul=..., ptid=ptid@entry=0x7fe01f7323c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7e449600, sul=..., ptid=ptid@entry=0x7fe01f7323c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7e449600, ptid=0x7fe01f7323c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fd000, oid=..., o=0x7fe0ecb9ee80, pbl=pbl@entry=0x7fe01f7327e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe01f732760, oid="test1", o=o@entry=0x7fe01f732740, pbl=pbl@entry=0x7fe01f7327e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7e520518, pmtime=0x7fdf7e520520, epoch=0x7fdf7e520528, attrs=0x7fdf7e520958, first_chunk=0x0, objv_tracker=0x7fe01f7331e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe01f734620, obj=..., state=state@entry=0x7fe01f732aa8, objv_tracker=objv_tracker@entry=0x7fe01f7331e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe01f734620, obj=..., state=state@entry=0x7fe01f732aa8, objv_tracker=objv_tracker@entry=0x7fe01f7331e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe01f7343c8, lastmod=0x7fe01f733180, obj_size=0x0, objv_tracker=0x7fe01f7331e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01f732cb0, objv_tracker=objv_tracker@entry=0x7fe01f7331e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe01f7331e0, pmtime=pmtime@entry=0x7fe01f733180, pattrs=pattrs@entry=0x7fe01f7343c8, cache_info=cache_info@entry=0x7fe01f7331b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe01f7331e0, pmtime=pmtime@entry=0x7fe01f733180, pattrs=pattrs@entry=0x7fe01f7343c8, cache_info=cache_info@entry=0x7fe01f7331b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe01f7343c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe01f7340e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b97b520) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722cb00, client_io=client_io@entry=0x7fe01f734710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722cb00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722cb00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70552e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 307 (Thread 0x7fe01ef35700 (LWP 137096)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe01ef31950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337b400, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe01ef31d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe01ef31ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe01ef321c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe01ef31d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe01ef323d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe01ef323d8, pmtime=pmtime@entry=0x7fe01ef324b0, pattrs=pattrs@entry=0x7fe01ef324b8, cache_info=cache_info@entry=0x7fe01ef321c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe01ef324b0, pattrs=pattrs@entry=0x7fe01ef324b8, cache_info=cache_info@entry=0x7fe01ef321c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe01ef333c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe01ef330e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf78a12620) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c355fc0, client_io=client_io@entry=0x7fe01ef33710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c355fc0) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c355fc0) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055340) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 306 (Thread 0x7fe01e734700 (LWP 137097)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe01e730120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe01e730120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7dc4de80, sul=..., ptid=ptid@entry=0x7fe01e730348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7dc4de80, sul=..., ptid=ptid@entry=0x7fe01e730348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7dc4de80, ptid=0x7fe01e730348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf55e21800, oid=..., o=0x7fe0eb4cc600, pbl=pbl@entry=0x7fe01e730760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe01e7306e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fe01e7306c0, pbl=pbl@entry=0x7fe01e730760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7dd1d518, pmtime=0x7fdf7dd1d520, epoch=0x7fdf7dd1d528, attrs=0x7fdf7dd1d958, first_chunk=0x0, objv_tracker=0x7fe01e731498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe01e730ff0, obj=..., state=state@entry=0x7fe01e730a28, objv_tracker=objv_tracker@entry=0x7fe01e731498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe01e730ff0, obj=..., state=state@entry=0x7fe01e730a28, objv_tracker=objv_tracker@entry=0x7fe01e731498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe01e731498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01e730c30, objv_tracker=objv_tracker@entry=0x7fe01e731498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fe01e731498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe01e731150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe01e731498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe01e731150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe01e7320e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe01e7320e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b3573c0, client_io=client_io@entry=0x7fe01e732710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b3573c0) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b3573c0) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70553a0) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 305 (Thread 0x7fe01df33700 (LWP 137098)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe01df2f950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73395c00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe01df2fd58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe01df2fae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe01df301c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe01df2fd50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe01df303d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe01df303d8, pmtime=pmtime@entry=0x7fe01df304b0, pattrs=pattrs@entry=0x7fe01df304b8, cache_info=cache_info@entry=0x7fe01df301c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe01df304b0, pattrs=pattrs@entry=0x7fe01df304b8, cache_info=cache_info@entry=0x7fe01df301c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe01df313c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe01df310e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7ca89220) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a6c0, client_io=client_io@entry=0x7fe01df31710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a6c0) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a6c0) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055400) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 304 (Thread 0x7fe01d732700 (LWP 137099)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe01d72e1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe01d72e1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7d44bb80, sul=..., ptid=ptid@entry=0x7fe01d72e3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7d44bb80, sul=..., ptid=ptid@entry=0x7fe01d72e3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7d44bb80, ptid=0x7fe01d72e3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb715a00, oid=..., o=0x7fdf725d8800, pbl=pbl@entry=0x7fe01d72e7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe01d72e760, oid="test1", o=o@entry=0x7fe01d72e740, pbl=pbl@entry=0x7fe01d72e7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7d51b518, pmtime=0x7fdf7d51b520, epoch=0x7fdf7d51b528, attrs=0x7fdf7d51b958, first_chunk=0x0, objv_tracker=0x7fe01d72f1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe01d730620, obj=..., state=state@entry=0x7fe01d72eaa8, objv_tracker=objv_tracker@entry=0x7fe01d72f1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe01d730620, obj=..., state=state@entry=0x7fe01d72eaa8, objv_tracker=objv_tracker@entry=0x7fe01d72f1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe01d7303c8, lastmod=0x7fe01d72f180, obj_size=0x0, objv_tracker=0x7fe01d72f1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01d72ecb0, objv_tracker=objv_tracker@entry=0x7fe01d72f1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe01d72f1e0, pmtime=pmtime@entry=0x7fe01d72f180, pattrs=pattrs@entry=0x7fe01d7303c8, cache_info=cache_info@entry=0x7fe01d72f1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe01d72f1e0, pmtime=pmtime@entry=0x7fe01d72f180, pattrs=pattrs@entry=0x7fe01d7303c8, cache_info=cache_info@entry=0x7fe01d72f1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe01d7303c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe01d7300e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bd951a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf777901c0, client_io=client_io@entry=0x7fe01d730710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf777901c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf777901c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055460) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 303 (Thread 0x7fe01cf31700 (LWP 137100)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe01cf2cde0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d85a00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe01cf2d010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe01cf2cf90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe01cf2cf70, pbl=pbl@entry=0x7fe01cf2d010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7d088118, pmtime=0x7fdf7d088120, epoch=0x7fdf7d088128, attrs=0x7fdf7d088558, first_chunk=0x0, objv_tracker=0x7fe01cf2dab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe01cf2db90, obj=..., state=state@entry=0x7fe01cf2d2d8, objv_tracker=objv_tracker@entry=0x7fe01cf2dab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe01cf2db90, obj=..., state=state@entry=0x7fe01cf2d2d8, objv_tracker=objv_tracker@entry=0x7fe01cf2dab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe01cf2dab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01cf2d4e0, objv_tracker=objv_tracker@entry=0x7fe01cf2dab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe01cf2dab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2268", bucket_obj=bucket_obj@entry=0x7fe01cf2e210, shard_id=shard_id@entry=0x7fe01cf2e200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe01cf2e1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe01cf2e120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe01cf2e120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe01cf2e500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf7d1fb800, etag=..., mtime=0x7fdf7d38b768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf7d1fb800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf7d38b400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf76869c00, client_io=client_io@entry=0x7fe01cf2f710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf76869c00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf76869c00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70554c0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 302 (Thread 0x7fe01c730700 (LWP 137101)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe01c72c6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe01c72c6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe01c72c898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe01c72c8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe01c72c9d0, bucket=bucket@entry=0x7fe01c72ca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7cd21518, pmtime=0x7fdf7cd21520, epoch=0x7fdf7cd21528, attrs=0x7fdf7cd21958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe01c72d4c0, obj=..., state=state@entry=0x7fe01c72cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe01c72d4c0, obj=..., state=state@entry=0x7fe01c72cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe01c72d4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01c72cf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe01c72d4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe01c72e0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe01c72e0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9de80, client_io=client_io@entry=0x7fe01c72e710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9de80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9de80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055520) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 301 (Thread 0x7fe01bf2f700 (LWP 137102)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe01bf2b5b0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf76413a00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe01bf2b7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe01bf2b760, oid="test1", o=o@entry=0x7fe01bf2b740, pbl=pbl@entry=0x7fe01bf2b7e0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0faf29b18, pmtime=0x7fe0faf29b20, epoch=0x7fe0faf29b28, attrs=0x7fe0faf29f58, first_chunk=0x0, objv_tracker=0x7fe01bf2c1e0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe01bf2d620, obj=..., state=state@entry=0x7fe01bf2baa8, objv_tracker=objv_tracker@entry=0x7fe01bf2c1e0) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe01bf2d620, obj=..., state=state@entry=0x7fe01bf2baa8, objv_tracker=objv_tracker@entry=0x7fe01bf2c1e0) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe01bf2d3c8, lastmod=0x7fe01bf2c180, obj_size=0x0, objv_tracker=0x7fe01bf2c1e0) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01bf2bcb0, objv_tracker=objv_tracker@entry=0x7fe01bf2c1e0) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe01bf2c1e0, pmtime=pmtime@entry=0x7fe01bf2c180, pattrs=pattrs@entry=0x7fe01bf2d3c8, cache_info=cache_info@entry=0x7fe01bf2c1b0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe01bf2c1e0, pmtime=pmtime@entry=0x7fe01bf2c180, pattrs=pattrs@entry=0x7fe01bf2d3c8, cache_info=cache_info@entry=0x7fe01bf2c1b0) at rgw/rgw_rados.cc:10991
#11 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe01bf2d3c8) at rgw/rgw_rados.cc:11066
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe01bf2d0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cbce3a0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c72b6980, client_io=client_io@entry=0x7fe01bf2d710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c72b6980) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c72b6980) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055580) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 300 (Thread 0x7fe01b72e700 (LWP 137103)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe01b72a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe01b72a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe01b72a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe01b72a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe01b72a9d0, bucket=bucket@entry=0x7fe01b72aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f7d27b18, pmtime=0x7fe0f7d27b20, epoch=0x7fe0f7d27b28, attrs=0x7fe0f7d27f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe01b72b4c0, obj=..., state=state@entry=0x7fe01b72ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe01b72b4c0, obj=..., state=state@entry=0x7fe01b72ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe01b72b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01b72af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe01b72b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe01b72c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe01b72c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce440, client_io=client_io@entry=0x7fe01b72c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce440) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce440) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70555e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 299 (Thread 0x7fe01af2d700 (LWP 137104)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe01af28de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d89000, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe01af29010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe01af28f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe01af28f70, pbl=pbl@entry=0x7fe01af29010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f44a9518, pmtime=0x7fe0f44a9520, epoch=0x7fe0f44a9528, attrs=0x7fe0f44a9958, first_chunk=0x0, objv_tracker=0x7fe01af29ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe01af29b90, obj=..., state=state@entry=0x7fe01af292d8, objv_tracker=objv_tracker@entry=0x7fe01af29ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe01af29b90, obj=..., state=state@entry=0x7fe01af292d8, objv_tracker=objv_tracker@entry=0x7fe01af29ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe01af29ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01af294e0, objv_tracker=objv_tracker@entry=0x7fe01af29ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe01af29ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2271", bucket_obj=bucket_obj@entry=0x7fe01af2a210, shard_id=shard_id@entry=0x7fe01af2a200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe01af2a1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe01af2a120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe01af2a120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe01af2a500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0f463a600, etag=..., mtime=0x7fe0f45c2768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0f463a600, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0f45c2400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78de6c40, client_io=client_io@entry=0x7fe01af2b710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78de6c40) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78de6c40) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055640) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 298 (Thread 0x7fe01a72c700 (LWP 137105)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe01a7281a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe01a7281a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f4095d00, sul=..., ptid=ptid@entry=0x7fe01a7283c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f4095d00, sul=..., ptid=ptid@entry=0x7fe01a7283c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0f4095d00, ptid=0x7fe01a7283c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7440f600, oid=..., o=0x7fe0efca5500, pbl=pbl@entry=0x7fe01a7287e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe01a728760, oid="test1", o=o@entry=0x7fe01a728740, pbl=pbl@entry=0x7fe01a7287e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f4151518, pmtime=0x7fe0f4151520, epoch=0x7fe0f4151528, attrs=0x7fe0f4151958, first_chunk=0x0, objv_tracker=0x7fe01a7291e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe01a72a620, obj=..., state=state@entry=0x7fe01a728aa8, objv_tracker=objv_tracker@entry=0x7fe01a7291e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe01a72a620, obj=..., state=state@entry=0x7fe01a728aa8, objv_tracker=objv_tracker@entry=0x7fe01a7291e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe01a72a3c8, lastmod=0x7fe01a729180, obj_size=0x0, objv_tracker=0x7fe01a7291e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01a728cb0, objv_tracker=objv_tracker@entry=0x7fe01a7291e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe01a7291e0, pmtime=pmtime@entry=0x7fe01a729180, pattrs=pattrs@entry=0x7fe01a72a3c8, cache_info=cache_info@entry=0x7fe01a7291b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe01a7291e0, pmtime=pmtime@entry=0x7fe01a729180, pattrs=pattrs@entry=0x7fe01a72a3c8, cache_info=cache_info@entry=0x7fe01a7291b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe01a72a3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe01a72a0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c97cd80) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868d80, client_io=client_io@entry=0x7fe01a72a710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868d80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868d80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70556a0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 297 (Thread 0x7fe019f2b700 (LWP 137106)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe019f26de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d88000, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe019f27010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe019f26f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe019f26f70, pbl=pbl@entry=0x7fe019f27010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f3caa518, pmtime=0x7fe0f3caa520, epoch=0x7fe0f3caa528, attrs=0x7fe0f3caa958, first_chunk=0x0, objv_tracker=0x7fe019f27ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe019f27b90, obj=..., state=state@entry=0x7fe019f272d8, objv_tracker=objv_tracker@entry=0x7fe019f27ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe019f27b90, obj=..., state=state@entry=0x7fe019f272d8, objv_tracker=objv_tracker@entry=0x7fe019f27ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe019f27ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe019f274e0, objv_tracker=objv_tracker@entry=0x7fe019f27ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe019f27ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2282", bucket_obj=bucket_obj@entry=0x7fe019f28210, shard_id=shard_id@entry=0x7fe019f28200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe019f281b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe019f28120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe019f28120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe019f28500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0f3e20a00, etag=..., mtime=0x7fe0f3de6768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0f3e20a00, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0f3de6400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a500, client_io=client_io@entry=0x7fe019f29710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a500) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a500) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055700) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 296 (Thread 0x7fe01972a700 (LWP 137107)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0197266c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0197266c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe019726898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0197268c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0197269d0, bucket=bucket@entry=0x7fe019726a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f1523b18, pmtime=0x7fe0f1523b20, epoch=0x7fe0f1523b28, attrs=0x7fe0f1523f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0197274c0, obj=..., state=state@entry=0x7fe019726d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0197274c0, obj=..., state=state@entry=0x7fe019726d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0197274b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe019726f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0197274b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0197280e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0197280e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9dac0, client_io=client_io@entry=0x7fe019728710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9dac0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9dac0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055760) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 295 (Thread 0x7fe018f29700 (LWP 137108)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe018f25120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe018f25120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f1055800, sul=..., ptid=ptid@entry=0x7fe018f25348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f1055800, sul=..., ptid=ptid@entry=0x7fe018f25348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0f1055800, ptid=0x7fe018f25348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf76a71400, oid=..., o=0x7fdf72521300, pbl=pbl@entry=0x7fe018f25760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe018f256e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fe018f256c0, pbl=pbl@entry=0x7fe018f25760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f1136b18, pmtime=0x7fe0f1136b20, epoch=0x7fe0f1136b28, attrs=0x7fe0f1136f58, first_chunk=0x0, objv_tracker=0x7fe018f26498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe018f25ff0, obj=..., state=state@entry=0x7fe018f25a28, objv_tracker=objv_tracker@entry=0x7fe018f26498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe018f25ff0, obj=..., state=state@entry=0x7fe018f25a28, objv_tracker=objv_tracker@entry=0x7fe018f26498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe018f26498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe018f25c30, objv_tracker=objv_tracker@entry=0x7fe018f26498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fe018f26498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe018f26150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe018f26498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe018f26150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe018f270e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe018f270e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357440, client_io=client_io@entry=0x7fe018f27710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357440) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357440) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70557c0) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 294 (Thread 0x7fe018728700 (LWP 137109)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0187241a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0187241a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f0c65e80, sul=..., ptid=ptid@entry=0x7fe0187243c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f0c65e80, sul=..., ptid=ptid@entry=0x7fe0187243c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0f0c65e80, ptid=0x7fe0187243c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c4800, oid=..., o=0x7fe0f0cfad00, pbl=pbl@entry=0x7fe0187247e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe018724760, oid="test1", o=o@entry=0x7fe018724740, pbl=pbl@entry=0x7fe0187247e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f0d65518, pmtime=0x7fe0f0d65520, epoch=0x7fe0f0d65528, attrs=0x7fe0f0d65958, first_chunk=0x0, objv_tracker=0x7fe0187251e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe018726620, obj=..., state=state@entry=0x7fe018724aa8, objv_tracker=objv_tracker@entry=0x7fe0187251e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe018726620, obj=..., state=state@entry=0x7fe018724aa8, objv_tracker=objv_tracker@entry=0x7fe0187251e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0187263c8, lastmod=0x7fe018725180, obj_size=0x0, objv_tracker=0x7fe0187251e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe018724cb0, objv_tracker=objv_tracker@entry=0x7fe0187251e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0187251e0, pmtime=pmtime@entry=0x7fe018725180, pattrs=pattrs@entry=0x7fe0187263c8, cache_info=cache_info@entry=0x7fe0187251b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0187251e0, pmtime=pmtime@entry=0x7fe018725180, pattrs=pattrs@entry=0x7fe0187263c8, cache_info=cache_info@entry=0x7fe0187251b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0187263c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0187260e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c1590a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79b7f580, client_io=client_io@entry=0x7fe018726710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79b7f580) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79b7f580) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055820) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 293 (Thread 0x7fe017f27700 (LWP 137110)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe017f231a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe017f231a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f0848c00, sul=..., ptid=ptid@entry=0x7fe017f233c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f0848c00, sul=..., ptid=ptid@entry=0x7fe017f233c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0f0848c00, ptid=0x7fe017f233c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c3400, oid=..., o=0x7fe0f08cbe80, pbl=pbl@entry=0x7fe017f237e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe017f23760, oid="test1", o=o@entry=0x7fe017f23740, pbl=pbl@entry=0x7fe017f237e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f0933b18, pmtime=0x7fe0f0933b20, epoch=0x7fe0f0933b28, attrs=0x7fe0f0933f58, first_chunk=0x0, objv_tracker=0x7fe017f241e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe017f25620, obj=..., state=state@entry=0x7fe017f23aa8, objv_tracker=objv_tracker@entry=0x7fe017f241e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe017f25620, obj=..., state=state@entry=0x7fe017f23aa8, objv_tracker=objv_tracker@entry=0x7fe017f241e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe017f253c8, lastmod=0x7fe017f24180, obj_size=0x0, objv_tracker=0x7fe017f241e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe017f23cb0, objv_tracker=objv_tracker@entry=0x7fe017f241e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe017f241e0, pmtime=pmtime@entry=0x7fe017f24180, pattrs=pattrs@entry=0x7fe017f253c8, cache_info=cache_info@entry=0x7fe017f241b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe017f241e0, pmtime=pmtime@entry=0x7fe017f24180, pattrs=pattrs@entry=0x7fe017f253c8, cache_info=cache_info@entry=0x7fe017f241b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe017f253c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe017f250e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7a016a20) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868f80, client_io=client_io@entry=0x7fe017f25710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868f80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868f80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055880) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 292 (Thread 0x7fe017726700 (LWP 137111)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0177226c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0177226c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe017722898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0177228c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0177229d0, bucket=bucket@entry=0x7fe017722a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f0561518, pmtime=0x7fe0f0561520, epoch=0x7fe0f0561528, attrs=0x7fe0f0561958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0177234c0, obj=..., state=state@entry=0x7fe017722d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0177234c0, obj=..., state=state@entry=0x7fe017722d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0177234b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe017722f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0177234b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0177240e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0177240e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9ddc0, client_io=client_io@entry=0x7fe017724710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9ddc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9ddc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70558e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 291 (Thread 0x7fe016f25700 (LWP 137112)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe016f216c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe016f216c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe016f21898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe016f218c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe016f219d0, bucket=bucket@entry=0x7fe016f21a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f0134b18, pmtime=0x7fe0f0134b20, epoch=0x7fe0f0134b28, attrs=0x7fe0f0134f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe016f224c0, obj=..., state=state@entry=0x7fe016f21d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe016f224c0, obj=..., state=state@entry=0x7fe016f21d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe016f224b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe016f21f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe016f224b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe016f230e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe016f230e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8a00, client_io=client_io@entry=0x7fe016f23710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8a00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8a00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055940) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 290 (Thread 0x7fe016724700 (LWP 137113)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0167206c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0167206c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe016720898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0167208c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0167209d0, bucket=bucket@entry=0x7fe016720a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0efd51518, pmtime=0x7fe0efd51520, epoch=0x7fe0efd51528, attrs=0x7fe0efd51958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0167214c0, obj=..., state=state@entry=0x7fe016720d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0167214c0, obj=..., state=state@entry=0x7fe016720d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0167214b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe016720f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0167214b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0167220e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0167220e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce880, client_io=client_io@entry=0x7fe016722710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce880) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce880) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70559a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 289 (Thread 0x7fe015f23700 (LWP 137114)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe015f1f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe015f1f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe015f1f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe015f1f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe015f1f9d0, bucket=bucket@entry=0x7fe015f1fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ef93e518, pmtime=0x7fe0ef93e520, epoch=0x7fe0ef93e528, attrs=0x7fe0ef93e958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe015f204c0, obj=..., state=state@entry=0x7fe015f1fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe015f204c0, obj=..., state=state@entry=0x7fe015f1fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe015f204b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe015f1ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe015f204b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe015f210e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe015f210e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9dd40, client_io=client_io@entry=0x7fe015f21710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9dd40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9dd40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055a00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 288 (Thread 0x7fe015722700 (LWP 137115)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe01571e1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe01571e1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ef45a180, sul=..., ptid=ptid@entry=0x7fe01571e3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ef45a180, sul=..., ptid=ptid@entry=0x7fe01571e3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ef45a180, ptid=0x7fe01571e3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c3a00, oid=..., o=0x7fe0cecc7a80, pbl=pbl@entry=0x7fe01571e7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe01571e760, oid="test1", o=o@entry=0x7fe01571e740, pbl=pbl@entry=0x7fe01571e7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ef42e118, pmtime=0x7fe0ef42e120, epoch=0x7fe0ef42e128, attrs=0x7fe0ef42e558, first_chunk=0x0, objv_tracker=0x7fe01571f1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe015720620, obj=..., state=state@entry=0x7fe01571eaa8, objv_tracker=objv_tracker@entry=0x7fe01571f1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe015720620, obj=..., state=state@entry=0x7fe01571eaa8, objv_tracker=objv_tracker@entry=0x7fe01571f1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0157203c8, lastmod=0x7fe01571f180, obj_size=0x0, objv_tracker=0x7fe01571f1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01571ecb0, objv_tracker=objv_tracker@entry=0x7fe01571f1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe01571f1e0, pmtime=pmtime@entry=0x7fe01571f180, pattrs=pattrs@entry=0x7fe0157203c8, cache_info=cache_info@entry=0x7fe01571f1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe01571f1e0, pmtime=pmtime@entry=0x7fe01571f180, pattrs=pattrs@entry=0x7fe0157203c8, cache_info=cache_info@entry=0x7fe01571f1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0157203c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0157200e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c0e6f40) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78fc9840, client_io=client_io@entry=0x7fe015720710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78fc9840) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78fc9840) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055a60) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 287 (Thread 0x7fe014f21700 (LWP 137116)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe014f1d6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe014f1d6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe014f1d898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe014f1d8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe014f1d9d0, bucket=bucket@entry=0x7fe014f1da20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0eed39518, pmtime=0x7fe0eed39520, epoch=0x7fe0eed39528, attrs=0x7fe0eed39958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe014f1e4c0, obj=..., state=state@entry=0x7fe014f1dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe014f1e4c0, obj=..., state=state@entry=0x7fe014f1dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe014f1e4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe014f1df30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe014f1e4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe014f1f0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe014f1f0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce900, client_io=client_io@entry=0x7fe014f1f710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce900) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce900) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055ac0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 286 (Thread 0x7fe014720700 (LWP 137117)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe01471c6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe01471c6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe01471c898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe01471c8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe01471c9d0, bucket=bucket@entry=0x7fe01471ca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ee964b18, pmtime=0x7fe0ee964b20, epoch=0x7fe0ee964b28, attrs=0x7fe0ee964f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe01471d4c0, obj=..., state=state@entry=0x7fe01471cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe01471d4c0, obj=..., state=state@entry=0x7fe01471cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe01471d4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01471cf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe01471d4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe01471e0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe01471e0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357a80, client_io=client_io@entry=0x7fe01471e710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357a80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357a80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055b20) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 285 (Thread 0x7fe013f1f700 (LWP 137118)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe013f1b6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe013f1b6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe013f1b898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe013f1b8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe013f1b9d0, bucket=bucket@entry=0x7fe013f1ba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ee52c518, pmtime=0x7fe0ee52c520, epoch=0x7fe0ee52c528, attrs=0x7fe0ee52c958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe013f1c4c0, obj=..., state=state@entry=0x7fe013f1bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe013f1c4c0, obj=..., state=state@entry=0x7fe013f1bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe013f1c4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe013f1bf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe013f1c4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe013f1d0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe013f1d0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357dc0, client_io=client_io@entry=0x7fe013f1d710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357dc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357dc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055b80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 284 (Thread 0x7fe01371e700 (LWP 137119)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe013719de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf770b9600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe01371a010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe013719f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe013719f70, pbl=pbl@entry=0x7fe01371a010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0edcde118, pmtime=0x7fe0edcde120, epoch=0x7fe0edcde128, attrs=0x7fe0edcde558, first_chunk=0x0, objv_tracker=0x7fe01371aab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe01371ab90, obj=..., state=state@entry=0x7fe01371a2d8, objv_tracker=objv_tracker@entry=0x7fe01371aab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe01371ab90, obj=..., state=state@entry=0x7fe01371a2d8, objv_tracker=objv_tracker@entry=0x7fe01371aab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe01371aab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe01371a4e0, objv_tracker=objv_tracker@entry=0x7fe01371aab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe01371aab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2281", bucket_obj=bucket_obj@entry=0x7fe01371b210, shard_id=shard_id@entry=0x7fe01371b200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe01371b1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe01371b120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe01371b120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe01371b500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0edfbb400, etag=..., mtime=0x7fe0eded5768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0edfbb400, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0eded5400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a480, client_io=client_io@entry=0x7fe01371c710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a480) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a480) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055be0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 283 (Thread 0x7fe012f1d700 (LWP 137120)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe012f196c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe012f196c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe012f19898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe012f198c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe012f199d0, bucket=bucket@entry=0x7fe012f19a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ed935b18, pmtime=0x7fe0ed935b20, epoch=0x7fe0ed935b28, attrs=0x7fe0ed935f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe012f1a4c0, obj=..., state=state@entry=0x7fe012f19d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe012f1a4c0, obj=..., state=state@entry=0x7fe012f19d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe012f1a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe012f19f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe012f1a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe012f1b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe012f1b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1cec00, client_io=client_io@entry=0x7fe012f1b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1cec00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1cec00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055c40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 282 (Thread 0x7fe01271c700 (LWP 137121)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0127186c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0127186c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe012718898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0127188c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0127189d0, bucket=bucket@entry=0x7fe012718a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ed554518, pmtime=0x7fe0ed554520, epoch=0x7fe0ed554528, attrs=0x7fe0ed554958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0127194c0, obj=..., state=state@entry=0x7fe012718d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0127194c0, obj=..., state=state@entry=0x7fe012718d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0127194b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe012718f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0127194b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe01271a0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe01271a0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1cec40, client_io=client_io@entry=0x7fe01271a710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1cec40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1cec40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055ca0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 281 (Thread 0x7fe011f1b700 (LWP 137122)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe011f17950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73378a00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe011f17d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe011f17ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe011f181c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe011f17d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe011f183d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe011f183d8, pmtime=pmtime@entry=0x7fe011f184b0, pattrs=pattrs@entry=0x7fe011f184b8, cache_info=cache_info@entry=0x7fe011f181c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe011f184b0, pattrs=pattrs@entry=0x7fe011f184b8, cache_info=cache_info@entry=0x7fe011f181c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe011f193c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe011f190e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf79ba8200) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a7c0, client_io=client_io@entry=0x7fe011f19710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a7c0) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a7c0) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055d00) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 280 (Thread 0x7fe01171a700 (LWP 137123)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0117161a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0117161a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ec883b00, sul=..., ptid=ptid@entry=0x7fe0117163c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ec883b00, sul=..., ptid=ptid@entry=0x7fe0117163c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ec883b00, ptid=0x7fe0117163c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745be800, oid=..., o=0x7fe0f0dde100, pbl=pbl@entry=0x7fe0117167e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe011716760, oid="test1", o=o@entry=0x7fe011716740, pbl=pbl@entry=0x7fe0117167e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ec973518, pmtime=0x7fe0ec973520, epoch=0x7fe0ec973528, attrs=0x7fe0ec973958, first_chunk=0x0, objv_tracker=0x7fe0117171e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe011718620, obj=..., state=state@entry=0x7fe011716aa8, objv_tracker=objv_tracker@entry=0x7fe0117171e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe011718620, obj=..., state=state@entry=0x7fe011716aa8, objv_tracker=objv_tracker@entry=0x7fe0117171e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0117183c8, lastmod=0x7fe011717180, obj_size=0x0, objv_tracker=0x7fe0117171e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe011716cb0, objv_tracker=objv_tracker@entry=0x7fe0117171e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0117171e0, pmtime=pmtime@entry=0x7fe011717180, pattrs=pattrs@entry=0x7fe0117183c8, cache_info=cache_info@entry=0x7fe0117171b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0117171e0, pmtime=pmtime@entry=0x7fe011717180, pattrs=pattrs@entry=0x7fe0117183c8, cache_info=cache_info@entry=0x7fe0117171b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0117183c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0117180e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b540820) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79b91bc0, client_io=client_io@entry=0x7fe011718710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79b91bc0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79b91bc0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055d60) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 279 (Thread 0x7fe010f19700 (LWP 137124)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe010f151a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe010f151a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ec445a00, sul=..., ptid=ptid@entry=0x7fe010f153c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ec445a00, sul=..., ptid=ptid@entry=0x7fe010f153c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ec445a00, ptid=0x7fe010f153c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c7200, oid=..., o=0x7fdf726c1080, pbl=pbl@entry=0x7fe010f157e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe010f15760, oid="test1", o=o@entry=0x7fe010f15740, pbl=pbl@entry=0x7fe010f157e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ec538518, pmtime=0x7fe0ec538520, epoch=0x7fe0ec538528, attrs=0x7fe0ec538958, first_chunk=0x0, objv_tracker=0x7fe010f161e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe010f17620, obj=..., state=state@entry=0x7fe010f15aa8, objv_tracker=objv_tracker@entry=0x7fe010f161e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe010f17620, obj=..., state=state@entry=0x7fe010f15aa8, objv_tracker=objv_tracker@entry=0x7fe010f161e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe010f173c8, lastmod=0x7fe010f16180, obj_size=0x0, objv_tracker=0x7fe010f161e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe010f15cb0, objv_tracker=objv_tracker@entry=0x7fe010f161e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe010f161e0, pmtime=pmtime@entry=0x7fe010f16180, pattrs=pattrs@entry=0x7fe010f173c8, cache_info=cache_info@entry=0x7fe010f161b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe010f161e0, pmtime=pmtime@entry=0x7fe010f16180, pattrs=pattrs@entry=0x7fe010f173c8, cache_info=cache_info@entry=0x7fe010f161b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe010f173c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe010f170e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c715e920) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868800, client_io=client_io@entry=0x7fe010f17710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868800) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868800) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055dc0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 278 (Thread 0x7fe010718700 (LWP 137125)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0107141a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0107141a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ebc65280, sul=..., ptid=ptid@entry=0x7fe0107143c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ebc65280, sul=..., ptid=ptid@entry=0x7fe0107143c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ebc65280, ptid=0x7fe0107143c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c6e00, oid=..., o=0x7fe0ef698c00, pbl=pbl@entry=0x7fe0107147e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe010714760, oid="test1", o=o@entry=0x7fe010714740, pbl=pbl@entry=0x7fe0107147e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ebd74b18, pmtime=0x7fe0ebd74b20, epoch=0x7fe0ebd74b28, attrs=0x7fe0ebd74f58, first_chunk=0x0, objv_tracker=0x7fe0107151e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe010716620, obj=..., state=state@entry=0x7fe010714aa8, objv_tracker=objv_tracker@entry=0x7fe0107151e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe010716620, obj=..., state=state@entry=0x7fe010714aa8, objv_tracker=objv_tracker@entry=0x7fe0107151e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0107163c8, lastmod=0x7fe010715180, obj_size=0x0, objv_tracker=0x7fe0107151e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe010714cb0, objv_tracker=objv_tracker@entry=0x7fe0107151e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0107151e0, pmtime=pmtime@entry=0x7fe010715180, pattrs=pattrs@entry=0x7fe0107163c8, cache_info=cache_info@entry=0x7fe0107151b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0107151e0, pmtime=pmtime@entry=0x7fe010715180, pattrs=pattrs@entry=0x7fe0107163c8, cache_info=cache_info@entry=0x7fe0107151b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0107163c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0107160e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c97cb40) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868700, client_io=client_io@entry=0x7fe010716710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868700) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868700) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055e20) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 277 (Thread 0x7fe00ff17700 (LWP 137126)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe00ff131a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe00ff131a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eb833a00, sul=..., ptid=ptid@entry=0x7fe00ff133c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eb833a00, sul=..., ptid=ptid@entry=0x7fe00ff133c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0eb833a00, ptid=0x7fe00ff133c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb716800, oid=..., o=0x7fe0ac083c00, pbl=pbl@entry=0x7fe00ff137e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe00ff13760, oid="test1", o=o@entry=0x7fe00ff13740, pbl=pbl@entry=0x7fe00ff137e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0eb933b18, pmtime=0x7fe0eb933b20, epoch=0x7fe0eb933b28, attrs=0x7fe0eb933f58, first_chunk=0x0, objv_tracker=0x7fe00ff141e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe00ff15620, obj=..., state=state@entry=0x7fe00ff13aa8, objv_tracker=objv_tracker@entry=0x7fe00ff141e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe00ff15620, obj=..., state=state@entry=0x7fe00ff13aa8, objv_tracker=objv_tracker@entry=0x7fe00ff141e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe00ff153c8, lastmod=0x7fe00ff14180, obj_size=0x0, objv_tracker=0x7fe00ff141e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe00ff13cb0, objv_tracker=objv_tracker@entry=0x7fe00ff141e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe00ff141e0, pmtime=pmtime@entry=0x7fe00ff14180, pattrs=pattrs@entry=0x7fe00ff153c8, cache_info=cache_info@entry=0x7fe00ff141b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe00ff141e0, pmtime=pmtime@entry=0x7fe00ff14180, pattrs=pattrs@entry=0x7fe00ff153c8, cache_info=cache_info@entry=0x7fe00ff141b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe00ff153c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe00ff150e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c1f5820) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf795a7440, client_io=client_io@entry=0x7fe00ff15710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf795a7440) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf795a7440) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055e80) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 276 (Thread 0x7fe00f716700 (LWP 137127)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe00f7121a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe00f7121a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eb48d180, sul=..., ptid=ptid@entry=0x7fe00f7123c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eb48d180, sul=..., ptid=ptid@entry=0x7fe00f7123c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0eb48d180, ptid=0x7fe00f7123c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7faa00, oid=..., o=0x7fe0eb455e80, pbl=pbl@entry=0x7fe00f7127e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe00f712760, oid="test1", o=o@entry=0x7fe00f712740, pbl=pbl@entry=0x7fe00f7127e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0eb5ccb18, pmtime=0x7fe0eb5ccb20, epoch=0x7fe0eb5ccb28, attrs=0x7fe0eb5ccf58, first_chunk=0x0, objv_tracker=0x7fe00f7131e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe00f714620, obj=..., state=state@entry=0x7fe00f712aa8, objv_tracker=objv_tracker@entry=0x7fe00f7131e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe00f714620, obj=..., state=state@entry=0x7fe00f712aa8, objv_tracker=objv_tracker@entry=0x7fe00f7131e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe00f7143c8, lastmod=0x7fe00f713180, obj_size=0x0, objv_tracker=0x7fe00f7131e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe00f712cb0, objv_tracker=objv_tracker@entry=0x7fe00f7131e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe00f7131e0, pmtime=pmtime@entry=0x7fe00f713180, pattrs=pattrs@entry=0x7fe00f7143c8, cache_info=cache_info@entry=0x7fe00f7131b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe00f7131e0, pmtime=pmtime@entry=0x7fe00f713180, pattrs=pattrs@entry=0x7fe00f7143c8, cache_info=cache_info@entry=0x7fe00f7131b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe00f7143c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe00f7140e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b9d9460) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b32dd40, client_io=client_io@entry=0x7fe00f714710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b32dd40) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b32dd40) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055ee0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 275 (Thread 0x7fe00ef15700 (LWP 137128)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe00ef115b0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0eb6f0e00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe00ef117e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe00ef11760, oid="test1", o=o@entry=0x7fe00ef11740, pbl=pbl@entry=0x7fe00ef117e0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ead38518, pmtime=0x7fe0ead38520, epoch=0x7fe0ead38528, attrs=0x7fe0ead38958, first_chunk=0x0, objv_tracker=0x7fe00ef121e0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe00ef13620, obj=..., state=state@entry=0x7fe00ef11aa8, objv_tracker=objv_tracker@entry=0x7fe00ef121e0) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe00ef13620, obj=..., state=state@entry=0x7fe00ef11aa8, objv_tracker=objv_tracker@entry=0x7fe00ef121e0) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe00ef133c8, lastmod=0x7fe00ef12180, obj_size=0x0, objv_tracker=0x7fe00ef121e0) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe00ef11cb0, objv_tracker=objv_tracker@entry=0x7fe00ef121e0) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe00ef121e0, pmtime=pmtime@entry=0x7fe00ef12180, pattrs=pattrs@entry=0x7fe00ef133c8, cache_info=cache_info@entry=0x7fe00ef121b0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe00ef121e0, pmtime=pmtime@entry=0x7fe00ef12180, pattrs=pattrs@entry=0x7fe00ef133c8, cache_info=cache_info@entry=0x7fe00ef121b0) at rgw/rgw_rados.cc:10991
#11 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe00ef133c8) at rgw/rgw_rados.cc:11066
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe00ef130e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cbce6a0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35adc0, client_io=client_io@entry=0x7fe00ef13710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35adc0) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35adc0) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055f40) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 274 (Thread 0x7fe00e714700 (LWP 137129)):
#0  0x00007fe10abbaf4d in __lll_lock_wait () from /lib64/libpthread.so.0
#1  0x00007fe10abb6d02 in _L_lock_791 () from /lib64/libpthread.so.0
#2  0x00007fe10abb6c08 in pthread_mutex_lock () from /lib64/libpthread.so.0
#3  0x00007fe10b44ffb6 in je_malloc_mutex_lock (mutex=0x7fe0fb0f5210) at include/jemalloc/internal/mutex.h:77
#4  je_arena_tcache_fill_small (arena=0x7fe0fb0f4fc0, tbin=tbin@entry=0x7fe0ea864068, binind=binind@entry=2, prof_accumbytes=prof_accumbytes@entry=0) at src/arena.c:1475
#5  0x00007fe10b46faef in je_tcache_alloc_small_hard (tcache=tcache@entry=0x7fe0ea864000, tbin=tbin@entry=0x7fe0ea864068, binind=binind@entry=2) at src/tcache.c:72
#6  0x00007fe10b445239 in je_tcache_alloc_small (zero=false, size=32, tcache=0x7fe0ea864000) at include/jemalloc/internal/tcache.h:303
#7  je_arena_malloc (try_tcache=true, zero=false, size=<optimized out>, arena=0x0) at include/jemalloc/internal/arena.h:957
#8  je_imalloct (arena=0x0, try_tcache=true, size=<optimized out>) at include/jemalloc/internal/jemalloc_internal.h:771
#9  je_imalloc (size=<optimized out>) at include/jemalloc/internal/jemalloc_internal.h:780
#10 realloc (ptr=<optimized out>, size=<optimized out>) at src/jemalloc.c:1278
#11 0x00007fe10a70246c in ?? () from /lib64/libstdc++.so.6
#12 0x00007fe10a709cc4 in ?? () from /lib64/libstdc++.so.6
#13 0x00007fe10a709ea1 in __cxa_demangle () from /lib64/libstdc++.so.6
#14 0x00007fe10bc5d2eb in ceph::BackTrace::print (this=0x7fe00e70f4a0, out=...) at common/BackTrace.cc:47
#15 0x00007fe10bc1ea67 in handle_fatal_signal (signum=11) at global/signal_handler.cc:119
#16 <signal handler called>
#17 je_bitmap_set (bit=18446744073709551553, binfo=0x7fe10b67ead8 <je_arena_bin_info+248>, bitmap=0x7fe0ea812010) at include/jemalloc/internal/bitmap.h:105
#18 je_bitmap_sfu (binfo=0x7fe10b67ead8 <je_arena_bin_info+248>, bitmap=0x7fe0ea812010) at include/jemalloc/internal/bitmap.h:140
#19 arena_run_reg_alloc (bin_info=0x7fe10b67eab0 <je_arena_bin_info+208>, run=0x7fe0ea812000) at src/arena.c:291
#20 je_arena_tcache_fill_small (arena=0x7fe0fb0f4fc0, tbin=tbin@entry=0x7fe0ea864068, binind=binind@entry=2, prof_accumbytes=prof_accumbytes@entry=0) at src/arena.c:1479
#21 0x00007fe10b46faef in je_tcache_alloc_small_hard (tcache=tcache@entry=0x7fe0ea864000, tbin=tbin@entry=0x7fe0ea864068, binind=binind@entry=2) at src/tcache.c:72
#22 0x00007fe10b4464b8 in je_tcache_alloc_small (zero=false, size=32, tcache=0x7fe0ea864000) at include/jemalloc/internal/tcache.h:303
#23 je_arena_malloc (try_tcache=true, zero=false, size=<optimized out>, arena=0x0) at include/jemalloc/internal/arena.h:957
#24 je_imalloct (arena=0x0, try_tcache=true, size=<optimized out>) at include/jemalloc/internal/jemalloc_internal.h:771
#25 je_imalloc (size=<optimized out>) at include/jemalloc/internal/jemalloc_internal.h:780
#26 malloc (size=<optimized out>) at src/jemalloc.c:929
#27 0x00007fe10a7000cd in operator new(unsigned long) () from /lib64/libstdc++.so.6
#28 0x00007fe115548036 in allocate (__n=1, this=0x7fe00e7106c0) at /usr/include/c++/4.8.2/ext/new_allocator.h:104
#29 _M_get_node (this=0x7fe00e7106c0) at /usr/include/c++/4.8.2/bits/stl_list.h:334
#30 _M_create_node<ceph::buffer::ptr const&> (this=0x7fe00e7106c0) at /usr/include/c++/4.8.2/bits/stl_list.h:502
#31 _M_insert<ceph::buffer::ptr const&> (__position=..., this=0x7fe00e7106c0) at /usr/include/c++/4.8.2/bits/stl_list.h:1561
#32 emplace_back<ceph::buffer::ptr const&> (this=0x7fe00e7106c0) at /usr/include/c++/4.8.2/bits/stl_list.h:1026
#33 _M_initialize_dispatch<std::_List_const_iterator<ceph::buffer::ptr> > (__last=..., __first=..., this=0x7fe00e7106c0) at /usr/include/c++/4.8.2/bits/stl_list.h:1491
#34 list<std::_List_const_iterator<ceph::buffer::ptr>, void> (__a=..., __last=..., __first=..., this=0x7fe00e7106c0) at /usr/include/c++/4.8.2/bits/stl_list.h:627
#35 insert<std::_List_const_iterator<ceph::buffer::ptr>, void> (this=0x7fdf55d7ada8, __last=..., __first=..., __position=...) at /usr/include/c++/4.8.2/bits/stl_list.h:1152
#36 std::list<ceph::buffer::ptr, std::allocator<ceph::buffer::ptr> >::operator= (this=0x7fdf55d7ada8, __x=std::list) at /usr/include/c++/4.8.2/bits/list.tcc:199
#37 0x00007fe10baa62ae in operator= (other=..., this=0x7fdf55d7ada8) at ./include/buffer.h:392
#38 filter_attrset (unfiltered_attrset=std::map with 2 elements, check_prefix="user.rgw.", attrset=attrset@entry=0x7fe0ea954958) at rgw/rgw_rados.cc:10489
#39 0x00007fe10baad638 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ea954518, pmtime=<optimized out>, epoch=0x7fe0ea954528, attrs=0x7fe0ea954958, first_chunk=0x0, objv_tracker=0x7fe00e7113d8) at rgw/rgw_rados.cc:10684
#40 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe00e712620, obj=..., state=state@entry=0x7fe00e710b48, objv_tracker=objv_tracker@entry=0x7fe00e7113d8) at rgw/rgw_rados.cc:8325
#41 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe00e712620, obj=..., state=state@entry=0x7fe00e710b48, objv_tracker=objv_tracker@entry=0x7fe00e7113d8) at rgw/rgw_rados.cc:8353
#42 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe00e7114b8, lastmod=0x7fe00e7114b0, obj_size=0x0, objv_tracker=0x7fe00e7113d8) at rgw/rgw_rados.cc:9101
#43 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe00e710d50, objv_tracker=objv_tracker@entry=0x7fe00e7113d8) at rgw/rgw_rados.cc:9133
#44 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe00e7113d8, pmtime=pmtime@entry=0x7fe00e7114b0, pattrs=pattrs@entry=0x7fe00e7114b8, cache_info=cache_info@entry=0x7fe00e7111c0) at rgw/rgw_tools.cc:63
#45 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe00e7114b0, pattrs=pattrs@entry=0x7fe00e7114b8, cache_info=cache_info@entry=0x7fe00e7111c0) at rgw/rgw_rados.cc:10920
#46 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe00e7123c8) at rgw/rgw_rados.cc:11100
#47 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe00e7120e0) at rgw/rgw_op.cc:361
#48 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf794eec40) at rgw/rgw_op.cc:5048
#49 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78724440, client_io=client_io@entry=0x7fe00e712710, olog=0x0) at rgw/rgw_process.cc:113
#50 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78724440) at rgw/rgw_fcgi_process.cc:121
#51 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78724440) at rgw/rgw_process.h:84
#52 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7055fa0) at common/WorkQueue.cc:128
#53 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#54 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#55 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 273 (Thread 0x7fe00df13700 (LWP 137130)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe00df0f950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0eb6ba600, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe00df0fd58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe00df0fae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe00df101c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe00df0fd50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe00df103d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe00df103d8, pmtime=pmtime@entry=0x7fe00df104b0, pattrs=pattrs@entry=0x7fe00df104b8, cache_info=cache_info@entry=0x7fe00df101c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe00df104b0, pattrs=pattrs@entry=0x7fe00df104b8, cache_info=cache_info@entry=0x7fe00df101c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe00df113c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe00df110e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b012760) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb87f40, client_io=client_io@entry=0x7fe00df11710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb87f40) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb87f40) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f040) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 272 (Thread 0x7fe00d712700 (LWP 137131)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe00d70e6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe00d70e6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe00d70e898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe00d70e8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe00d70e9d0, bucket=bucket@entry=0x7fe00d70ea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0e9d5c518, pmtime=0x7fe0e9d5c520, epoch=0x7fe0e9d5c528, attrs=0x7fe0e9d5c958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe00d70f4c0, obj=..., state=state@entry=0x7fe00d70ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe00d70f4c0, obj=..., state=state@entry=0x7fe00d70ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe00d70f4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe00d70ef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe00d70f4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe00d7100e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe00d7100e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce89c0, client_io=client_io@entry=0x7fe00d710710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce89c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce89c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f0a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 271 (Thread 0x7fe00cf11700 (LWP 137132)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe00cf0d950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73379c00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe00cf0dd58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe00cf0dae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe00cf0e1c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe00cf0dd50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe00cf0e3d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe00cf0e3d8, pmtime=pmtime@entry=0x7fe00cf0e4b0, pattrs=pattrs@entry=0x7fe00cf0e4b8, cache_info=cache_info@entry=0x7fe00cf0e1c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe00cf0e4b0, pattrs=pattrs@entry=0x7fe00cf0e4b8, cache_info=cache_info@entry=0x7fe00cf0e1c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe00cf0f3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe00cf0f0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c8e9080) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b949f00, client_io=client_io@entry=0x7fe00cf0f710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b949f00) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b949f00) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f100) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 270 (Thread 0x7fe00c710700 (LWP 137133)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe00c70c1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe00c70c1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0e7845600, sul=..., ptid=ptid@entry=0x7fe00c70c3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0e7845600, sul=..., ptid=ptid@entry=0x7fe00c70c3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0e7845600, ptid=0x7fe00c70c3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c6800, oid=..., o=0x7fe0e9cd3080, pbl=pbl@entry=0x7fe00c70c7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe00c70c760, oid="test1", o=o@entry=0x7fe00c70c740, pbl=pbl@entry=0x7fe00c70c7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0e793db18, pmtime=0x7fe0e793db20, epoch=0x7fe0e793db28, attrs=0x7fe0e793df58, first_chunk=0x0, objv_tracker=0x7fe00c70d1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe00c70e620, obj=..., state=state@entry=0x7fe00c70caa8, objv_tracker=objv_tracker@entry=0x7fe00c70d1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe00c70e620, obj=..., state=state@entry=0x7fe00c70caa8, objv_tracker=objv_tracker@entry=0x7fe00c70d1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe00c70e3c8, lastmod=0x7fe00c70d180, obj_size=0x0, objv_tracker=0x7fe00c70d1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe00c70ccb0, objv_tracker=objv_tracker@entry=0x7fe00c70d1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe00c70d1e0, pmtime=pmtime@entry=0x7fe00c70d180, pattrs=pattrs@entry=0x7fe00c70e3c8, cache_info=cache_info@entry=0x7fe00c70d1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe00c70d1e0, pmtime=pmtime@entry=0x7fe00c70d180, pattrs=pattrs@entry=0x7fe00c70e3c8, cache_info=cache_info@entry=0x7fe00c70d1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe00c70e3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe00c70e0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7baa27c0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868580, client_io=client_io@entry=0x7fe00c70e710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868580) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868580) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f160) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 269 (Thread 0x7fe00bf0f700 (LWP 137134)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe00bf0b1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe00bf0b1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d6869480, sul=..., ptid=ptid@entry=0x7fe00bf0b3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d6869480, sul=..., ptid=ptid@entry=0x7fe00bf0b3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0d6869480, ptid=0x7fe00bf0b3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fc800, oid=..., o=0x7fdf86cb4880, pbl=pbl@entry=0x7fe00bf0b7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe00bf0b760, oid="test1", o=o@entry=0x7fe00bf0b740, pbl=pbl@entry=0x7fe00bf0b7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0d694bb18, pmtime=0x7fe0d694bb20, epoch=0x7fe0d694bb28, attrs=0x7fe0d694bf58, first_chunk=0x0, objv_tracker=0x7fe00bf0c1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe00bf0d620, obj=..., state=state@entry=0x7fe00bf0baa8, objv_tracker=objv_tracker@entry=0x7fe00bf0c1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe00bf0d620, obj=..., state=state@entry=0x7fe00bf0baa8, objv_tracker=objv_tracker@entry=0x7fe00bf0c1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe00bf0d3c8, lastmod=0x7fe00bf0c180, obj_size=0x0, objv_tracker=0x7fe00bf0c1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe00bf0bcb0, objv_tracker=objv_tracker@entry=0x7fe00bf0c1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe00bf0c1e0, pmtime=pmtime@entry=0x7fe00bf0c180, pattrs=pattrs@entry=0x7fe00bf0d3c8, cache_info=cache_info@entry=0x7fe00bf0c1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe00bf0c1e0, pmtime=pmtime@entry=0x7fe00bf0c180, pattrs=pattrs@entry=0x7fe00bf0d3c8, cache_info=cache_info@entry=0x7fe00bf0c1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe00bf0d3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe00bf0d0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7ca89bc0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c900, client_io=client_io@entry=0x7fe00bf0d710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c900) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c900) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f1c0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 268 (Thread 0x7fe00b70e700 (LWP 137135)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe00b70a1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe00b70a1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d580e300, sul=..., ptid=ptid@entry=0x7fe00b70a3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d580e300, sul=..., ptid=ptid@entry=0x7fe00b70a3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0d580e300, ptid=0x7fe00b70a3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fce00, oid=..., o=0x7fdf7a4e9400, pbl=pbl@entry=0x7fe00b70a7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe00b70a760, oid="test1", o=o@entry=0x7fe00b70a740, pbl=pbl@entry=0x7fe00b70a7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0d594ab18, pmtime=0x7fe0d594ab20, epoch=0x7fe0d594ab28, attrs=0x7fe0d594af58, first_chunk=0x0, objv_tracker=0x7fe00b70b1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe00b70c620, obj=..., state=state@entry=0x7fe00b70aaa8, objv_tracker=objv_tracker@entry=0x7fe00b70b1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe00b70c620, obj=..., state=state@entry=0x7fe00b70aaa8, objv_tracker=objv_tracker@entry=0x7fe00b70b1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe00b70c3c8, lastmod=0x7fe00b70b180, obj_size=0x0, objv_tracker=0x7fe00b70b1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe00b70acb0, objv_tracker=objv_tracker@entry=0x7fe00b70b1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe00b70b1e0, pmtime=pmtime@entry=0x7fe00b70b180, pattrs=pattrs@entry=0x7fe00b70c3c8, cache_info=cache_info@entry=0x7fe00b70b1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe00b70b1e0, pmtime=pmtime@entry=0x7fe00b70b180, pattrs=pattrs@entry=0x7fe00b70c3c8, cache_info=cache_info@entry=0x7fe00b70b1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe00b70c3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe00b70c0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7ba74fe0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722ca80, client_io=client_io@entry=0x7fe00b70c710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722ca80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722ca80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f220) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 267 (Thread 0x7fe00af0d700 (LWP 137136)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fac2f0a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0fac2f018) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe00af09120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe00af09120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d482f800, sul=..., ptid=ptid@entry=0x7fe00af09348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d482f800, sul=..., ptid=ptid@entry=0x7fe00af09348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0d482f800, ptid=0x7fe00af09348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf774bbe00, oid=..., o=0x7fdf7a180e80, pbl=pbl@entry=0x7fe00af09760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe00af096e0, oid="system.user", o=o@entry=0x7fe00af096c0, pbl=pbl@entry=0x7fe00af09760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0d491fb18, pmtime=0x7fe0d491fb20, epoch=0x7fe0d491fb28, attrs=0x7fe0d491ff58, first_chunk=0x0, objv_tracker=0x7fe00af0a498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe00af09ff0, obj=..., state=state@entry=0x7fe00af09a28, objv_tracker=objv_tracker@entry=0x7fe00af0a498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe00af09ff0, obj=..., state=state@entry=0x7fe00af09a28, objv_tracker=objv_tracker@entry=0x7fe00af0a498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe00af0a498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe00af09c30, objv_tracker=objv_tracker@entry=0x7fe00af0a498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="system.user", bl=..., objv_tracker=objv_tracker@entry=0x7fe00af0a498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe00af0a150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe00af0a498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe00af0a150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe00af0b0e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe00af0b0e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c0c0, client_io=client_io@entry=0x7fe00af0b710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c0c0) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c0c0) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f280) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 266 (Thread 0x7fe00a70c700 (LWP 137137)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe00a7086c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe00a7086c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe00a708898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe00a7088c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe00a7089d0, bucket=bucket@entry=0x7fe00a708a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d4550b18, pmtime=0x7fe0d4550b20, epoch=0x7fe0d4550b28, attrs=0x7fe0d4550f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe00a7094c0, obj=..., state=state@entry=0x7fe00a708d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe00a7094c0, obj=..., state=state@entry=0x7fe00a708d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe00a7094b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe00a708f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe00a7094b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe00a70a0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe00a70a0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc700, client_io=client_io@entry=0x7fe00a70a710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc700) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc700) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f2e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 265 (Thread 0x7fe009f0b700 (LWP 137138)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe009f076c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe009f076c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe009f07898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe009f078c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe009f079d0, bucket=bucket@entry=0x7fe009f07a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d353fb18, pmtime=0x7fe0d353fb20, epoch=0x7fe0d353fb28, attrs=0x7fe0d353ff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe009f084c0, obj=..., state=state@entry=0x7fe009f07d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe009f084c0, obj=..., state=state@entry=0x7fe009f07d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe009f084b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe009f07f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe009f084b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe009f090e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe009f090e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc780, client_io=client_io@entry=0x7fe009f09710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc780) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc780) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f340) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 264 (Thread 0x7fe00970a700 (LWP 137139)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0097066c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0097066c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe009706898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0097068c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0097069d0, bucket=bucket@entry=0x7fe009706a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d2542b18, pmtime=0x7fe0d2542b20, epoch=0x7fe0d2542b28, attrs=0x7fe0d2542f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0097074c0, obj=..., state=state@entry=0x7fe009706d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0097074c0, obj=..., state=state@entry=0x7fe009706d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0097074b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe009706f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0097074b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0097080e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0097080e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d980, client_io=client_io@entry=0x7fe009708710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d980) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d980) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f3a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 263 (Thread 0x7fe008f09700 (LWP 137140)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe008f056c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe008f056c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe008f05898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe008f058c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe008f059d0, bucket=bucket@entry=0x7fe008f05a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d1543518, pmtime=0x7fe0d1543520, epoch=0x7fe0d1543528, attrs=0x7fe0d1543958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe008f064c0, obj=..., state=state@entry=0x7fe008f05d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe008f064c0, obj=..., state=state@entry=0x7fe008f05d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe008f064b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe008f05f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe008f064b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe008f070e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe008f070e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd240, client_io=client_io@entry=0x7fe008f07710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd240) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd240) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f400) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 262 (Thread 0x7fe008708700 (LWP 137141)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe0087041a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe0087041a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d0442580, sul=..., ptid=ptid@entry=0x7fe0087043c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d0442580, sul=..., ptid=ptid@entry=0x7fe0087043c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0d0442580, ptid=0x7fe0087043c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c8400, oid=..., o=0x7fdf7e067700, pbl=pbl@entry=0x7fe0087047e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe008704760, oid="test1", o=o@entry=0x7fe008704740, pbl=pbl@entry=0x7fe0087047e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0d04f4518, pmtime=0x7fe0d04f4520, epoch=0x7fe0d04f4528, attrs=0x7fe0d04f4958, first_chunk=0x0, objv_tracker=0x7fe0087051e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe008706620, obj=..., state=state@entry=0x7fe008704aa8, objv_tracker=objv_tracker@entry=0x7fe0087051e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe008706620, obj=..., state=state@entry=0x7fe008704aa8, objv_tracker=objv_tracker@entry=0x7fe0087051e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe0087063c8, lastmod=0x7fe008705180, obj_size=0x0, objv_tracker=0x7fe0087051e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe008704cb0, objv_tracker=objv_tracker@entry=0x7fe0087051e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe0087051e0, pmtime=pmtime@entry=0x7fe008705180, pattrs=pattrs@entry=0x7fe0087063c8, cache_info=cache_info@entry=0x7fe0087051b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe0087051e0, pmtime=pmtime@entry=0x7fe008705180, pattrs=pattrs@entry=0x7fe0087063c8, cache_info=cache_info@entry=0x7fe0087051b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe0087063c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe0087060e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c715ed80) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c7107fc0, client_io=client_io@entry=0x7fe008706710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c7107fc0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c7107fc0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f460) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 261 (Thread 0x7fe007f07700 (LWP 137142)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe007f03120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe007f03120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf74f90c00, sul=..., ptid=ptid@entry=0x7fe007f03348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf74f90c00, sul=..., ptid=ptid@entry=0x7fe007f03348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf74f90c00, ptid=0x7fe007f03348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7876ae00, oid=..., o=0x7fe0ec515580, pbl=pbl@entry=0x7fe007f03760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe007f036e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fe007f036c0, pbl=pbl@entry=0x7fe007f03760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7c416d18, pmtime=0x7fdf7c416d20, epoch=0x7fdf7c416d28, attrs=0x7fdf7c417158, first_chunk=0x0, objv_tracker=0x7fe007f04498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe007f03ff0, obj=..., state=state@entry=0x7fe007f03a28, objv_tracker=objv_tracker@entry=0x7fe007f04498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe007f03ff0, obj=..., state=state@entry=0x7fe007f03a28, objv_tracker=objv_tracker@entry=0x7fe007f04498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe007f04498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe007f03c30, objv_tracker=objv_tracker@entry=0x7fe007f04498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fe007f04498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fe007f04150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fe007f04498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fe007f04150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe007f050e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe007f050e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b3577c0, client_io=client_io@entry=0x7fe007f05710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b3577c0) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b3577c0) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f4c0) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 260 (Thread 0x7fe007706700 (LWP 137143)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0077026c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0077026c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe007702898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0077028c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0077029d0, bucket=bucket@entry=0x7fe007702a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0cf138518, pmtime=0x7fe0cf138520, epoch=0x7fe0cf138528, attrs=0x7fe0cf138958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0077034c0, obj=..., state=state@entry=0x7fe007702d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0077034c0, obj=..., state=state@entry=0x7fe007702d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0077034b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe007702f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0077034b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0077040e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0077040e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79492740, client_io=client_io@entry=0x7fe007704710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79492740) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79492740) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f520) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 259 (Thread 0x7fe006f05700 (LWP 137144)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe006f01650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733bd600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe006f01880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe006f01800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe006f017e0, pbl=pbl@entry=0x7fe006f01880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ced38518, pmtime=0x7fe0ced38520, epoch=0x7fe0ced38528, attrs=0x7fe0ced38958, first_chunk=0x0, objv_tracker=0x7fe006f023d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe006f03620, obj=..., state=state@entry=0x7fe006f01b48, objv_tracker=objv_tracker@entry=0x7fe006f023d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe006f03620, obj=..., state=state@entry=0x7fe006f01b48, objv_tracker=objv_tracker@entry=0x7fe006f023d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe006f024b8, lastmod=0x7fe006f024b0, obj_size=0x0, objv_tracker=0x7fe006f023d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe006f01d50, objv_tracker=objv_tracker@entry=0x7fe006f023d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe006f023d8, pmtime=pmtime@entry=0x7fe006f024b0, pattrs=pattrs@entry=0x7fe006f024b8, cache_info=cache_info@entry=0x7fe006f021c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe006f024b0, pattrs=pattrs@entry=0x7fe006f024b8, cache_info=cache_info@entry=0x7fe006f021c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe006f033c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe006f030e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c213620) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a900, client_io=client_io@entry=0x7fe006f03710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a900) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a900) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f580) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 258 (Thread 0x7fe006704700 (LWP 137145)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0067006c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0067006c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe006700898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0067008c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0067009d0, bucket=bucket@entry=0x7fe006700a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0cdd3db18, pmtime=0x7fe0cdd3db20, epoch=0x7fe0cdd3db28, attrs=0x7fe0cdd3df58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0067014c0, obj=..., state=state@entry=0x7fe006700d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0067014c0, obj=..., state=state@entry=0x7fe006700d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0067014b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe006700f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0067014b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0067020e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0067020e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb87bc0, client_io=client_io@entry=0x7fe006702710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb87bc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb87bc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f5e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 257 (Thread 0x7fe005f03700 (LWP 137146)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe005eff1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe005eff1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ccc2e680, sul=..., ptid=ptid@entry=0x7fe005eff3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ccc2e680, sul=..., ptid=ptid@entry=0x7fe005eff3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ccc2e680, ptid=0x7fe005eff3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745bde00, oid=..., o=0x7fe0f0d7af00, pbl=pbl@entry=0x7fe005eff7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe005eff760, oid="test1", o=o@entry=0x7fe005eff740, pbl=pbl@entry=0x7fe005eff7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ccd0e518, pmtime=0x7fe0ccd0e520, epoch=0x7fe0ccd0e528, attrs=0x7fe0ccd0e958, first_chunk=0x0, objv_tracker=0x7fe005f001e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe005f01620, obj=..., state=state@entry=0x7fe005effaa8, objv_tracker=objv_tracker@entry=0x7fe005f001e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe005f01620, obj=..., state=state@entry=0x7fe005effaa8, objv_tracker=objv_tracker@entry=0x7fe005f001e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe005f013c8, lastmod=0x7fe005f00180, obj_size=0x0, objv_tracker=0x7fe005f001e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe005effcb0, objv_tracker=objv_tracker@entry=0x7fe005f001e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe005f001e0, pmtime=pmtime@entry=0x7fe005f00180, pattrs=pattrs@entry=0x7fe005f013c8, cache_info=cache_info@entry=0x7fe005f001b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe005f001e0, pmtime=pmtime@entry=0x7fe005f00180, pattrs=pattrs@entry=0x7fe005f013c8, cache_info=cache_info@entry=0x7fe005f001b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe005f013c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe005f010e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bf00460) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7712adc0, client_io=client_io@entry=0x7fe005f01710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7712adc0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7712adc0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f640) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 256 (Thread 0x7fe005702700 (LWP 137147)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0056fe6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0056fe6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0056fe898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0056fe8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0056fe9d0, bucket=bucket@entry=0x7fe0056fea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0cbd34518, pmtime=0x7fe0cbd34520, epoch=0x7fe0cbd34528, attrs=0x7fe0cbd34958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0056ff4c0, obj=..., state=state@entry=0x7fe0056fed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0056ff4c0, obj=..., state=state@entry=0x7fe0056fed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0056ff4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0056fef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0056ff4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0057000e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0057000e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb840, client_io=client_io@entry=0x7fe005700710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb840) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb840) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f6a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 255 (Thread 0x7fe004f01700 (LWP 137148)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe004efd6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe004efd6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe004efd898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe004efd8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe004efd9d0, bucket=bucket@entry=0x7fe004efda20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ca90c518, pmtime=0x7fe0ca90c520, epoch=0x7fe0ca90c528, attrs=0x7fe0ca90c958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe004efe4c0, obj=..., state=state@entry=0x7fe004efdd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe004efe4c0, obj=..., state=state@entry=0x7fe004efdd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe004efe4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe004efdf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe004efe4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe004eff0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe004eff0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d2c0, client_io=client_io@entry=0x7fe004eff710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d2c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d2c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f700) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 254 (Thread 0x7fe004700700 (LWP 137149)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe0046fbde0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d5e800, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fe0046fc010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe0046fbf90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe0046fbf70, pbl=pbl@entry=0x7fe0046fc010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0caca1718, pmtime=0x7fe0caca1720, epoch=0x7fe0caca1728, attrs=0x7fe0caca1b58, first_chunk=0x0, objv_tracker=0x7fe0046fcab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0046fcb90, obj=..., state=state@entry=0x7fe0046fc2d8, objv_tracker=objv_tracker@entry=0x7fe0046fcab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0046fcb90, obj=..., state=state@entry=0x7fe0046fc2d8, objv_tracker=objv_tracker@entry=0x7fe0046fcab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fe0046fcab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0046fc4e0, objv_tracker=objv_tracker@entry=0x7fe0046fcab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe0046fcab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2275", bucket_obj=bucket_obj@entry=0x7fe0046fd210, shard_id=shard_id@entry=0x7fe0046fd200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fe0046fd1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fe0046fd120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fe0046fd120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fe0046fd500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0cae06800, etag=..., mtime=0x7fe0cadf6768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0cae06800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0cadf6400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b949300, client_io=client_io@entry=0x7fe0046fe710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b949300) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b949300) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f760) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 253 (Thread 0x7fe003eff700 (LWP 137150)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe003efb6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe003efb6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe003efb898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe003efb8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe003efb9d0, bucket=bucket@entry=0x7fe003efba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c9941518, pmtime=0x7fe0c9941520, epoch=0x7fe0c9941528, attrs=0x7fe0c9941958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe003efc4c0, obj=..., state=state@entry=0x7fe003efbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe003efc4c0, obj=..., state=state@entry=0x7fe003efbd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe003efc4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe003efbf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe003efc4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe003efd0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe003efd0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b830880, client_io=client_io@entry=0x7fe003efd710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b830880) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b830880) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f7c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 252 (Thread 0x7fe0036fe700 (LWP 137151)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0036fa6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0036fa6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0036fa898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0036fa8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0036fa9d0, bucket=bucket@entry=0x7fe0036faa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c8535b18, pmtime=0x7fe0c8535b20, epoch=0x7fe0c8535b28, attrs=0x7fe0c8535f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0036fb4c0, obj=..., state=state@entry=0x7fe0036fad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0036fb4c0, obj=..., state=state@entry=0x7fe0036fad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0036fb4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0036faf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0036fb4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0036fc0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0036fc0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfae80, client_io=client_io@entry=0x7fe0036fc710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfae80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfae80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f820) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 251 (Thread 0x7fe002efd700 (LWP 137152)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fe002ef9950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73378800, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fe002ef9d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fe002ef9ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fe002efa1c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fe002ef9d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fe002efa3d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fe002efa3d8, pmtime=pmtime@entry=0x7fe002efa4b0, pattrs=pattrs@entry=0x7fe002efa4b8, cache_info=cache_info@entry=0x7fe002efa1c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fe002efa4b0, pattrs=pattrs@entry=0x7fe002efa4b8, cache_info=cache_info@entry=0x7fe002efa1c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe002efb3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe002efb0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b71c7c0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a700, client_io=client_io@entry=0x7fe002efb710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a700) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a700) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f880) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 250 (Thread 0x7fe0026fc700 (LWP 137153)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0026f86c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0026f86c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0026f8898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0026f88c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0026f89d0, bucket=bucket@entry=0x7fe0026f8a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c7535b18, pmtime=0x7fe0c7535b20, epoch=0x7fe0c7535b28, attrs=0x7fe0c7535f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0026f94c0, obj=..., state=state@entry=0x7fe0026f8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0026f94c0, obj=..., state=state@entry=0x7fe0026f8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0026f94b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0026f8f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0026f94b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0026fa0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0026fa0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb040, client_io=client_io@entry=0x7fe0026fa710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb040) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb040) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f8e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 249 (Thread 0x7fe001efb700 (LWP 137154)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe001ef76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe001ef76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe001ef7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe001ef78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe001ef79d0, bucket=bucket@entry=0x7fe001ef7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7c2bc518, pmtime=0x7fdf7c2bc520, epoch=0x7fdf7c2bc528, attrs=0x7fdf7c2bc958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe001ef84c0, obj=..., state=state@entry=0x7fe001ef7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe001ef84c0, obj=..., state=state@entry=0x7fe001ef7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe001ef84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe001ef7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe001ef84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe001ef90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe001ef90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce0c0, client_io=client_io@entry=0x7fe001ef9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce0c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce0c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f940) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 248 (Thread 0x7fe0016fa700 (LWP 137155)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0016f66c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0016f66c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0016f6898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0016f68c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0016f69d0, bucket=bucket@entry=0x7fe0016f6a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c6d39b18, pmtime=0x7fe0c6d39b20, epoch=0x7fe0c6d39b28, attrs=0x7fe0c6d39f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0016f74c0, obj=..., state=state@entry=0x7fe0016f6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0016f74c0, obj=..., state=state@entry=0x7fe0016f6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0016f74b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0016f6f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0016f74b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0016f80e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0016f80e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa440, client_io=client_io@entry=0x7fe0016f8710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa440) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa440) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705f9a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 247 (Thread 0x7fe000ef9700 (LWP 137156)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fe000ef51a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fe000ef51a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c5c47100, sul=..., ptid=ptid@entry=0x7fe000ef53c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c5c47100, sul=..., ptid=ptid@entry=0x7fe000ef53c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0c5c47100, ptid=0x7fe000ef53c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb719000, oid=..., o=0x7fe0c5c80100, pbl=pbl@entry=0x7fe000ef57e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fe000ef5760, oid="test1", o=o@entry=0x7fe000ef5740, pbl=pbl@entry=0x7fe000ef57e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c5d35518, pmtime=0x7fe0c5d35520, epoch=0x7fe0c5d35528, attrs=0x7fe0c5d35958, first_chunk=0x0, objv_tracker=0x7fe000ef61e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe000ef7620, obj=..., state=state@entry=0x7fe000ef5aa8, objv_tracker=objv_tracker@entry=0x7fe000ef61e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe000ef7620, obj=..., state=state@entry=0x7fe000ef5aa8, objv_tracker=objv_tracker@entry=0x7fe000ef61e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fe000ef73c8, lastmod=0x7fe000ef6180, obj_size=0x0, objv_tracker=0x7fe000ef61e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe000ef5cb0, objv_tracker=objv_tracker@entry=0x7fe000ef61e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fe000ef61e0, pmtime=pmtime@entry=0x7fe000ef6180, pattrs=pattrs@entry=0x7fe000ef73c8, cache_info=cache_info@entry=0x7fe000ef61b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fe000ef61e0, pmtime=pmtime@entry=0x7fe000ef6180, pattrs=pattrs@entry=0x7fe000ef73c8, cache_info=cache_info@entry=0x7fe000ef61b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fe000ef73c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fe000ef70e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7a1c9380) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c8ab340, client_io=client_io@entry=0x7fe000ef7710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c8ab340) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c8ab340) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fa00) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 246 (Thread 0x7fe0006f8700 (LWP 137157)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fe0006f46c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fe0006f46c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fe0006f4898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fe0006f48c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fe0006f49d0, bucket=bucket@entry=0x7fe0006f4a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c4d31518, pmtime=0x7fe0c4d31520, epoch=0x7fe0c4d31528, attrs=0x7fe0c4d31958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fe0006f54c0, obj=..., state=state@entry=0x7fe0006f4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fe0006f54c0, obj=..., state=state@entry=0x7fe0006f4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fe0006f54b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fe0006f4f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fe0006f54b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fe0006f60e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fe0006f60e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ced80, client_io=client_io@entry=0x7fe0006f6710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ced80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ced80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fa60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 245 (Thread 0x7fdfffef7700 (LWP 137158)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfffef36c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfffef36c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfffef3898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfffef38c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfffef39d0, bucket=bucket@entry=0x7fdfffef3a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c3538518, pmtime=0x7fe0c3538520, epoch=0x7fe0c3538528, attrs=0x7fe0c3538958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfffef44c0, obj=..., state=state@entry=0x7fdfffef3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfffef44c0, obj=..., state=state@entry=0x7fdfffef3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfffef44b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfffef3f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfffef44b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfffef50e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfffef50e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd4c0, client_io=client_io@entry=0x7fdfffef5710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd4c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd4c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fac0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 244 (Thread 0x7fdfff6f6700 (LWP 137159)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfff6f21a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfff6f21a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c1459d80, sul=..., ptid=ptid@entry=0x7fdfff6f23c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c1459d80, sul=..., ptid=ptid@entry=0x7fdfff6f23c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0c1459d80, ptid=0x7fdfff6f23c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c6a00, oid=..., o=0x7fdf7a2e7f80, pbl=pbl@entry=0x7fdfff6f27e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfff6f2760, oid="test1", o=o@entry=0x7fdfff6f2740, pbl=pbl@entry=0x7fdfff6f27e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c153ab18, pmtime=0x7fe0c153ab20, epoch=0x7fe0c153ab28, attrs=0x7fe0c153af58, first_chunk=0x0, objv_tracker=0x7fdfff6f31e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfff6f4620, obj=..., state=state@entry=0x7fdfff6f2aa8, objv_tracker=objv_tracker@entry=0x7fdfff6f31e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfff6f4620, obj=..., state=state@entry=0x7fdfff6f2aa8, objv_tracker=objv_tracker@entry=0x7fdfff6f31e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfff6f43c8, lastmod=0x7fdfff6f3180, obj_size=0x0, objv_tracker=0x7fdfff6f31e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfff6f2cb0, objv_tracker=objv_tracker@entry=0x7fdfff6f31e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfff6f31e0, pmtime=pmtime@entry=0x7fdfff6f3180, pattrs=pattrs@entry=0x7fdfff6f43c8, cache_info=cache_info@entry=0x7fdfff6f31b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfff6f31e0, pmtime=pmtime@entry=0x7fdfff6f3180, pattrs=pattrs@entry=0x7fdfff6f43c8, cache_info=cache_info@entry=0x7fdfff6f31b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfff6f43c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfff6f40e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c7109220) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868600, client_io=client_io@entry=0x7fdfff6f4710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868600) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868600) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fb20) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 243 (Thread 0x7fdffeef5700 (LWP 137160)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdffeef16c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdffeef16c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdffeef1898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdffeef18c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdffeef19d0, bucket=bucket@entry=0x7fdffeef1a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0bed65b18, pmtime=0x7fe0bed65b20, epoch=0x7fe0bed65b28, attrs=0x7fe0bed65f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdffeef24c0, obj=..., state=state@entry=0x7fdffeef1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdffeef24c0, obj=..., state=state@entry=0x7fdffeef1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdffeef24b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdffeef1f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdffeef24b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdffeef30e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdffeef30e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa140, client_io=client_io@entry=0x7fdffeef3710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa140) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa140) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fb80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 242 (Thread 0x7fdffe6f4700 (LWP 137161)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdffe6f0650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733eac00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdffe6f0880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdffe6f0800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdffe6f07e0, pbl=pbl@entry=0x7fdffe6f0880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c0568b18, pmtime=0x7fe0c0568b20, epoch=0x7fe0c0568b28, attrs=0x7fe0c0568f58, first_chunk=0x0, objv_tracker=0x7fdffe6f13d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdffe6f2620, obj=..., state=state@entry=0x7fdffe6f0b48, objv_tracker=objv_tracker@entry=0x7fdffe6f13d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdffe6f2620, obj=..., state=state@entry=0x7fdffe6f0b48, objv_tracker=objv_tracker@entry=0x7fdffe6f13d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdffe6f14b8, lastmod=0x7fdffe6f14b0, obj_size=0x0, objv_tracker=0x7fdffe6f13d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdffe6f0d50, objv_tracker=objv_tracker@entry=0x7fdffe6f13d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdffe6f13d8, pmtime=pmtime@entry=0x7fdffe6f14b0, pattrs=pattrs@entry=0x7fdffe6f14b8, cache_info=cache_info@entry=0x7fdffe6f11c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdffe6f14b0, pattrs=pattrs@entry=0x7fdffe6f14b8, cache_info=cache_info@entry=0x7fdffe6f11c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdffe6f23c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdffe6f20e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bc8eda0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35ab00, client_io=client_io@entry=0x7fdffe6f2710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35ab00) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35ab00) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fbe0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 241 (Thread 0x7fdffdef3700 (LWP 137162)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdffdeef6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdffdeef6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdffdeef898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdffdeef8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdffdeef9d0, bucket=bucket@entry=0x7fdffdeefa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0be93fb18, pmtime=0x7fe0be93fb20, epoch=0x7fe0be93fb28, attrs=0x7fe0be93ff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdffdef04c0, obj=..., state=state@entry=0x7fdffdeefd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdffdef04c0, obj=..., state=state@entry=0x7fdffdeefd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdffdef04b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdffdeeff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdffdef04b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdffdef10e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdffdef10e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce4c0, client_io=client_io@entry=0x7fdffdef1710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce4c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce4c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fc40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 240 (Thread 0x7fdffd6f2700 (LWP 137163)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdffd6ee6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdffd6ee6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdffd6ee898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdffd6ee8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdffd6ee9d0, bucket=bucket@entry=0x7fdffd6eea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0bc135b18, pmtime=0x7fe0bc135b20, epoch=0x7fe0bc135b28, attrs=0x7fe0bc135f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdffd6ef4c0, obj=..., state=state@entry=0x7fdffd6eed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdffd6ef4c0, obj=..., state=state@entry=0x7fdffd6eed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdffd6ef4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdffd6eef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdffd6ef4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdffd6f00e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdffd6f00e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfaa80, client_io=client_io@entry=0x7fdffd6f0710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfaa80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfaa80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fca0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 239 (Thread 0x7fdffcef1700 (LWP 137164)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdffceed6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdffceed6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdffceed898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdffceed8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdffceed9d0, bucket=bucket@entry=0x7fdffceeda20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b9d37b18, pmtime=0x7fe0b9d37b20, epoch=0x7fe0b9d37b28, attrs=0x7fe0b9d37f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdffceee4c0, obj=..., state=state@entry=0x7fdffceedd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdffceee4c0, obj=..., state=state@entry=0x7fdffceedd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdffceee4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdffceedf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdffceee4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdffceef0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdffceef0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9df00, client_io=client_io@entry=0x7fdffceef710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9df00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9df00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fd00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 238 (Thread 0x7fdffc6f0700 (LWP 137165)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdffc6ebde0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf78822200, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdffc6ec010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdffc6ebf90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdffc6ebf70, pbl=pbl@entry=0x7fdffc6ec010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b84f1118, pmtime=0x7fe0b84f1120, epoch=0x7fe0b84f1128, attrs=0x7fe0b84f1558, first_chunk=0x0, objv_tracker=0x7fdffc6ecab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdffc6ecb90, obj=..., state=state@entry=0x7fdffc6ec2d8, objv_tracker=objv_tracker@entry=0x7fdffc6ecab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdffc6ecb90, obj=..., state=state@entry=0x7fdffc6ec2d8, objv_tracker=objv_tracker@entry=0x7fdffc6ecab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdffc6ecab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdffc6ec4e0, objv_tracker=objv_tracker@entry=0x7fdffc6ecab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdffc6ecab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2248", bucket_obj=bucket_obj@entry=0x7fdffc6ed210, shard_id=shard_id@entry=0x7fdffc6ed200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdffc6ed1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdffc6ed120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdffc6ed120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdffc6ed500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0b8717800, etag=..., mtime=0x7fe0b8660768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0b8717800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0b8660400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c15af40, client_io=client_io@entry=0x7fdffc6ee710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c15af40) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c15af40) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fd60) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 237 (Thread 0x7fdffbeef700 (LWP 137166)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdffbeeb950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73379600, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fdffbeebd58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdffbeebae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fdffbeec1c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fdffbeebd50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdffbeec3d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdffbeec3d8, pmtime=pmtime@entry=0x7fdffbeec4b0, pattrs=pattrs@entry=0x7fdffbeec4b8, cache_info=cache_info@entry=0x7fdffbeec1c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdffbeec4b0, pattrs=pattrs@entry=0x7fdffbeec4b8, cache_info=cache_info@entry=0x7fdffbeec1c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdffbeed3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdffbeed0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cbee920) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78725200, client_io=client_io@entry=0x7fdffbeed710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78725200) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78725200) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fdc0) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 236 (Thread 0x7fdffb6ee700 (LWP 137167)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdffb6ea1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdffb6ea1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b4c64a80, sul=..., ptid=ptid@entry=0x7fdffb6ea3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b4c64a80, sul=..., ptid=ptid@entry=0x7fdffb6ea3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0b4c64a80, ptid=0x7fdffb6ea3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fdc00, oid=..., o=0x7fe0b4c81380, pbl=pbl@entry=0x7fdffb6ea7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdffb6ea760, oid="test1", o=o@entry=0x7fdffb6ea740, pbl=pbl@entry=0x7fdffb6ea7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b4d38b18, pmtime=0x7fe0b4d38b20, epoch=0x7fe0b4d38b28, attrs=0x7fe0b4d38f58, first_chunk=0x0, objv_tracker=0x7fdffb6eb1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdffb6ec620, obj=..., state=state@entry=0x7fdffb6eaaa8, objv_tracker=objv_tracker@entry=0x7fdffb6eb1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdffb6ec620, obj=..., state=state@entry=0x7fdffb6eaaa8, objv_tracker=objv_tracker@entry=0x7fdffb6eb1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdffb6ec3c8, lastmod=0x7fdffb6eb180, obj_size=0x0, objv_tracker=0x7fdffb6eb1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdffb6eacb0, objv_tracker=objv_tracker@entry=0x7fdffb6eb1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdffb6eb1e0, pmtime=pmtime@entry=0x7fdffb6eb180, pattrs=pattrs@entry=0x7fdffb6ec3c8, cache_info=cache_info@entry=0x7fdffb6eb1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdffb6eb1e0, pmtime=pmtime@entry=0x7fdffb6eb180, pattrs=pattrs@entry=0x7fdffb6ec3c8, cache_info=cache_info@entry=0x7fdffb6eb1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdffb6ec3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdffb6ec0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b0ae6a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722cd00, client_io=client_io@entry=0x7fdffb6ec710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722cd00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722cd00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fe20) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 235 (Thread 0x7fdffaeed700 (LWP 137168)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdffaee96c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdffaee96c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdffaee9898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdffaee98c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdffaee99d0, bucket=bucket@entry=0x7fdffaee9a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b3d38518, pmtime=0x7fe0b3d38520, epoch=0x7fe0b3d38528, attrs=0x7fe0b3d38958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdffaeea4c0, obj=..., state=state@entry=0x7fdffaee9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdffaeea4c0, obj=..., state=state@entry=0x7fdffaee9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdffaeea4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdffaee9f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdffaeea4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdffaeeb0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdffaeeb0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa540, client_io=client_io@entry=0x7fdffaeeb710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa540) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa540) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fe80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 234 (Thread 0x7fdffa6ec700 (LWP 137169)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdffa6e85b0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf76409400, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdffa6e87e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdffa6e8760, oid="test1", o=o@entry=0x7fdffa6e8740, pbl=pbl@entry=0x7fdffa6e87e0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b3929b18, pmtime=0x7fe0b3929b20, epoch=0x7fe0b3929b28, attrs=0x7fe0b3929f58, first_chunk=0x0, objv_tracker=0x7fdffa6e91e0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdffa6ea620, obj=..., state=state@entry=0x7fdffa6e8aa8, objv_tracker=objv_tracker@entry=0x7fdffa6e91e0) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdffa6ea620, obj=..., state=state@entry=0x7fdffa6e8aa8, objv_tracker=objv_tracker@entry=0x7fdffa6e91e0) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdffa6ea3c8, lastmod=0x7fdffa6e9180, obj_size=0x0, objv_tracker=0x7fdffa6e91e0) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdffa6e8cb0, objv_tracker=objv_tracker@entry=0x7fdffa6e91e0) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdffa6e91e0, pmtime=pmtime@entry=0x7fdffa6e9180, pattrs=pattrs@entry=0x7fdffa6ea3c8, cache_info=cache_info@entry=0x7fdffa6e91b0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdffa6e91e0, pmtime=pmtime@entry=0x7fdffa6e9180, pattrs=pattrs@entry=0x7fdffa6ea3c8, cache_info=cache_info@entry=0x7fdffa6e91b0) at rgw/rgw_rados.cc:10991
#11 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdffa6ea3c8) at rgw/rgw_rados.cc:11066
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdffa6ea0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7be42740) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c70e2bc0, client_io=client_io@entry=0x7fdffa6ea710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c70e2bc0) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c70e2bc0) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705fee0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 233 (Thread 0x7fdff9eeb700 (LWP 137170)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdff9ee6de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf76c6e600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdff9ee7010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdff9ee6f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdff9ee6f70, pbl=pbl@entry=0x7fdff9ee7010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b1ca8718, pmtime=0x7fe0b1ca8720, epoch=0x7fe0b1ca8728, attrs=0x7fe0b1ca8b58, first_chunk=0x0, objv_tracker=0x7fdff9ee7ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff9ee7b90, obj=..., state=state@entry=0x7fdff9ee72d8, objv_tracker=objv_tracker@entry=0x7fdff9ee7ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff9ee7b90, obj=..., state=state@entry=0x7fdff9ee72d8, objv_tracker=objv_tracker@entry=0x7fdff9ee7ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdff9ee7ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff9ee74e0, objv_tracker=objv_tracker@entry=0x7fdff9ee7ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdff9ee7ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2278", bucket_obj=bucket_obj@entry=0x7fdff9ee8210, shard_id=shard_id@entry=0x7fdff9ee8200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdff9ee81b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdff9ee8120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdff9ee8120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdff9ee8500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0b1dcd800, etag=..., mtime=0x7fe0b1e11768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0b1dcd800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0b1e11400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a300, client_io=client_io@entry=0x7fdff9ee9710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a300) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a300) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705ff40) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 232 (Thread 0x7fdff96ea700 (LWP 137171)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdff96e66c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdff96e66c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdff96e6898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdff96e68c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdff96e69d0, bucket=bucket@entry=0x7fdff96e6a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b2139b18, pmtime=0x7fe0b2139b20, epoch=0x7fe0b2139b28, attrs=0x7fe0b2139f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff96e74c0, obj=..., state=state@entry=0x7fdff96e6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff96e74c0, obj=..., state=state@entry=0x7fdff96e6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdff96e74b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff96e6f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdff96e74b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdff96e80e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdff96e80e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfac80, client_io=client_io@entry=0x7fdff96e8710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfac80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfac80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c705ffa0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 231 (Thread 0x7fdff8ee9700 (LWP 137172)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdff8ee51a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdff8ee51a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b0c47580, sul=..., ptid=ptid@entry=0x7fdff8ee53c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0b0c47580, sul=..., ptid=ptid@entry=0x7fdff8ee53c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0b0c47580, ptid=0x7fdff8ee53c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7f9600, oid=..., o=0x7fe0ecbcb100, pbl=pbl@entry=0x7fdff8ee57e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdff8ee5760, oid="test1", o=o@entry=0x7fdff8ee5740, pbl=pbl@entry=0x7fdff8ee57e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b0d28518, pmtime=0x7fe0b0d28520, epoch=0x7fe0b0d28528, attrs=0x7fe0b0d28958, first_chunk=0x0, objv_tracker=0x7fdff8ee61e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff8ee7620, obj=..., state=state@entry=0x7fdff8ee5aa8, objv_tracker=objv_tracker@entry=0x7fdff8ee61e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff8ee7620, obj=..., state=state@entry=0x7fdff8ee5aa8, objv_tracker=objv_tracker@entry=0x7fdff8ee61e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdff8ee73c8, lastmod=0x7fdff8ee6180, obj_size=0x0, objv_tracker=0x7fdff8ee61e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff8ee5cb0, objv_tracker=objv_tracker@entry=0x7fdff8ee61e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdff8ee61e0, pmtime=pmtime@entry=0x7fdff8ee6180, pattrs=pattrs@entry=0x7fdff8ee73c8, cache_info=cache_info@entry=0x7fdff8ee61b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdff8ee61e0, pmtime=pmtime@entry=0x7fdff8ee6180, pattrs=pattrs@entry=0x7fdff8ee73c8, cache_info=cache_info@entry=0x7fdff8ee61b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdff8ee73c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdff8ee70e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7a37b080) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78511840, client_io=client_io@entry=0x7fdff8ee7710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78511840) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78511840) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069040) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 230 (Thread 0x7fdff86e8700 (LWP 137173)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdff86e4650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0e9cf7400, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdff86e4880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdff86e4800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdff86e47e0, pbl=pbl@entry=0x7fdff86e4880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b092ab18, pmtime=0x7fe0b092ab20, epoch=0x7fe0b092ab28, attrs=0x7fe0b092af58, first_chunk=0x0, objv_tracker=0x7fdff86e53d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff86e6620, obj=..., state=state@entry=0x7fdff86e4b48, objv_tracker=objv_tracker@entry=0x7fdff86e53d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff86e6620, obj=..., state=state@entry=0x7fdff86e4b48, objv_tracker=objv_tracker@entry=0x7fdff86e53d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdff86e54b8, lastmod=0x7fdff86e54b0, obj_size=0x0, objv_tracker=0x7fdff86e53d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff86e4d50, objv_tracker=objv_tracker@entry=0x7fdff86e53d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdff86e53d8, pmtime=pmtime@entry=0x7fdff86e54b0, pattrs=pattrs@entry=0x7fdff86e54b8, cache_info=cache_info@entry=0x7fdff86e51c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdff86e54b0, pattrs=pattrs@entry=0x7fdff86e54b8, cache_info=cache_info@entry=0x7fdff86e51c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdff86e63c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdff86e60e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b8ed2c0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf780f2b00, client_io=client_io@entry=0x7fdff86e6710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf780f2b00) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf780f2b00) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70690a0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 229 (Thread 0x7fdff7ee7700 (LWP 137174)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdff7ee36c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdff7ee36c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdff7ee3898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdff7ee38c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdff7ee39d0, bucket=bucket@entry=0x7fdff7ee3a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0af930518, pmtime=0x7fe0af930520, epoch=0x7fe0af930528, attrs=0x7fe0af930958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff7ee44c0, obj=..., state=state@entry=0x7fdff7ee3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff7ee44c0, obj=..., state=state@entry=0x7fdff7ee3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdff7ee44b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff7ee3f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdff7ee44b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdff7ee50e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdff7ee50e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f880, client_io=client_io@entry=0x7fdff7ee5710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f880) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f880) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069100) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 228 (Thread 0x7fdff76e6700 (LWP 137175)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdff76e2950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73396000, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fdff76e2d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdff76e2ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fdff76e31c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fdff76e2d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdff76e33d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdff76e33d8, pmtime=pmtime@entry=0x7fdff76e34b0, pattrs=pattrs@entry=0x7fdff76e34b8, cache_info=cache_info@entry=0x7fdff76e31c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdff76e34b0, pattrs=pattrs@entry=0x7fdff76e34b8, cache_info=cache_info@entry=0x7fdff76e31c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdff76e43c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdff76e40e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c97cbe0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a780, client_io=client_io@entry=0x7fdff76e4710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a780) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a780) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069160) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 227 (Thread 0x7fdff6ee5700 (LWP 137176)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdff6ee16c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdff6ee16c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdff6ee1898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdff6ee18c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdff6ee19d0, bucket=bucket@entry=0x7fdff6ee1a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ac13f518, pmtime=0x7fe0ac13f520, epoch=0x7fe0ac13f528, attrs=0x7fe0ac13f958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff6ee24c0, obj=..., state=state@entry=0x7fdff6ee1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff6ee24c0, obj=..., state=state@entry=0x7fdff6ee1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdff6ee24b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff6ee1f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdff6ee24b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdff6ee30e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdff6ee30e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce7c0, client_io=client_io@entry=0x7fdff6ee3710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce7c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce7c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70691c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 226 (Thread 0x7fdff66e4700 (LWP 137177)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdff66dfde0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d85600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdff66e0010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdff66dff90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdff66dff70, pbl=pbl@entry=0x7fdff66e0010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0a5091718, pmtime=0x7fe0a5091720, epoch=0x7fe0a5091728, attrs=0x7fe0a5091b58, first_chunk=0x0, objv_tracker=0x7fdff66e0ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff66e0b90, obj=..., state=state@entry=0x7fdff66e02d8, objv_tracker=objv_tracker@entry=0x7fdff66e0ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff66e0b90, obj=..., state=state@entry=0x7fdff66e02d8, objv_tracker=objv_tracker@entry=0x7fdff66e0ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdff66e0ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff66e04e0, objv_tracker=objv_tracker@entry=0x7fdff66e0ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdff66e0ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2261", bucket_obj=bucket_obj@entry=0x7fdff66e1210, shard_id=shard_id@entry=0x7fdff66e1200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdff66e11b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdff66e1120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdff66e1120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdff66e1500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0a51a2800, etag=..., mtime=0x7fe0a517f768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0a51a2800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0a517f400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b3360c0, client_io=client_io@entry=0x7fdff66e2710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b3360c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b3360c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069220) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 225 (Thread 0x7fdff5ee3700 (LWP 137178)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdff5edf6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdff5edf6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdff5edf898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdff5edf8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdff5edf9d0, bucket=bucket@entry=0x7fdff5edfa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe084134b18, pmtime=0x7fe084134b20, epoch=0x7fe084134b28, attrs=0x7fe084134f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff5ee04c0, obj=..., state=state@entry=0x7fdff5edfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff5ee04c0, obj=..., state=state@entry=0x7fdff5edfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdff5ee04b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff5edff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdff5ee04b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdff5ee10e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdff5ee10e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8dc0, client_io=client_io@entry=0x7fdff5ee1710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8dc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8dc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069280) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 224 (Thread 0x7fdff56e2700 (LWP 137179)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdff56de1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdff56de1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8985eb80, sul=..., ptid=ptid@entry=0x7fdff56de3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8985eb80, sul=..., ptid=ptid@entry=0x7fdff56de3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8985eb80, ptid=0x7fdff56de3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c4400, oid=..., o=0x7fdf83867b00, pbl=pbl@entry=0x7fdff56de7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdff56de760, oid="test1", o=o@entry=0x7fdff56de740, pbl=pbl@entry=0x7fdff56de7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf89964518, pmtime=0x7fdf89964520, epoch=0x7fdf89964528, attrs=0x7fdf89964958, first_chunk=0x0, objv_tracker=0x7fdff56df1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff56e0620, obj=..., state=state@entry=0x7fdff56deaa8, objv_tracker=objv_tracker@entry=0x7fdff56df1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff56e0620, obj=..., state=state@entry=0x7fdff56deaa8, objv_tracker=objv_tracker@entry=0x7fdff56df1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdff56e03c8, lastmod=0x7fdff56df180, obj_size=0x0, objv_tracker=0x7fdff56df1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff56decb0, objv_tracker=objv_tracker@entry=0x7fdff56df1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdff56df1e0, pmtime=pmtime@entry=0x7fdff56df180, pattrs=pattrs@entry=0x7fdff56e03c8, cache_info=cache_info@entry=0x7fdff56df1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdff56df1e0, pmtime=pmtime@entry=0x7fdff56df180, pattrs=pattrs@entry=0x7fdff56e03c8, cache_info=cache_info@entry=0x7fdff56df1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdff56e03c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdff56e00e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b5d5120) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf769d78c0, client_io=client_io@entry=0x7fdff56e0710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf769d78c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf769d78c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70692e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 223 (Thread 0x7fdff4ee1700 (LWP 137180)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdff4edd1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdff4edd1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf89415100, sul=..., ptid=ptid@entry=0x7fdff4edd3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf89415100, sul=..., ptid=ptid@entry=0x7fdff4edd3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf89415100, ptid=0x7fdff4edd3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb717c00, oid=..., o=0x7fdf8606a100, pbl=pbl@entry=0x7fdff4edd7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdff4edd760, oid="test1", o=o@entry=0x7fdff4edd740, pbl=pbl@entry=0x7fdff4edd7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf89564518, pmtime=0x7fdf89564520, epoch=0x7fdf89564528, attrs=0x7fdf89564958, first_chunk=0x0, objv_tracker=0x7fdff4ede1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff4edf620, obj=..., state=state@entry=0x7fdff4eddaa8, objv_tracker=objv_tracker@entry=0x7fdff4ede1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff4edf620, obj=..., state=state@entry=0x7fdff4eddaa8, objv_tracker=objv_tracker@entry=0x7fdff4ede1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdff4edf3c8, lastmod=0x7fdff4ede180, obj_size=0x0, objv_tracker=0x7fdff4ede1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff4eddcb0, objv_tracker=objv_tracker@entry=0x7fdff4ede1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdff4ede1e0, pmtime=pmtime@entry=0x7fdff4ede180, pattrs=pattrs@entry=0x7fdff4edf3c8, cache_info=cache_info@entry=0x7fdff4ede1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdff4ede1e0, pmtime=pmtime@entry=0x7fdff4ede180, pattrs=pattrs@entry=0x7fdff4edf3c8, cache_info=cache_info@entry=0x7fdff4ede1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdff4edf3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdff4edf0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c0e6320) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c15aa40, client_io=client_io@entry=0x7fdff4edf710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c15aa40) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c15aa40) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069340) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 222 (Thread 0x7fdff46e0700 (LWP 137181)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdff46dc6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdff46dc6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdff46dc898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdff46dc8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdff46dc9d0, bucket=bucket@entry=0x7fdff46dca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf89163b18, pmtime=0x7fdf89163b20, epoch=0x7fdf89163b28, attrs=0x7fdf89163f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff46dd4c0, obj=..., state=state@entry=0x7fdff46dcd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff46dd4c0, obj=..., state=state@entry=0x7fdff46dcd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdff46dd4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff46dcf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdff46dd4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdff46de0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdff46de0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d3c0, client_io=client_io@entry=0x7fdff46de710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d3c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d3c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70693a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 221 (Thread 0x7fdff3edf700 (LWP 137182)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdff3edb1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdff3edb1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf88c12680, sul=..., ptid=ptid@entry=0x7fdff3edb3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf88c12680, sul=..., ptid=ptid@entry=0x7fdff3edb3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf88c12680, ptid=0x7fdff3edb3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf74411c00, oid=..., o=0x7fe0f0d7ac80, pbl=pbl@entry=0x7fdff3edb7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdff3edb760, oid="test1", o=o@entry=0x7fdff3edb740, pbl=pbl@entry=0x7fdff3edb7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf88d68518, pmtime=0x7fdf88d68520, epoch=0x7fdf88d68528, attrs=0x7fdf88d68958, first_chunk=0x0, objv_tracker=0x7fdff3edc1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff3edd620, obj=..., state=state@entry=0x7fdff3edbaa8, objv_tracker=objv_tracker@entry=0x7fdff3edc1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff3edd620, obj=..., state=state@entry=0x7fdff3edbaa8, objv_tracker=objv_tracker@entry=0x7fdff3edc1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdff3edd3c8, lastmod=0x7fdff3edc180, obj_size=0x0, objv_tracker=0x7fdff3edc1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff3edbcb0, objv_tracker=objv_tracker@entry=0x7fdff3edc1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdff3edc1e0, pmtime=pmtime@entry=0x7fdff3edc180, pattrs=pattrs@entry=0x7fdff3edd3c8, cache_info=cache_info@entry=0x7fdff3edc1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdff3edc1e0, pmtime=pmtime@entry=0x7fdff3edc180, pattrs=pattrs@entry=0x7fdff3edd3c8, cache_info=cache_info@entry=0x7fdff3edc1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdff3edd3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdff3edd0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c9241c0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c7289380, client_io=client_io@entry=0x7fdff3edd710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c7289380) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c7289380) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069400) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 220 (Thread 0x7fdff36de700 (LWP 137183)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdff36da6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdff36da6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdff36da898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdff36da8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdff36da9d0, bucket=bucket@entry=0x7fdff36daa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8896cb18, pmtime=0x7fdf8896cb20, epoch=0x7fdf8896cb28, attrs=0x7fdf8896cf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff36db4c0, obj=..., state=state@entry=0x7fdff36dad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff36db4c0, obj=..., state=state@entry=0x7fdff36dad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdff36db4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff36daf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdff36db4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdff36dc0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdff36dc0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f440, client_io=client_io@entry=0x7fdff36dc710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f440) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f440) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069460) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 219 (Thread 0x7fdff2edd700 (LWP 137184)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdff2ed96c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdff2ed96c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdff2ed9898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdff2ed98c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdff2ed99d0, bucket=bucket@entry=0x7fdff2ed9a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf88564b18, pmtime=0x7fdf88564b20, epoch=0x7fdf88564b28, attrs=0x7fdf88564f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff2eda4c0, obj=..., state=state@entry=0x7fdff2ed9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff2eda4c0, obj=..., state=state@entry=0x7fdff2ed9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdff2eda4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff2ed9f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdff2eda4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdff2edb0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdff2edb0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d7c0, client_io=client_io@entry=0x7fdff2edb710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d7c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d7c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70694c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 218 (Thread 0x7fdff26dc700 (LWP 137185)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdff26d86c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdff26d86c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdff26d8898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdff26d88c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdff26d89d0, bucket=bucket@entry=0x7fdff26d8a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf88168518, pmtime=0x7fdf88168520, epoch=0x7fdf88168528, attrs=0x7fdf88168958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff26d94c0, obj=..., state=state@entry=0x7fdff26d8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff26d94c0, obj=..., state=state@entry=0x7fdff26d8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdff26d94b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff26d8f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdff26d94b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdff26da0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdff26da0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfab80, client_io=client_io@entry=0x7fdff26da710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfab80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfab80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069520) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 217 (Thread 0x7fdff1edb700 (LWP 137186)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdff1ed76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdff1ed76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdff1ed7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdff1ed78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdff1ed79d0, bucket=bucket@entry=0x7fdff1ed7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf87d6a518, pmtime=0x7fdf87d6a520, epoch=0x7fdf87d6a528, attrs=0x7fdf87d6a958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff1ed84c0, obj=..., state=state@entry=0x7fdff1ed7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff1ed84c0, obj=..., state=state@entry=0x7fdff1ed7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdff1ed84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff1ed7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdff1ed84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdff1ed90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdff1ed90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc900, client_io=client_io@entry=0x7fdff1ed9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc900) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc900) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069580) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 216 (Thread 0x7fdff16da700 (LWP 137187)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdff16d6950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337b800, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fdff16d6d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdff16d6ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fdff16d71c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fdff16d6d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdff16d73d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdff16d73d8, pmtime=pmtime@entry=0x7fdff16d74b0, pattrs=pattrs@entry=0x7fdff16d74b8, cache_info=cache_info@entry=0x7fdff16d71c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdff16d74b0, pattrs=pattrs@entry=0x7fdff16d74b8, cache_info=cache_info@entry=0x7fdff16d71c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdff16d83c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdff16d80e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bc6c640) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a2c0, client_io=client_io@entry=0x7fdff16d8710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a2c0) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a2c0) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70695e0) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 215 (Thread 0x7fdff0ed9700 (LWP 137188)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdff0ed56c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdff0ed56c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdff0ed5898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdff0ed58c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdff0ed59d0, bucket=bucket@entry=0x7fdff0ed5a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf87560b18, pmtime=0x7fdf87560b20, epoch=0x7fdf87560b28, attrs=0x7fdf87560f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdff0ed64c0, obj=..., state=state@entry=0x7fdff0ed5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdff0ed64c0, obj=..., state=state@entry=0x7fdff0ed5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdff0ed64b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdff0ed5f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdff0ed64b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdff0ed70e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdff0ed70e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd600, client_io=client_io@entry=0x7fdff0ed7710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd600) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd600) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069640) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 214 (Thread 0x7fdff06d8700 (LWP 137189)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdff06d4950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337ae00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fdff06d4d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdff06d4ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fdff06d51c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fdff06d4d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdff06d53d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdff06d53d8, pmtime=pmtime@entry=0x7fdff06d54b0, pattrs=pattrs@entry=0x7fdff06d54b8, cache_info=cache_info@entry=0x7fdff06d51c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdff06d54b0, pattrs=pattrs@entry=0x7fdff06d54b8, cache_info=cache_info@entry=0x7fdff06d51c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdff06d63c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdff06d60e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7be45280) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b4a3300, client_io=client_io@entry=0x7fdff06d6710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b4a3300) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b4a3300) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70696a0) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 213 (Thread 0x7fdfefed7700 (LWP 137190)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfefed3650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733ad600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfefed3880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfefed3800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfefed37e0, pbl=pbl@entry=0x7fdfefed3880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf86d6a518, pmtime=0x7fdf86d6a520, epoch=0x7fdf86d6a528, attrs=0x7fdf86d6a958, first_chunk=0x0, objv_tracker=0x7fdfefed43d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfefed5620, obj=..., state=state@entry=0x7fdfefed3b48, objv_tracker=objv_tracker@entry=0x7fdfefed43d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfefed5620, obj=..., state=state@entry=0x7fdfefed3b48, objv_tracker=objv_tracker@entry=0x7fdfefed43d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfefed44b8, lastmod=0x7fdfefed44b0, obj_size=0x0, objv_tracker=0x7fdfefed43d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfefed3d50, objv_tracker=objv_tracker@entry=0x7fdfefed43d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfefed43d8, pmtime=pmtime@entry=0x7fdfefed44b0, pattrs=pattrs@entry=0x7fdfefed44b8, cache_info=cache_info@entry=0x7fdfefed41c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfefed44b0, pattrs=pattrs@entry=0x7fdfefed44b8, cache_info=cache_info@entry=0x7fdfefed41c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfefed53c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfefed50e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b090100) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a880, client_io=client_io@entry=0x7fdfefed5710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a880) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a880) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069700) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 212 (Thread 0x7fdfef6d6700 (LWP 137191)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfef6d1de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0ecab2800, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfef6d2010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfef6d1f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfef6d1f70, pbl=pbl@entry=0x7fdfef6d2010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf86885518, pmtime=0x7fdf86885520, epoch=0x7fdf86885528, attrs=0x7fdf86885958, first_chunk=0x0, objv_tracker=0x7fdfef6d2ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfef6d2b90, obj=..., state=state@entry=0x7fdfef6d22d8, objv_tracker=objv_tracker@entry=0x7fdfef6d2ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfef6d2b90, obj=..., state=state@entry=0x7fdfef6d22d8, objv_tracker=objv_tracker@entry=0x7fdfef6d2ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfef6d2ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfef6d24e0, objv_tracker=objv_tracker@entry=0x7fdfef6d2ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfef6d2ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2267", bucket_obj=bucket_obj@entry=0x7fdfef6d3210, shard_id=shard_id@entry=0x7fdfef6d3200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdfef6d31b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdfef6d3120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdfef6d3120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfef6d3500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf86a07400, etag=..., mtime=0x7fdf86978768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf86a07400, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf86978400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a200, client_io=client_io@entry=0x7fdfef6d4710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a200) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a200) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069760) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 211 (Thread 0x7fdfeeed5700 (LWP 137192)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfeeed16c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfeeed16c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfeeed1898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfeeed18c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfeeed19d0, bucket=bucket@entry=0x7fdfeeed1a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf86568b18, pmtime=0x7fdf86568b20, epoch=0x7fdf86568b28, attrs=0x7fdf86568f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfeeed24c0, obj=..., state=state@entry=0x7fdfeeed1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfeeed24c0, obj=..., state=state@entry=0x7fdfeeed1d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfeeed24b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfeeed1f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfeeed24b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfeeed30e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfeeed30e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa040, client_io=client_io@entry=0x7fdfeeed3710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa040) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa040) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70697c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 210 (Thread 0x7fdfee6d4700 (LWP 137193)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfee6cfde0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf760a2600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfee6d0010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfee6cff90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfee6cff70, pbl=pbl@entry=0x7fdfee6d0010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf86082718, pmtime=0x7fdf86082720, epoch=0x7fdf86082728, attrs=0x7fdf86082b58, first_chunk=0x0, objv_tracker=0x7fdfee6d0ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfee6d0b90, obj=..., state=state@entry=0x7fdfee6d02d8, objv_tracker=objv_tracker@entry=0x7fdfee6d0ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfee6d0b90, obj=..., state=state@entry=0x7fdfee6d02d8, objv_tracker=objv_tracker@entry=0x7fdfee6d0ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfee6d0ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfee6d04e0, objv_tracker=objv_tracker@entry=0x7fdfee6d0ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfee6d0ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2279", bucket_obj=bucket_obj@entry=0x7fdfee6d1210, shard_id=shard_id@entry=0x7fdfee6d1200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdfee6d11b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdfee6d1120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdfee6d1120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfee6d1500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf86207800, etag=..., mtime=0x7fdf86293368, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf86207800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf86293000) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a400, client_io=client_io@entry=0x7fdfee6d2710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a400) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a400) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069820) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 209 (Thread 0x7fdfeded3700 (LWP 137194)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfedecf6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfedecf6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfedecf898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfedecf8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfedecf9d0, bucket=bucket@entry=0x7fdfedecfa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf85d68518, pmtime=0x7fdf85d68520, epoch=0x7fdf85d68528, attrs=0x7fdf85d68958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfeded04c0, obj=..., state=state@entry=0x7fdfedecfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfeded04c0, obj=..., state=state@entry=0x7fdfedecfd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfeded04b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfedecff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfeded04b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfeded10e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfeded10e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dcc00, client_io=client_io@entry=0x7fdfeded1710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dcc00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dcc00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069880) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 208 (Thread 0x7fdfed6d2700 (LWP 137195)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfed6cdde0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf79893c00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfed6ce010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfed6cdf90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfed6cdf70, pbl=pbl@entry=0x7fdfed6ce010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf85882718, pmtime=0x7fdf85882720, epoch=0x7fdf85882728, attrs=0x7fdf85882b58, first_chunk=0x0, objv_tracker=0x7fdfed6ceab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfed6ceb90, obj=..., state=state@entry=0x7fdfed6ce2d8, objv_tracker=objv_tracker@entry=0x7fdfed6ceab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfed6ceb90, obj=..., state=state@entry=0x7fdfed6ce2d8, objv_tracker=objv_tracker@entry=0x7fdfed6ceab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfed6ceab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfed6ce4e0, objv_tracker=objv_tracker@entry=0x7fdfed6ceab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfed6ceab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2220", bucket_obj=bucket_obj@entry=0x7fdfed6cf210, shard_id=shard_id@entry=0x7fdfed6cf200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdfed6cf1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdfed6cf120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdfed6cf120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfed6cf500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf859c4800, etag=..., mtime=0x7fdf85997768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf859c4800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf85997400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ba6cd80, client_io=client_io@entry=0x7fdfed6d0710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ba6cd80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ba6cd80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70698e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 207 (Thread 0x7fdfeced1700 (LWP 137196)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfececd6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfececd6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfececd898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfececd8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfececd9d0, bucket=bucket@entry=0x7fdfececda20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf85564518, pmtime=0x7fdf85564520, epoch=0x7fdf85564528, attrs=0x7fdf85564958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfecece4c0, obj=..., state=state@entry=0x7fdfececdd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfecece4c0, obj=..., state=state@entry=0x7fdfececdd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfecece4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfececdf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfecece4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfececf0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfececf0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8d00, client_io=client_io@entry=0x7fdfececf710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8d00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8d00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069940) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 206 (Thread 0x7fdfec6d0700 (LWP 137197)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfec6cc6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfec6cc6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfec6cc898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfec6cc8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfec6cc9d0, bucket=bucket@entry=0x7fdfec6cca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf85163518, pmtime=0x7fdf85163520, epoch=0x7fdf85163528, attrs=0x7fdf85163958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfec6cd4c0, obj=..., state=state@entry=0x7fdfec6ccd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfec6cd4c0, obj=..., state=state@entry=0x7fdfec6ccd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfec6cd4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfec6ccf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfec6cd4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfec6ce0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfec6ce0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ca8ef00, client_io=client_io@entry=0x7fdfec6ce710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ca8ef00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ca8ef00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70699a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 205 (Thread 0x7fdfebecf700 (LWP 137198)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfebecade0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d7f800, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfebecb010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfebecaf90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfebecaf70, pbl=pbl@entry=0x7fdfebecb010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf84c82718, pmtime=0x7fdf84c82720, epoch=0x7fdf84c82728, attrs=0x7fdf84c82b58, first_chunk=0x0, objv_tracker=0x7fdfebecbab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfebecbb90, obj=..., state=state@entry=0x7fdfebecb2d8, objv_tracker=objv_tracker@entry=0x7fdfebecbab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfebecbb90, obj=..., state=state@entry=0x7fdfebecb2d8, objv_tracker=objv_tracker@entry=0x7fdfebecbab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfebecbab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfebecb4e0, objv_tracker=objv_tracker@entry=0x7fdfebecbab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfebecbab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2259", bucket_obj=bucket_obj@entry=0x7fdfebecc210, shard_id=shard_id@entry=0x7fdfebecc200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdfebecc1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdfebecc120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdfebecc120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfebecc500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf84dee800, etag=..., mtime=0x7fdf84dde768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf84dee800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf84dde400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79492a00, client_io=client_io@entry=0x7fdfebecd710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79492a00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79492a00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069a00) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 204 (Thread 0x7fdfeb6ce700 (LWP 137199)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfeb6ca6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfeb6ca6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfeb6ca898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfeb6ca8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfeb6ca9d0, bucket=bucket@entry=0x7fdfeb6caa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf84964518, pmtime=0x7fdf84964520, epoch=0x7fdf84964528, attrs=0x7fdf84964958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfeb6cb4c0, obj=..., state=state@entry=0x7fdfeb6cad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfeb6cb4c0, obj=..., state=state@entry=0x7fdfeb6cad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfeb6cb4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfeb6caf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfeb6cb4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfeb6cc0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfeb6cc0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfad80, client_io=client_io@entry=0x7fdfeb6cc710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfad80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfad80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069a60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 203 (Thread 0x7fdfeaecd700 (LWP 137200)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfeaec96c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfeaec96c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfeaec9898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfeaec98c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfeaec99d0, bucket=bucket@entry=0x7fdfeaec9a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf84568b18, pmtime=0x7fdf84568b20, epoch=0x7fdf84568b28, attrs=0x7fdf84568f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfeaeca4c0, obj=..., state=state@entry=0x7fdfeaec9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfeaeca4c0, obj=..., state=state@entry=0x7fdfeaec9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfeaeca4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfeaec9f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfeaeca4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfeaecb0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfeaecb0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dce00, client_io=client_io@entry=0x7fdfeaecb710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dce00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dce00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069ac0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 202 (Thread 0x7fdfea6cc700 (LWP 137201)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfea6c8950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337d400, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fdfea6c8d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfea6c8ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fdfea6c91c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fdfea6c8d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdfea6c93d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfea6c93d8, pmtime=pmtime@entry=0x7fdfea6c94b0, pattrs=pattrs@entry=0x7fdfea6c94b8, cache_info=cache_info@entry=0x7fdfea6c91c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfea6c94b0, pattrs=pattrs@entry=0x7fdfea6c94b8, cache_info=cache_info@entry=0x7fdfea6c91c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfea6ca3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfea6ca0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c3adc60) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a5c0, client_io=client_io@entry=0x7fdfea6ca710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a5c0) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a5c0) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069b20) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 201 (Thread 0x7fdfe9ecb700 (LWP 137202)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfe9ec76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfe9ec76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfe9ec7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfe9ec78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfe9ec79d0, bucket=bucket@entry=0x7fdfe9ec7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf83d6d518, pmtime=0x7fdf83d6d520, epoch=0x7fdf83d6d528, attrs=0x7fdf83d6d958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe9ec84c0, obj=..., state=state@entry=0x7fdfe9ec7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe9ec84c0, obj=..., state=state@entry=0x7fdfe9ec7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfe9ec84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe9ec7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfe9ec84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfe9ec90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfe9ec90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce280, client_io=client_io@entry=0x7fdfe9ec9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce280) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce280) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069b80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 200 (Thread 0x7fdfe96ca700 (LWP 137203)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfe96c66c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfe96c66c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfe96c6898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfe96c68c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfe96c69d0, bucket=bucket@entry=0x7fdfe96c6a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf83969b18, pmtime=0x7fdf83969b20, epoch=0x7fdf83969b28, attrs=0x7fdf83969f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe96c74c0, obj=..., state=state@entry=0x7fdfe96c6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe96c74c0, obj=..., state=state@entry=0x7fdfe96c6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfe96c74b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe96c6f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfe96c74b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfe96c80e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfe96c80e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8780, client_io=client_io@entry=0x7fdfe96c8710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8780) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8780) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069be0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 199 (Thread 0x7fdfe8ec9700 (LWP 137204)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfe8ec51a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfe8ec51a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf83438400, sul=..., ptid=ptid@entry=0x7fdfe8ec53c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf83438400, sul=..., ptid=ptid@entry=0x7fdfe8ec53c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf83438400, ptid=0x7fdfe8ec53c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c7800, oid=..., o=0x7fe0e7815600, pbl=pbl@entry=0x7fdfe8ec57e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfe8ec5760, oid="test1", o=o@entry=0x7fdfe8ec5740, pbl=pbl@entry=0x7fdfe8ec57e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf8351eb18, pmtime=0x7fdf8351eb20, epoch=0x7fdf8351eb28, attrs=0x7fdf8351ef58, first_chunk=0x0, objv_tracker=0x7fdfe8ec61e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe8ec7620, obj=..., state=state@entry=0x7fdfe8ec5aa8, objv_tracker=objv_tracker@entry=0x7fdfe8ec61e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe8ec7620, obj=..., state=state@entry=0x7fdfe8ec5aa8, objv_tracker=objv_tracker@entry=0x7fdfe8ec61e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfe8ec73c8, lastmod=0x7fdfe8ec6180, obj_size=0x0, objv_tracker=0x7fdfe8ec61e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe8ec5cb0, objv_tracker=objv_tracker@entry=0x7fdfe8ec61e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfe8ec61e0, pmtime=pmtime@entry=0x7fdfe8ec6180, pattrs=pattrs@entry=0x7fdfe8ec73c8, cache_info=cache_info@entry=0x7fdfe8ec61b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfe8ec61e0, pmtime=pmtime@entry=0x7fdfe8ec6180, pattrs=pattrs@entry=0x7fdfe8ec73c8, cache_info=cache_info@entry=0x7fdfe8ec61b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfe8ec73c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfe8ec70e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf76838c20) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868980, client_io=client_io@entry=0x7fdfe8ec7710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868980) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868980) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069c40) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 198 (Thread 0x7fdfe86c8700 (LWP 137205)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfe86c46c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfe86c46c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfe86c4898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfe86c48c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfe86c49d0, bucket=bucket@entry=0x7fdfe86c4a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf83164518, pmtime=0x7fdf83164520, epoch=0x7fdf83164528, attrs=0x7fdf83164958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe86c54c0, obj=..., state=state@entry=0x7fdfe86c4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe86c54c0, obj=..., state=state@entry=0x7fdfe86c4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfe86c54b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe86c4f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfe86c54b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfe86c60e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfe86c60e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc800, client_io=client_io@entry=0x7fdfe86c6710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc800) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc800) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069ca0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 197 (Thread 0x7fdfe7ec7700 (LWP 137206)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfe7ec36c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfe7ec36c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfe7ec3898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfe7ec38c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfe7ec39d0, bucket=bucket@entry=0x7fdfe7ec3a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf82d64b18, pmtime=0x7fdf82d64b20, epoch=0x7fdf82d64b28, attrs=0x7fdf82d64f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe7ec44c0, obj=..., state=state@entry=0x7fdfe7ec3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe7ec44c0, obj=..., state=state@entry=0x7fdfe7ec3d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfe7ec44b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe7ec3f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfe7ec44b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfe7ec50e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfe7ec50e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dce80, client_io=client_io@entry=0x7fdfe7ec5710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dce80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dce80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069d00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 196 (Thread 0x7fdfe76c6700 (LWP 137207)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfe76c26c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfe76c26c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfe76c2898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfe76c28c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfe76c29d0, bucket=bucket@entry=0x7fdfe76c2a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8296a518, pmtime=0x7fdf8296a520, epoch=0x7fdf8296a528, attrs=0x7fdf8296a958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe76c34c0, obj=..., state=state@entry=0x7fdfe76c2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe76c34c0, obj=..., state=state@entry=0x7fdfe76c2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfe76c34b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe76c2f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfe76c34b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfe76c40e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfe76c40e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8480, client_io=client_io@entry=0x7fdfe76c4710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8480) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8480) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069d60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 195 (Thread 0x7fdfe6ec5700 (LWP 137208)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfe6ec15b0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf76537a00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfe6ec17e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfe6ec1760, oid="test1", o=o@entry=0x7fdfe6ec1740, pbl=pbl@entry=0x7fdfe6ec17e0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf82568518, pmtime=0x7fdf82568520, epoch=0x7fdf82568528, attrs=0x7fdf82568958, first_chunk=0x0, objv_tracker=0x7fdfe6ec21e0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe6ec3620, obj=..., state=state@entry=0x7fdfe6ec1aa8, objv_tracker=objv_tracker@entry=0x7fdfe6ec21e0) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe6ec3620, obj=..., state=state@entry=0x7fdfe6ec1aa8, objv_tracker=objv_tracker@entry=0x7fdfe6ec21e0) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfe6ec33c8, lastmod=0x7fdfe6ec2180, obj_size=0x0, objv_tracker=0x7fdfe6ec21e0) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe6ec1cb0, objv_tracker=objv_tracker@entry=0x7fdfe6ec21e0) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfe6ec21e0, pmtime=pmtime@entry=0x7fdfe6ec2180, pattrs=pattrs@entry=0x7fdfe6ec33c8, cache_info=cache_info@entry=0x7fdfe6ec21b0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfe6ec21e0, pmtime=pmtime@entry=0x7fdfe6ec2180, pattrs=pattrs@entry=0x7fdfe6ec33c8, cache_info=cache_info@entry=0x7fdfe6ec21b0) at rgw/rgw_rados.cc:10991
#11 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfe6ec33c8) at rgw/rgw_rados.cc:11066
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfe6ec30e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b25f6c0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a4a0200, client_io=client_io@entry=0x7fdfe6ec3710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a4a0200) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a4a0200) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069dc0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 194 (Thread 0x7fdfe66c4700 (LWP 137209)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfe66bfde0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf77a79e00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfe66c0010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfe66bff90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfe66bff70, pbl=pbl@entry=0x7fdfe66c0010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf82084518, pmtime=0x7fdf82084520, epoch=0x7fdf82084528, attrs=0x7fdf82084958, first_chunk=0x0, objv_tracker=0x7fdfe66c0ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe66c0b90, obj=..., state=state@entry=0x7fdfe66c02d8, objv_tracker=objv_tracker@entry=0x7fdfe66c0ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe66c0b90, obj=..., state=state@entry=0x7fdfe66c02d8, objv_tracker=objv_tracker@entry=0x7fdfe66c0ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfe66c0ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe66c04e0, objv_tracker=objv_tracker@entry=0x7fdfe66c0ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfe66c0ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2277", bucket_obj=bucket_obj@entry=0x7fdfe66c1210, shard_id=shard_id@entry=0x7fdfe66c1200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdfe66c11b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdfe66c1120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdfe66c1120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfe66c1500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf821e9800, etag=..., mtime=0x7fdf82153768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf821e9800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf82153400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bc7ea00, client_io=client_io@entry=0x7fdfe66c2710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bc7ea00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bc7ea00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069e20) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 193 (Thread 0x7fdfe5ec3700 (LWP 137210)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfe5ebede0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d7ec00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfe5ebf010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfe5ebef90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfe5ebef70, pbl=pbl@entry=0x7fdfe5ebf010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf81c85118, pmtime=0x7fdf81c85120, epoch=0x7fdf81c85128, attrs=0x7fdf81c85558, first_chunk=0x0, objv_tracker=0x7fdfe5ebfab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe5ebfb90, obj=..., state=state@entry=0x7fdfe5ebf2d8, objv_tracker=objv_tracker@entry=0x7fdfe5ebfab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe5ebfb90, obj=..., state=state@entry=0x7fdfe5ebf2d8, objv_tracker=objv_tracker@entry=0x7fdfe5ebfab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfe5ebfab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe5ebf4e0, objv_tracker=objv_tracker@entry=0x7fdfe5ebfab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfe5ebfab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2244", bucket_obj=bucket_obj@entry=0x7fdfe5ec0210, shard_id=shard_id@entry=0x7fdfe5ec0200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdfe5ec01b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdfe5ec0120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdfe5ec0120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfe5ec0500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf81df8600, etag=..., mtime=0x7fdf81e38768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf81df8600, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf81e38400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a533e80, client_io=client_io@entry=0x7fdfe5ec1710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a533e80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a533e80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069e80) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 192 (Thread 0x7fdfe56c2700 (LWP 137211)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfe56be6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfe56be6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfe56be898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfe56be8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfe56be9d0, bucket=bucket@entry=0x7fdfe56bea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf81963518, pmtime=0x7fdf81963520, epoch=0x7fdf81963528, attrs=0x7fdf81963958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe56bf4c0, obj=..., state=state@entry=0x7fdfe56bed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe56bf4c0, obj=..., state=state@entry=0x7fdfe56bed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfe56bf4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe56bef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfe56bf4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfe56c00e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfe56c00e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa780, client_io=client_io@entry=0x7fdfe56c0710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa780) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa780) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069ee0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 191 (Thread 0x7fdfe4ec1700 (LWP 137212)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfe4ebd1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfe4ebd1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf81426580, sul=..., ptid=ptid@entry=0x7fdfe4ebd3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf81426580, sul=..., ptid=ptid@entry=0x7fdfe4ebd3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf81426580, ptid=0x7fdfe4ebd3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb717000, oid=..., o=0x7fdf868e7700, pbl=pbl@entry=0x7fdfe4ebd7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfe4ebd760, oid="test1", o=o@entry=0x7fdfe4ebd740, pbl=pbl@entry=0x7fdfe4ebd7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf81569518, pmtime=0x7fdf81569520, epoch=0x7fdf81569528, attrs=0x7fdf81569958, first_chunk=0x0, objv_tracker=0x7fdfe4ebe1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe4ebf620, obj=..., state=state@entry=0x7fdfe4ebdaa8, objv_tracker=objv_tracker@entry=0x7fdfe4ebe1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe4ebf620, obj=..., state=state@entry=0x7fdfe4ebdaa8, objv_tracker=objv_tracker@entry=0x7fdfe4ebe1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfe4ebf3c8, lastmod=0x7fdfe4ebe180, obj_size=0x0, objv_tracker=0x7fdfe4ebe1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe4ebdcb0, objv_tracker=objv_tracker@entry=0x7fdfe4ebe1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfe4ebe1e0, pmtime=pmtime@entry=0x7fdfe4ebe180, pattrs=pattrs@entry=0x7fdfe4ebf3c8, cache_info=cache_info@entry=0x7fdfe4ebe1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfe4ebe1e0, pmtime=pmtime@entry=0x7fdfe4ebe180, pattrs=pattrs@entry=0x7fdfe4ebf3c8, cache_info=cache_info@entry=0x7fdfe4ebe1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfe4ebf3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfe4ebf0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bece580) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ab85fc0, client_io=client_io@entry=0x7fdfe4ebf710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ab85fc0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ab85fc0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069f40) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 190 (Thread 0x7fdfe46c0700 (LWP 137213)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfe46bc6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfe46bc6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfe46bc898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfe46bc8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfe46bc9d0, bucket=bucket@entry=0x7fdfe46bca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf8116c518, pmtime=0x7fdf8116c520, epoch=0x7fdf8116c528, attrs=0x7fdf8116c958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe46bd4c0, obj=..., state=state@entry=0x7fdfe46bcd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe46bd4c0, obj=..., state=state@entry=0x7fdfe46bcd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfe46bd4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe46bcf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfe46bd4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfe46be0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfe46be0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8f80, client_io=client_io@entry=0x7fdfe46be710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8f80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8f80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7069fa0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 189 (Thread 0x7fdfe3ebf700 (LWP 137214)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfe3ebb1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfe3ebb1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf80828b00, sul=..., ptid=ptid@entry=0x7fdfe3ebb3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf80828b00, sul=..., ptid=ptid@entry=0x7fdfe3ebb3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf80828b00, ptid=0x7fdfe3ebb3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fae00, oid=..., o=0x7fe0c8512f80, pbl=pbl@entry=0x7fdfe3ebb7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfe3ebb760, oid="test1", o=o@entry=0x7fdfe3ebb740, pbl=pbl@entry=0x7fdfe3ebb7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf80966518, pmtime=0x7fdf80966520, epoch=0x7fdf80966528, attrs=0x7fdf80966958, first_chunk=0x0, objv_tracker=0x7fdfe3ebc1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe3ebd620, obj=..., state=state@entry=0x7fdfe3ebbaa8, objv_tracker=objv_tracker@entry=0x7fdfe3ebc1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe3ebd620, obj=..., state=state@entry=0x7fdfe3ebbaa8, objv_tracker=objv_tracker@entry=0x7fdfe3ebc1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfe3ebd3c8, lastmod=0x7fdfe3ebc180, obj_size=0x0, objv_tracker=0x7fdfe3ebc1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe3ebbcb0, objv_tracker=objv_tracker@entry=0x7fdfe3ebc1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfe3ebc1e0, pmtime=pmtime@entry=0x7fdfe3ebc180, pattrs=pattrs@entry=0x7fdfe3ebd3c8, cache_info=cache_info@entry=0x7fdfe3ebc1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfe3ebc1e0, pmtime=pmtime@entry=0x7fdfe3ebc180, pattrs=pattrs@entry=0x7fdfe3ebd3c8, cache_info=cache_info@entry=0x7fdfe3ebc1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfe3ebd3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfe3ebd0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bece5c0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ba9ac80, client_io=client_io@entry=0x7fdfe3ebd710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ba9ac80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ba9ac80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a040) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 188 (Thread 0x7fdfe36be700 (LWP 137215)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfe36ba6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfe36ba6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfe36ba898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfe36ba8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfe36ba9d0, bucket=bucket@entry=0x7fdfe36baa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf80567b18, pmtime=0x7fdf80567b20, epoch=0x7fdf80567b28, attrs=0x7fdf80567f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe36bb4c0, obj=..., state=state@entry=0x7fdfe36bad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe36bb4c0, obj=..., state=state@entry=0x7fdfe36bad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfe36bb4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe36baf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfe36bb4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfe36bc0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfe36bc0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc480, client_io=client_io@entry=0x7fdfe36bc710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc480) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc480) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a0a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 187 (Thread 0x7fdfe2ebd700 (LWP 137216)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfe2eb96c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfe2eb96c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfe2eb9898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfe2eb98c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfe2eb99d0, bucket=bucket@entry=0x7fdfe2eb9a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf80162b18, pmtime=0x7fdf80162b20, epoch=0x7fdf80162b28, attrs=0x7fdf80162f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe2eba4c0, obj=..., state=state@entry=0x7fdfe2eb9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe2eba4c0, obj=..., state=state@entry=0x7fdfe2eb9d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfe2eba4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe2eb9f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfe2eba4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfe2ebb0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfe2ebb0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb440, client_io=client_io@entry=0x7fdfe2ebb710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb440) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb440) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a100) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 186 (Thread 0x7fdfe26bc700 (LWP 137217)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfe26b86c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfe26b86c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfe26b8898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfe26b88c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfe26b89d0, bucket=bucket@entry=0x7fdfe26b8a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7fd6db18, pmtime=0x7fdf7fd6db20, epoch=0x7fdf7fd6db28, attrs=0x7fdf7fd6df58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe26b94c0, obj=..., state=state@entry=0x7fdfe26b8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe26b94c0, obj=..., state=state@entry=0x7fdfe26b8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfe26b94b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe26b8f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfe26b94b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfe26ba0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfe26ba0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce6c0, client_io=client_io@entry=0x7fdfe26ba710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce6c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce6c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a160) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 185 (Thread 0x7fdfe1ebb700 (LWP 137218)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfe1eb71a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfe1eb71a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7f810b00, sul=..., ptid=ptid@entry=0x7fdfe1eb73c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7f810b00, sul=..., ptid=ptid@entry=0x7fdfe1eb73c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7f810b00, ptid=0x7fdfe1eb73c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fd400, oid=..., o=0x7fe0fae8ea80, pbl=pbl@entry=0x7fdfe1eb77e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfe1eb7760, oid="test1", o=o@entry=0x7fdfe1eb7740, pbl=pbl@entry=0x7fdfe1eb77e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7f967b18, pmtime=0x7fdf7f967b20, epoch=0x7fdf7f967b28, attrs=0x7fdf7f967f58, first_chunk=0x0, objv_tracker=0x7fdfe1eb81e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe1eb9620, obj=..., state=state@entry=0x7fdfe1eb7aa8, objv_tracker=objv_tracker@entry=0x7fdfe1eb81e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe1eb9620, obj=..., state=state@entry=0x7fdfe1eb7aa8, objv_tracker=objv_tracker@entry=0x7fdfe1eb81e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfe1eb93c8, lastmod=0x7fdfe1eb8180, obj_size=0x0, objv_tracker=0x7fdfe1eb81e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe1eb7cb0, objv_tracker=objv_tracker@entry=0x7fdfe1eb81e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfe1eb81e0, pmtime=pmtime@entry=0x7fdfe1eb8180, pattrs=pattrs@entry=0x7fdfe1eb93c8, cache_info=cache_info@entry=0x7fdfe1eb81b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfe1eb81e0, pmtime=pmtime@entry=0x7fdfe1eb8180, pattrs=pattrs@entry=0x7fdfe1eb93c8, cache_info=cache_info@entry=0x7fdfe1eb81b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfe1eb93c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfe1eb90e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7a41eae0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722cc00, client_io=client_io@entry=0x7fdfe1eb9710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722cc00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722cc00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a1c0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 184 (Thread 0x7fdfe16ba700 (LWP 137219)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfe16b66c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfe16b66c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfe16b6898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfe16b68c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfe16b69d0, bucket=bucket@entry=0x7fdfe16b6a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7f567b18, pmtime=0x7fdf7f567b20, epoch=0x7fdf7f567b28, attrs=0x7fdf7f567f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe16b74c0, obj=..., state=state@entry=0x7fdfe16b6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe16b74c0, obj=..., state=state@entry=0x7fdfe16b6d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfe16b74b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe16b6f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfe16b74b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfe16b80e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfe16b80e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8980, client_io=client_io@entry=0x7fdfe16b8710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8980) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8980) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a220) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 183 (Thread 0x7fdfe0eb9700 (LWP 137220)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfe0eb56c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfe0eb56c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfe0eb5898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfe0eb58c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfe0eb59d0, bucket=bucket@entry=0x7fdfe0eb5a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7f166518, pmtime=0x7fdf7f166520, epoch=0x7fdf7f166528, attrs=0x7fdf7f166958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe0eb64c0, obj=..., state=state@entry=0x7fdfe0eb5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe0eb64c0, obj=..., state=state@entry=0x7fdfe0eb5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfe0eb64b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe0eb5f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfe0eb64b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfe0eb70e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfe0eb70e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8180, client_io=client_io@entry=0x7fdfe0eb7710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8180) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8180) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a280) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 182 (Thread 0x7fdfe06b8700 (LWP 137221)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfe06b4650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733f1e00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfe06b4880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfe06b4800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfe06b47e0, pbl=pbl@entry=0x7fdfe06b4880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7ed68518, pmtime=0x7fdf7ed68520, epoch=0x7fdf7ed68528, attrs=0x7fdf7ed68958, first_chunk=0x0, objv_tracker=0x7fdfe06b53d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfe06b6620, obj=..., state=state@entry=0x7fdfe06b4b48, objv_tracker=objv_tracker@entry=0x7fdfe06b53d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfe06b6620, obj=..., state=state@entry=0x7fdfe06b4b48, objv_tracker=objv_tracker@entry=0x7fdfe06b53d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfe06b54b8, lastmod=0x7fdfe06b54b0, obj_size=0x0, objv_tracker=0x7fdfe06b53d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfe06b4d50, objv_tracker=objv_tracker@entry=0x7fdfe06b53d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfe06b53d8, pmtime=pmtime@entry=0x7fdfe06b54b0, pattrs=pattrs@entry=0x7fdfe06b54b8, cache_info=cache_info@entry=0x7fdfe06b51c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfe06b54b0, pattrs=pattrs@entry=0x7fdfe06b54b8, cache_info=cache_info@entry=0x7fdfe06b51c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfe06b63c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfe06b60e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bfd6160) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35af80, client_io=client_io@entry=0x7fdfe06b6710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35af80) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35af80) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a2e0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 181 (Thread 0x7fdfdfeb7700 (LWP 137222)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfdfeb3650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733eba00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfdfeb3880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfdfeb3800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfdfeb37e0, pbl=pbl@entry=0x7fdfdfeb3880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7e963518, pmtime=0x7fdf7e963520, epoch=0x7fdf7e963528, attrs=0x7fdf7e963958, first_chunk=0x0, objv_tracker=0x7fdfdfeb43d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfdfeb5620, obj=..., state=state@entry=0x7fdfdfeb3b48, objv_tracker=objv_tracker@entry=0x7fdfdfeb43d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfdfeb5620, obj=..., state=state@entry=0x7fdfdfeb3b48, objv_tracker=objv_tracker@entry=0x7fdfdfeb43d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfdfeb44b8, lastmod=0x7fdfdfeb44b0, obj_size=0x0, objv_tracker=0x7fdfdfeb43d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfdfeb3d50, objv_tracker=objv_tracker@entry=0x7fdfdfeb43d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfdfeb43d8, pmtime=pmtime@entry=0x7fdfdfeb44b0, pattrs=pattrs@entry=0x7fdfdfeb44b8, cache_info=cache_info@entry=0x7fdfdfeb41c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfdfeb44b0, pattrs=pattrs@entry=0x7fdfdfeb44b8, cache_info=cache_info@entry=0x7fdfdfeb41c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfdfeb53c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfdfeb50e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c352da0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35ae80, client_io=client_io@entry=0x7fdfdfeb5710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35ae80) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35ae80) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a340) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 180 (Thread 0x7fdfdf6b6700 (LWP 137223)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfdf6b26c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfdf6b26c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfdf6b2898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfdf6b28c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfdf6b29d0, bucket=bucket@entry=0x7fdfdf6b2a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7e567518, pmtime=0x7fdf7e567520, epoch=0x7fdf7e567528, attrs=0x7fdf7e567958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfdf6b34c0, obj=..., state=state@entry=0x7fdfdf6b2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfdf6b34c0, obj=..., state=state@entry=0x7fdfdf6b2d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfdf6b34b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfdf6b2f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfdf6b34b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfdf6b40e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfdf6b40e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce840, client_io=client_io@entry=0x7fdfdf6b4710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce840) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce840) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a3a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 179 (Thread 0x7fdfdeeb5700 (LWP 137224)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfdeeb1850) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73377a00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfdeeb1a80, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfdeeb1a00, oid="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3_100w_512K2280", o=o@entry=0x7fdfdeeb19e0, pbl=pbl@entry=0x7fdfdeeb1a80) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=this@entry=0x7fe0fad50c00, obj=..., psize=psize@entry=0x7fdf7e089918, pmtime=pmtime@entry=0x7fdf7e089920, epoch=epoch@entry=0x7fdf7e089928, attrs=attrs@entry=0x7fdf7e089d58, first_chunk=0x0, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10bab7456 in RGWRados::get_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfdeeb3620, obj=..., state=state@entry=0x7fdfdeeb2028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8375
#6  0x00007fe10bab8b84 in RGWRados::get_obj_state (this=0x7fe0fad50c00, rctx=0x7fdfdeeb3620, obj=..., state=state@entry=0x7fdfdeeb2028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8491
#7  0x00007fe10babb2a0 in RGWRados::Object::get_state (this=<optimized out>, pstate=pstate@entry=0x7fdfdeeb2028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8649
#8  0x00007fe10bac1939 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfdeeb2500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6227
#9  0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf7e2c9400, etag=..., mtime=0x7fdf7e248768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#10 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf7e2c9400, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#11 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf7e248400) at rgw/rgw_op.cc:2877
#12 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a380, client_io=client_io@entry=0x7fdfdeeb3710, olog=0x0) at rgw/rgw_process.cc:174
#13 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a380) at rgw/rgw_fcgi_process.cc:121
#14 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a380) at rgw/rgw_process.h:84
#15 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a400) at common/WorkQueue.cc:128
#16 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#17 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#18 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 178 (Thread 0x7fdfde6b4700 (LWP 137225)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfde6b0950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73378c00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fdfde6b0d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfde6b0ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fdfde6b11c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fdfde6b0d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdfde6b13d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfde6b13d8, pmtime=pmtime@entry=0x7fdfde6b14b0, pattrs=pattrs@entry=0x7fdfde6b14b8, cache_info=cache_info@entry=0x7fdfde6b11c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfde6b14b0, pattrs=pattrs@entry=0x7fdfde6b14b8, cache_info=cache_info@entry=0x7fdfde6b11c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfde6b23c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfde6b20e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf79f56d20) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79d306c0, client_io=client_io@entry=0x7fdfde6b2710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79d306c0) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79d306c0) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a460) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 177 (Thread 0x7fdfddeb3700 (LWP 137226)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfddeaf6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfddeaf6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfddeaf898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfddeaf8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfddeaf9d0, bucket=bucket@entry=0x7fdfddeafa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7d91eb18, pmtime=0x7fdf7d91eb20, epoch=0x7fdf7d91eb28, attrs=0x7fdf7d91ef58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfddeb04c0, obj=..., state=state@entry=0x7fdfddeafd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfddeb04c0, obj=..., state=state@entry=0x7fdfddeafd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfddeb04b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfddeaff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfddeb04b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfddeb10e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfddeb10e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc600, client_io=client_io@entry=0x7fdfddeb1710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc600) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc600) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a4c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 176 (Thread 0x7fdfdd6b2700 (LWP 137227)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfdd6ae6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfdd6ae6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfdd6ae898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfdd6ae8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfdd6ae9d0, bucket=bucket@entry=0x7fdfdd6aea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7d56a518, pmtime=0x7fdf7d56a520, epoch=0x7fdf7d56a528, attrs=0x7fdf7d56a958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfdd6af4c0, obj=..., state=state@entry=0x7fdfdd6aed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfdd6af4c0, obj=..., state=state@entry=0x7fdfdd6aed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfdd6af4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfdd6aef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfdd6af4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfdd6b00e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfdd6b00e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8ff00, client_io=client_io@entry=0x7fdfdd6b0710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8ff00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8ff00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a520) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 175 (Thread 0x7fdfdceb1700 (LWP 137228)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfdcead6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfdcead6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfdcead898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfdcead8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfdcead9d0, bucket=bucket@entry=0x7fdfdceada20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7d166b18, pmtime=0x7fdf7d166b20, epoch=0x7fdf7d166b28, attrs=0x7fdf7d166f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfdceae4c0, obj=..., state=state@entry=0x7fdfdceadd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfdceae4c0, obj=..., state=state@entry=0x7fdfdceadd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfdceae4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfdceadf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfdceae4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfdceaf0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfdceaf0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f2c0, client_io=client_io@entry=0x7fdfdceaf710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f2c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f2c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a580) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 174 (Thread 0x7fdfdc6b0700 (LWP 137229)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfdc6ac1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfdc6ac1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7cc4ca80, sul=..., ptid=ptid@entry=0x7fdfdc6ac3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7cc4ca80, sul=..., ptid=ptid@entry=0x7fdfdc6ac3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7cc4ca80, ptid=0x7fdfdc6ac3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf55e26800, oid=..., o=0x7fe0ee8fee00, pbl=pbl@entry=0x7fdfdc6ac7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfdc6ac760, oid="test1", o=o@entry=0x7fdfdc6ac740, pbl=pbl@entry=0x7fdfdc6ac7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7cd69518, pmtime=0x7fdf7cd69520, epoch=0x7fdf7cd69528, attrs=0x7fdf7cd69958, first_chunk=0x0, objv_tracker=0x7fdfdc6ad1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfdc6ae620, obj=..., state=state@entry=0x7fdfdc6acaa8, objv_tracker=objv_tracker@entry=0x7fdfdc6ad1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfdc6ae620, obj=..., state=state@entry=0x7fdfdc6acaa8, objv_tracker=objv_tracker@entry=0x7fdfdc6ad1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfdc6ae3c8, lastmod=0x7fdfdc6ad180, obj_size=0x0, objv_tracker=0x7fdfdc6ad1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfdc6accb0, objv_tracker=objv_tracker@entry=0x7fdfdc6ad1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfdc6ad1e0, pmtime=pmtime@entry=0x7fdfdc6ad180, pattrs=pattrs@entry=0x7fdfdc6ae3c8, cache_info=cache_info@entry=0x7fdfdc6ad1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfdc6ad1e0, pmtime=pmtime@entry=0x7fdfdc6ad180, pattrs=pattrs@entry=0x7fdfdc6ae3c8, cache_info=cache_info@entry=0x7fdfdc6ad1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfdc6ae3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfdc6ae0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c715e660) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bd9ef40, client_io=client_io@entry=0x7fdfdc6ae710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bd9ef40) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bd9ef40) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a5e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 173 (Thread 0x7fdfdbeaf700 (LWP 137230)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfdbeab6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfdbeab6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfdbeab898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfdbeab8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfdbeab9d0, bucket=bucket@entry=0x7fdfdbeaba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0faf6a518, pmtime=0x7fe0faf6a520, epoch=0x7fe0faf6a528, attrs=0x7fe0faf6a958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfdbeac4c0, obj=..., state=state@entry=0x7fdfdbeabd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfdbeac4c0, obj=..., state=state@entry=0x7fdfdbeabd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfdbeac4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfdbeabf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfdbeac4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfdbead0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfdbead0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8200, client_io=client_io@entry=0x7fdfdbead710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8200) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8200) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a640) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 172 (Thread 0x7fdfdb6ae700 (LWP 137231)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfdb6aa6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfdb6aa6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfdb6aa898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfdb6aa8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfdb6aa9d0, bucket=bucket@entry=0x7fdfdb6aaa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f7d70b18, pmtime=0x7fe0f7d70b20, epoch=0x7fe0f7d70b28, attrs=0x7fe0f7d70f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfdb6ab4c0, obj=..., state=state@entry=0x7fdfdb6aad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfdb6ab4c0, obj=..., state=state@entry=0x7fdfdb6aad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfdb6ab4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfdb6aaf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfdb6ab4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfdb6ac0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfdb6ac0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb9c0, client_io=client_io@entry=0x7fdfdb6ac710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb9c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb9c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a6a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 171 (Thread 0x7fdfdaead700 (LWP 137232)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfdaea91a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfdaea91a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f4445c80, sul=..., ptid=ptid@entry=0x7fdfdaea93c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f4445c80, sul=..., ptid=ptid@entry=0x7fdfdaea93c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0f4445c80, ptid=0x7fdfdaea93c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb716e00, oid=..., o=0x7fdf7265bf00, pbl=pbl@entry=0x7fdfdaea97e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfdaea9760, oid="test1", o=o@entry=0x7fdfdaea9740, pbl=pbl@entry=0x7fdfdaea97e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f458db18, pmtime=0x7fe0f458db20, epoch=0x7fe0f458db28, attrs=0x7fe0f458df58, first_chunk=0x0, objv_tracker=0x7fdfdaeaa1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfdaeab620, obj=..., state=state@entry=0x7fdfdaea9aa8, objv_tracker=objv_tracker@entry=0x7fdfdaeaa1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfdaeab620, obj=..., state=state@entry=0x7fdfdaea9aa8, objv_tracker=objv_tracker@entry=0x7fdfdaeaa1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfdaeab3c8, lastmod=0x7fdfdaeaa180, obj_size=0x0, objv_tracker=0x7fdfdaeaa1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfdaea9cb0, objv_tracker=objv_tracker@entry=0x7fdfdaeaa1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfdaeaa1e0, pmtime=pmtime@entry=0x7fdfdaeaa180, pattrs=pattrs@entry=0x7fdfdaeab3c8, cache_info=cache_info@entry=0x7fdfdaeaa1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfdaeaa1e0, pmtime=pmtime@entry=0x7fdfdaeaa180, pattrs=pattrs@entry=0x7fdfdaeab3c8, cache_info=cache_info@entry=0x7fdfdaeaa1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfdaeab3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfdaeab0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c869060) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a95f340, client_io=client_io@entry=0x7fdfdaeab710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a95f340) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a95f340) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a700) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 170 (Thread 0x7fdfda6ac700 (LWP 137233)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfda6a86c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfda6a86c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfda6a8898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfda6a88c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfda6a89d0, bucket=bucket@entry=0x7fdfda6a8a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f419e518, pmtime=0x7fe0f419e520, epoch=0x7fe0f419e528, attrs=0x7fe0f419e958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfda6a94c0, obj=..., state=state@entry=0x7fdfda6a8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfda6a94c0, obj=..., state=state@entry=0x7fdfda6a8d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfda6a94b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfda6a8f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfda6a94b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfda6aa0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfda6aa0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfab00, client_io=client_io@entry=0x7fdfda6aa710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfab00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfab00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a760) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 169 (Thread 0x7fdfd9eab700 (LWP 137234)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfd9ea76c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfd9ea76c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfd9ea7898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfd9ea78c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfd9ea79d0, bucket=bucket@entry=0x7fdfd9ea7a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f3d8fb18, pmtime=0x7fe0f3d8fb20, epoch=0x7fe0f3d8fb28, attrs=0x7fe0f3d8ff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd9ea84c0, obj=..., state=state@entry=0x7fdfd9ea7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd9ea84c0, obj=..., state=state@entry=0x7fdfd9ea7d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfd9ea84b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd9ea7f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfd9ea84b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfd9ea90e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfd9ea90e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dcb00, client_io=client_io@entry=0x7fdfd9ea9710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dcb00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dcb00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a7c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 168 (Thread 0x7fdfd96aa700 (LWP 137235)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fac2f0a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0fac2f018) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfd96a6120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfd96a6120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf6ac7db00, sul=..., ptid=ptid@entry=0x7fdfd96a6348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf6ac7db00, sul=..., ptid=ptid@entry=0x7fdfd96a6348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf6ac7db00, ptid=0x7fdfd96a6348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf773cb800, oid=..., o=0x7fe0ec967c00, pbl=pbl@entry=0x7fdfd96a6760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfd96a66e0, oid="system.user", o=o@entry=0x7fdfd96a66c0, pbl=pbl@entry=0x7fdfd96a6760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f1571518, pmtime=0x7fe0f1571520, epoch=0x7fe0f1571528, attrs=0x7fe0f1571958, first_chunk=0x0, objv_tracker=0x7fdfd96a7498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd96a6ff0, obj=..., state=state@entry=0x7fdfd96a6a28, objv_tracker=objv_tracker@entry=0x7fdfd96a7498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd96a6ff0, obj=..., state=state@entry=0x7fdfd96a6a28, objv_tracker=objv_tracker@entry=0x7fdfd96a7498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfd96a7498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd96a6c30, objv_tracker=objv_tracker@entry=0x7fdfd96a7498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="system.user", bl=..., objv_tracker=objv_tracker@entry=0x7fdfd96a7498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fdfd96a7150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fdfd96a7498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fdfd96a7150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfd96a80e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfd96a80e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c080, client_io=client_io@entry=0x7fdfd96a8710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c080) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c080) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a820) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 167 (Thread 0x7fdfd8ea9700 (LWP 137236)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfd8ea56c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfd8ea56c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfd8ea5898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfd8ea58c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfd8ea59d0, bucket=bucket@entry=0x7fdfd8ea5a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f117c518, pmtime=0x7fe0f117c520, epoch=0x7fe0f117c528, attrs=0x7fe0f117c958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd8ea64c0, obj=..., state=state@entry=0x7fdfd8ea5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd8ea64c0, obj=..., state=state@entry=0x7fdfd8ea5d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfd8ea64b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd8ea5f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfd8ea64b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfd8ea70e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfd8ea70e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f240, client_io=client_io@entry=0x7fdfd8ea7710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f240) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f240) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a880) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 166 (Thread 0x7fdfd86a8700 (LWP 137237)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfd86a46c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfd86a46c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfd86a4898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfd86a48c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfd86a49d0, bucket=bucket@entry=0x7fdfd86a4a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f0da5b18, pmtime=0x7fe0f0da5b20, epoch=0x7fe0f0da5b28, attrs=0x7fe0f0da5f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd86a54c0, obj=..., state=state@entry=0x7fdfd86a4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd86a54c0, obj=..., state=state@entry=0x7fdfd86a4d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfd86a54b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd86a4f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfd86a54b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfd86a60e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfd86a60e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd480, client_io=client_io@entry=0x7fdfd86a6710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd480) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd480) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a8e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 165 (Thread 0x7fdfd7ea7700 (LWP 137238)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfd7ea3650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf76feac00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfd7ea3880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfd7ea3800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfd7ea37e0, pbl=pbl@entry=0x7fdfd7ea3880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f097b518, pmtime=0x7fe0f097b520, epoch=0x7fe0f097b528, attrs=0x7fe0f097b958, first_chunk=0x0, objv_tracker=0x7fdfd7ea43d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd7ea5620, obj=..., state=state@entry=0x7fdfd7ea3b48, objv_tracker=objv_tracker@entry=0x7fdfd7ea43d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd7ea5620, obj=..., state=state@entry=0x7fdfd7ea3b48, objv_tracker=objv_tracker@entry=0x7fdfd7ea43d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfd7ea44b8, lastmod=0x7fdfd7ea44b0, obj_size=0x0, objv_tracker=0x7fdfd7ea43d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd7ea3d50, objv_tracker=objv_tracker@entry=0x7fdfd7ea43d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfd7ea43d8, pmtime=pmtime@entry=0x7fdfd7ea44b0, pattrs=pattrs@entry=0x7fdfd7ea44b8, cache_info=cache_info@entry=0x7fdfd7ea41c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfd7ea44b0, pattrs=pattrs@entry=0x7fdfd7ea44b8, cache_info=cache_info@entry=0x7fdfd7ea41c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfd7ea53c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfd7ea50e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b8aa6a0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35ad80, client_io=client_io@entry=0x7fdfd7ea5710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35ad80) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35ad80) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a940) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 164 (Thread 0x7fdfd76a6700 (LWP 137239)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfd76a2650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0e9cf5a00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfd76a2880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfd76a2800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfd76a27e0, pbl=pbl@entry=0x7fdfd76a2880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f05ab518, pmtime=0x7fe0f05ab520, epoch=0x7fe0f05ab528, attrs=0x7fe0f05ab958, first_chunk=0x0, objv_tracker=0x7fdfd76a33d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd76a4620, obj=..., state=state@entry=0x7fdfd76a2b48, objv_tracker=objv_tracker@entry=0x7fdfd76a33d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd76a4620, obj=..., state=state@entry=0x7fdfd76a2b48, objv_tracker=objv_tracker@entry=0x7fdfd76a33d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfd76a34b8, lastmod=0x7fdfd76a34b0, obj_size=0x0, objv_tracker=0x7fdfd76a33d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd76a2d50, objv_tracker=objv_tracker@entry=0x7fdfd76a33d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfd76a33d8, pmtime=pmtime@entry=0x7fdfd76a34b0, pattrs=pattrs@entry=0x7fdfd76a34b8, cache_info=cache_info@entry=0x7fdfd76a31c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfd76a34b0, pattrs=pattrs@entry=0x7fdfd76a34b8, cache_info=cache_info@entry=0x7fdfd76a31c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfd76a43c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfd76a40e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b48f3a0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ca8ef80, client_io=client_io@entry=0x7fdfd76a4710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ca8ef80) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ca8ef80) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706a9a0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 163 (Thread 0x7fdfd6ea5700 (LWP 137240)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfd6ea1440) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfd6ea1440) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cac62300, sul=..., ptid=ptid@entry=0x7fdfd6ea1668) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cac62300, sul=..., ptid=ptid@entry=0x7fdfd6ea1668, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0cac62300, ptid=0x7fdfd6ea1668, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf73377400, oid=..., o=0x7fdf82067a00, pbl=pbl@entry=0x7fdfd6ea1a80, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfd6ea1a00, oid="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3_100w_512K2276", o=o@entry=0x7fdfd6ea19e0, pbl=pbl@entry=0x7fdfd6ea1a80) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=this@entry=0x7fe0fad50c00, obj=..., psize=psize@entry=0x7fe0f00a9b18, pmtime=pmtime@entry=0x7fe0f00a9b20, epoch=epoch@entry=0x7fe0f00a9b28, attrs=attrs@entry=0x7fe0f00a9f58, first_chunk=0x0, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10bab7456 in RGWRados::get_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd6ea3620, obj=..., state=state@entry=0x7fdfd6ea2028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8375
#12 0x00007fe10bab8b84 in RGWRados::get_obj_state (this=0x7fe0fad50c00, rctx=0x7fdfd6ea3620, obj=..., state=state@entry=0x7fdfd6ea2028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8491
#13 0x00007fe10babb2a0 in RGWRados::Object::get_state (this=<optimized out>, pstate=pstate@entry=0x7fdfd6ea2028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8649
#14 0x00007fe10bac1939 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfd6ea2500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6227
#15 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0f0221400, etag=..., mtime=0x7fe0f032e768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#16 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0f0221400, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#17 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0f032e400) at rgw/rgw_op.cc:2877
#18 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ba6d600, client_io=client_io@entry=0x7fdfd6ea3710, olog=0x0) at rgw/rgw_process.cc:174
#19 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ba6d600) at rgw/rgw_fcgi_process.cc:121
#20 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ba6d600) at rgw/rgw_process.h:84
#21 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706aa00) at common/WorkQueue.cc:128
#22 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#23 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#24 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 162 (Thread 0x7fdfd66a4700 (LWP 137241)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfd66a06c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfd66a06c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfd66a0898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfd66a08c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfd66a09d0, bucket=bucket@entry=0x7fdfd66a0a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0efd9db18, pmtime=0x7fe0efd9db20, epoch=0x7fe0efd9db28, attrs=0x7fe0efd9df58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd66a14c0, obj=..., state=state@entry=0x7fdfd66a0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd66a14c0, obj=..., state=state@entry=0x7fdfd66a0d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfd66a14b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd66a0f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfd66a14b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfd66a20e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfd66a20e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb3c0, client_io=client_io@entry=0x7fdfd66a2710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb3c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb3c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706aa60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 161 (Thread 0x7fdfd5ea3700 (LWP 137242)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfd5e9f1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfd5e9f1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ef834400, sul=..., ptid=ptid@entry=0x7fdfd5e9f3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ef834400, sul=..., ptid=ptid@entry=0x7fdfd5e9f3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ef834400, ptid=0x7fdfd5e9f3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c3e00, oid=..., o=0x7fe0ed57d280, pbl=pbl@entry=0x7fdfd5e9f7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfd5e9f760, oid="test1", o=o@entry=0x7fdfd5e9f740, pbl=pbl@entry=0x7fdfd5e9f7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ef984b18, pmtime=0x7fe0ef984b20, epoch=0x7fe0ef984b28, attrs=0x7fe0ef984f58, first_chunk=0x0, objv_tracker=0x7fdfd5ea01e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd5ea1620, obj=..., state=state@entry=0x7fdfd5e9faa8, objv_tracker=objv_tracker@entry=0x7fdfd5ea01e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd5ea1620, obj=..., state=state@entry=0x7fdfd5e9faa8, objv_tracker=objv_tracker@entry=0x7fdfd5ea01e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfd5ea13c8, lastmod=0x7fdfd5ea0180, obj_size=0x0, objv_tracker=0x7fdfd5ea01e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd5e9fcb0, objv_tracker=objv_tracker@entry=0x7fdfd5ea01e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfd5ea01e0, pmtime=pmtime@entry=0x7fdfd5ea0180, pattrs=pattrs@entry=0x7fdfd5ea13c8, cache_info=cache_info@entry=0x7fdfd5ea01b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfd5ea01e0, pmtime=pmtime@entry=0x7fdfd5ea0180, pattrs=pattrs@entry=0x7fdfd5ea13c8, cache_info=cache_info@entry=0x7fdfd5ea01b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfd5ea13c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfd5ea10e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c8ad580) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a61f0c0, client_io=client_io@entry=0x7fdfd5ea1710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a61f0c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a61f0c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706aac0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 160 (Thread 0x7fdfd56a2700 (LWP 137243)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfd569dde0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7852ce00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfd569e010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfd569df90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfd569df70, pbl=pbl@entry=0x7fdfd569e010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ef433b18, pmtime=0x7fe0ef433b20, epoch=0x7fe0ef433b28, attrs=0x7fe0ef433f58, first_chunk=0x0, objv_tracker=0x7fdfd569eab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd569eb90, obj=..., state=state@entry=0x7fdfd569e2d8, objv_tracker=objv_tracker@entry=0x7fdfd569eab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd569eb90, obj=..., state=state@entry=0x7fdfd569e2d8, objv_tracker=objv_tracker@entry=0x7fdfd569eab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfd569eab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd569e4e0, objv_tracker=objv_tracker@entry=0x7fdfd569eab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfd569eab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2255", bucket_obj=bucket_obj@entry=0x7fdfd569f210, shard_id=shard_id@entry=0x7fdfd569f200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdfd569f1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdfd569f120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdfd569f120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfd569f500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf765a9800, etag=..., mtime=0x7fe0ef66e768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf765a9800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0ef66e400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf780f21c0, client_io=client_io@entry=0x7fdfd56a0710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf780f21c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf780f21c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706ab20) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 159 (Thread 0x7fdfd4ea1700 (LWP 137244)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfd4e9d1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfd4e9d1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eec46900, sul=..., ptid=ptid@entry=0x7fdfd4e9d3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eec46900, sul=..., ptid=ptid@entry=0x7fdfd4e9d3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0eec46900, ptid=0x7fdfd4e9d3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb66d400, oid=..., o=0x7fe0e9c30880, pbl=pbl@entry=0x7fdfd4e9d7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfd4e9d760, oid="test1", o=o@entry=0x7fdfd4e9d740, pbl=pbl@entry=0x7fdfd4e9d7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0eed83518, pmtime=0x7fe0eed83520, epoch=0x7fe0eed83528, attrs=0x7fe0eed83958, first_chunk=0x0, objv_tracker=0x7fdfd4e9e1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd4e9f620, obj=..., state=state@entry=0x7fdfd4e9daa8, objv_tracker=objv_tracker@entry=0x7fdfd4e9e1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd4e9f620, obj=..., state=state@entry=0x7fdfd4e9daa8, objv_tracker=objv_tracker@entry=0x7fdfd4e9e1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfd4e9f3c8, lastmod=0x7fdfd4e9e180, obj_size=0x0, objv_tracker=0x7fdfd4e9e1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd4e9dcb0, objv_tracker=objv_tracker@entry=0x7fdfd4e9e1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfd4e9e1e0, pmtime=pmtime@entry=0x7fdfd4e9e180, pattrs=pattrs@entry=0x7fdfd4e9f3c8, cache_info=cache_info@entry=0x7fdfd4e9e1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfd4e9e1e0, pmtime=pmtime@entry=0x7fdfd4e9e180, pattrs=pattrs@entry=0x7fdfd4e9f3c8, cache_info=cache_info@entry=0x7fdfd4e9e1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfd4e9f3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfd4e9f0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b86f600) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c780, client_io=client_io@entry=0x7fdfd4e9f710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c780) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c780) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706ab80) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 158 (Thread 0x7fdfd46a0700 (LWP 137245)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfd469c5b0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0eb6eea00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfd469c7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfd469c760, oid="test1", o=o@entry=0x7fdfd469c740, pbl=pbl@entry=0x7fdfd469c7e0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ee9b0b18, pmtime=0x7fe0ee9b0b20, epoch=0x7fe0ee9b0b28, attrs=0x7fe0ee9b0f58, first_chunk=0x0, objv_tracker=0x7fdfd469d1e0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd469e620, obj=..., state=state@entry=0x7fdfd469caa8, objv_tracker=objv_tracker@entry=0x7fdfd469d1e0) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd469e620, obj=..., state=state@entry=0x7fdfd469caa8, objv_tracker=objv_tracker@entry=0x7fdfd469d1e0) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfd469e3c8, lastmod=0x7fdfd469d180, obj_size=0x0, objv_tracker=0x7fdfd469d1e0) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd469ccb0, objv_tracker=objv_tracker@entry=0x7fdfd469d1e0) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfd469d1e0, pmtime=pmtime@entry=0x7fdfd469d180, pattrs=pattrs@entry=0x7fdfd469e3c8, cache_info=cache_info@entry=0x7fdfd469d1b0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfd469d1e0, pmtime=pmtime@entry=0x7fdfd469d180, pattrs=pattrs@entry=0x7fdfd469e3c8, cache_info=cache_info@entry=0x7fdfd469d1b0) at rgw/rgw_rados.cc:10991
#11 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfd469e3c8) at rgw/rgw_rados.cc:11066
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfd469e0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c1f5e60) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35ac00, client_io=client_io@entry=0x7fdfd469e710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35ac00) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35ac00) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706abe0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 157 (Thread 0x7fdfd3e9f700 (LWP 137246)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfd3e9b6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfd3e9b6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfd3e9b898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfd3e9b8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfd3e9b9d0, bucket=bucket@entry=0x7fdfd3e9ba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ee578b18, pmtime=0x7fe0ee578b20, epoch=0x7fe0ee578b28, attrs=0x7fe0ee578f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd3e9c4c0, obj=..., state=state@entry=0x7fdfd3e9bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd3e9c4c0, obj=..., state=state@entry=0x7fdfd3e9bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfd3e9c4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd3e9bf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfd3e9c4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfd3e9d0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfd3e9d0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dcf00, client_io=client_io@entry=0x7fdfd3e9d710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dcf00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dcf00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706ac40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 156 (Thread 0x7fdfd369e700 (LWP 137247)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfd369a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfd369a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfd369a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfd369a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfd369a9d0, bucket=bucket@entry=0x7fdfd369aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0eddb5b18, pmtime=0x7fe0eddb5b20, epoch=0x7fe0eddb5b28, attrs=0x7fe0eddb5f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd369b4c0, obj=..., state=state@entry=0x7fdfd369ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd369b4c0, obj=..., state=state@entry=0x7fdfd369ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfd369b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd369af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfd369b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfd369c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfd369c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ab85340, client_io=client_io@entry=0x7fdfd369c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ab85340) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ab85340) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706aca0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 155 (Thread 0x7fdfd2e9d700 (LWP 137248)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfd2e996c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfd2e996c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfd2e99898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfd2e998c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfd2e999d0, bucket=bucket@entry=0x7fdfd2e99a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ed982b18, pmtime=0x7fe0ed982b20, epoch=0x7fe0ed982b28, attrs=0x7fe0ed982f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd2e9a4c0, obj=..., state=state@entry=0x7fdfd2e99d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd2e9a4c0, obj=..., state=state@entry=0x7fdfd2e99d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfd2e9a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd2e99f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfd2e9a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfd2e9b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfd2e9b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8940, client_io=client_io@entry=0x7fdfd2e9b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8940) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8940) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706ad00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 154 (Thread 0x7fdfd269c700 (LWP 137249)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfd26981a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfd26981a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ed455980, sul=..., ptid=ptid@entry=0x7fdfd26983c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ed455980, sul=..., ptid=ptid@entry=0x7fdfd26983c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ed455980, ptid=0x7fdfd26983c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf74413400, oid=..., o=0x7fe0f0d7ae00, pbl=pbl@entry=0x7fdfd26987e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfd2698760, oid="test1", o=o@entry=0x7fdfd2698740, pbl=pbl@entry=0x7fdfd26987e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ed5a0b18, pmtime=0x7fe0ed5a0b20, epoch=0x7fe0ed5a0b28, attrs=0x7fe0ed5a0f58, first_chunk=0x0, objv_tracker=0x7fdfd26991e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd269a620, obj=..., state=state@entry=0x7fdfd2698aa8, objv_tracker=objv_tracker@entry=0x7fdfd26991e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd269a620, obj=..., state=state@entry=0x7fdfd2698aa8, objv_tracker=objv_tracker@entry=0x7fdfd26991e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfd269a3c8, lastmod=0x7fdfd2699180, obj_size=0x0, objv_tracker=0x7fdfd26991e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd2698cb0, objv_tracker=objv_tracker@entry=0x7fdfd26991e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfd26991e0, pmtime=pmtime@entry=0x7fdfd2699180, pattrs=pattrs@entry=0x7fdfd269a3c8, cache_info=cache_info@entry=0x7fdfd26991b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfd26991e0, pmtime=pmtime@entry=0x7fdfd2699180, pattrs=pattrs@entry=0x7fdfd269a3c8, cache_info=cache_info@entry=0x7fdfd26991b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfd269a3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfd269a0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b818ec0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c72b6c40, client_io=client_io@entry=0x7fdfd269a710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c72b6c40) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c72b6c40) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706ad60) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 153 (Thread 0x7fdfd1e9b700 (LWP 137250)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfd1e976c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfd1e976c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfd1e97898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfd1e978c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfd1e979d0, bucket=bucket@entry=0x7fdfd1e97a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ecd7db18, pmtime=0x7fe0ecd7db20, epoch=0x7fe0ecd7db28, attrs=0x7fe0ecd7df58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd1e984c0, obj=..., state=state@entry=0x7fdfd1e97d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd1e984c0, obj=..., state=state@entry=0x7fdfd1e97d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfd1e984b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd1e97f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfd1e984b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfd1e990e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfd1e990e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d8c0, client_io=client_io@entry=0x7fdfd1e99710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d8c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d8c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706adc0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 152 (Thread 0x7fdfd169a700 (LWP 137251)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfd16961a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfd16961a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ec880680, sul=..., ptid=ptid@entry=0x7fdfd16963c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ec880680, sul=..., ptid=ptid@entry=0x7fdfd16963c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ec880680, ptid=0x7fdfd16963c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf55d20400, oid=..., o=0x7fe0ec9ef480, pbl=pbl@entry=0x7fdfd16967e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfd1696760, oid="test1", o=o@entry=0x7fdfd1696740, pbl=pbl@entry=0x7fdfd16967e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ec9b4518, pmtime=0x7fe0ec9b4520, epoch=0x7fe0ec9b4528, attrs=0x7fe0ec9b4958, first_chunk=0x0, objv_tracker=0x7fdfd16971e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd1698620, obj=..., state=state@entry=0x7fdfd1696aa8, objv_tracker=objv_tracker@entry=0x7fdfd16971e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd1698620, obj=..., state=state@entry=0x7fdfd1696aa8, objv_tracker=objv_tracker@entry=0x7fdfd16971e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfd16983c8, lastmod=0x7fdfd1697180, obj_size=0x0, objv_tracker=0x7fdfd16971e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd1696cb0, objv_tracker=objv_tracker@entry=0x7fdfd16971e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfd16971e0, pmtime=pmtime@entry=0x7fdfd1697180, pattrs=pattrs@entry=0x7fdfd16983c8, cache_info=cache_info@entry=0x7fdfd16971b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfd16971e0, pmtime=pmtime@entry=0x7fdfd1697180, pattrs=pattrs@entry=0x7fdfd16983c8, cache_info=cache_info@entry=0x7fdfd16971b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfd16983c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfd16980e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c7157500) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868400, client_io=client_io@entry=0x7fdfd1698710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868400) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868400) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706ae20) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 151 (Thread 0x7fdfd0e99700 (LWP 137252)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfd0e956c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfd0e956c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfd0e95898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfd0e958c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfd0e959d0, bucket=bucket@entry=0x7fdfd0e95a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ec581518, pmtime=0x7fe0ec581520, epoch=0x7fe0ec581528, attrs=0x7fe0ec581958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd0e964c0, obj=..., state=state@entry=0x7fdfd0e95d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd0e964c0, obj=..., state=state@entry=0x7fdfd0e95d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfd0e964b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd0e95f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfd0e964b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfd0e970e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfd0e970e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb8c0, client_io=client_io@entry=0x7fdfd0e97710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb8c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb8c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706ae80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 150 (Thread 0x7fdfd0698700 (LWP 137253)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfd06941a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfd06941a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ebc62d00, sul=..., ptid=ptid@entry=0x7fdfd06943c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ebc62d00, sul=..., ptid=ptid@entry=0x7fdfd06943c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ebc62d00, ptid=0x7fdfd06943c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c2000, oid=..., o=0x7fdf7cd04b00, pbl=pbl@entry=0x7fdfd06947e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfd0694760, oid="test1", o=o@entry=0x7fdfd0694740, pbl=pbl@entry=0x7fdfd06947e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ebdbc518, pmtime=0x7fe0ebdbc520, epoch=0x7fe0ebdbc528, attrs=0x7fe0ebdbc958, first_chunk=0x0, objv_tracker=0x7fdfd06951e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfd0696620, obj=..., state=state@entry=0x7fdfd0694aa8, objv_tracker=objv_tracker@entry=0x7fdfd06951e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfd0696620, obj=..., state=state@entry=0x7fdfd0694aa8, objv_tracker=objv_tracker@entry=0x7fdfd06951e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfd06963c8, lastmod=0x7fdfd0695180, obj_size=0x0, objv_tracker=0x7fdfd06951e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfd0694cb0, objv_tracker=objv_tracker@entry=0x7fdfd06951e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfd06951e0, pmtime=pmtime@entry=0x7fdfd0695180, pattrs=pattrs@entry=0x7fdfd06963c8, cache_info=cache_info@entry=0x7fdfd06951b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfd06951e0, pmtime=pmtime@entry=0x7fdfd0695180, pattrs=pattrs@entry=0x7fdfd06963c8, cache_info=cache_info@entry=0x7fdfd06951b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfd06963c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfd06960e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c3ad6a0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c500, client_io=client_io@entry=0x7fdfd0696710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c500) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c500) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706aee0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 149 (Thread 0x7fdfcfe97700 (LWP 137254)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfcfe936c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfcfe936c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfcfe93898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfcfe938c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfcfe939d0, bucket=bucket@entry=0x7fdfcfe93a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0eb982518, pmtime=0x7fe0eb982520, epoch=0x7fe0eb982528, attrs=0x7fe0eb982958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfcfe944c0, obj=..., state=state@entry=0x7fdfcfe93d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfcfe944c0, obj=..., state=state@entry=0x7fdfcfe93d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfcfe944b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfcfe93f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfcfe944b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfcfe950e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfcfe950e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c7169300, client_io=client_io@entry=0x7fdfcfe95710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c7169300) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c7169300) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706af40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 148 (Thread 0x7fdfcf696700 (LWP 137255)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfcf6925b0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0eb6ee200, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfcf6927e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfcf692760, oid="test1", o=o@entry=0x7fdfcf692740, pbl=pbl@entry=0x7fdfcf6927e0) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0eb603b18, pmtime=0x7fe0eb603b20, epoch=0x7fe0eb603b28, attrs=0x7fe0eb603f58, first_chunk=0x0, objv_tracker=0x7fdfcf6931e0) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfcf694620, obj=..., state=state@entry=0x7fdfcf692aa8, objv_tracker=objv_tracker@entry=0x7fdfcf6931e0) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfcf694620, obj=..., state=state@entry=0x7fdfcf692aa8, objv_tracker=objv_tracker@entry=0x7fdfcf6931e0) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfcf6943c8, lastmod=0x7fdfcf693180, obj_size=0x0, objv_tracker=0x7fdfcf6931e0) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfcf692cb0, objv_tracker=objv_tracker@entry=0x7fdfcf6931e0) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfcf6931e0, pmtime=pmtime@entry=0x7fdfcf693180, pattrs=pattrs@entry=0x7fdfcf6943c8, cache_info=cache_info@entry=0x7fdfcf6931b0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfcf6931e0, pmtime=pmtime@entry=0x7fdfcf693180, pattrs=pattrs@entry=0x7fdfcf6943c8, cache_info=cache_info@entry=0x7fdfcf6931b0) at rgw/rgw_rados.cc:10991
#11 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfcf6943c8) at rgw/rgw_rados.cc:11066
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfcf6940e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b25f640) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35ab40, client_io=client_io@entry=0x7fdfcf694710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35ab40) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35ab40) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c706afa0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 147 (Thread 0x7fdfcee95700 (LWP 137256)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfcee911a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfcee911a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eac46400, sul=..., ptid=ptid@entry=0x7fdfcee913c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eac46400, sul=..., ptid=ptid@entry=0x7fdfcee913c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0eac46400, ptid=0x7fdfcee913c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c2200, oid=..., o=0x7fdf726ca500, pbl=pbl@entry=0x7fdfcee917e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfcee91760, oid="test1", o=o@entry=0x7fdfcee91740, pbl=pbl@entry=0x7fdfcee917e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ead81b18, pmtime=0x7fe0ead81b20, epoch=0x7fe0ead81b28, attrs=0x7fe0ead81f58, first_chunk=0x0, objv_tracker=0x7fdfcee921e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfcee93620, obj=..., state=state@entry=0x7fdfcee91aa8, objv_tracker=objv_tracker@entry=0x7fdfcee921e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfcee93620, obj=..., state=state@entry=0x7fdfcee91aa8, objv_tracker=objv_tracker@entry=0x7fdfcee921e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfcee933c8, lastmod=0x7fdfcee92180, obj_size=0x0, objv_tracker=0x7fdfcee921e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfcee91cb0, objv_tracker=objv_tracker@entry=0x7fdfcee921e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfcee921e0, pmtime=pmtime@entry=0x7fdfcee92180, pattrs=pattrs@entry=0x7fdfcee933c8, cache_info=cache_info@entry=0x7fdfcee921b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfcee921e0, pmtime=pmtime@entry=0x7fdfcee92180, pattrs=pattrs@entry=0x7fdfcee933c8, cache_info=cache_info@entry=0x7fdfcee921b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfcee933c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfcee930e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c3521c0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c580, client_io=client_io@entry=0x7fdfcee93710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c580) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c580) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074040) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 146 (Thread 0x7fdfce694700 (LWP 137257)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfce6906c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfce6906c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfce690898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfce6908c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfce6909d0, bucket=bucket@entry=0x7fdfce690a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ea99ab18, pmtime=0x7fe0ea99ab20, epoch=0x7fe0ea99ab28, attrs=0x7fe0ea99af58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfce6914c0, obj=..., state=state@entry=0x7fdfce690d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfce6914c0, obj=..., state=state@entry=0x7fdfce690d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfce6914b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfce690f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfce6914b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfce6920e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfce6920e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f0c0, client_io=client_io@entry=0x7fdfce692710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f0c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f0c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70740a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 145 (Thread 0x7fdfcde93700 (LWP 137258)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfcde8f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfcde8f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfcde8f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfcde8f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfcde8f9d0, bucket=bucket@entry=0x7fdfcde8fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ea585b18, pmtime=0x7fe0ea585b20, epoch=0x7fe0ea585b28, attrs=0x7fe0ea585f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfcde904c0, obj=..., state=state@entry=0x7fdfcde8fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfcde904c0, obj=..., state=state@entry=0x7fdfcde8fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfcde904b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfcde8ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfcde904b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfcde910e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfcde910e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc080, client_io=client_io@entry=0x7fdfcde91710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc080) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc080) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074100) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 144 (Thread 0x7fdfcd692700 (LWP 137259)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfcd68e650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0e9cf9600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfcd68e880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfcd68e800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfcd68e7e0, pbl=pbl@entry=0x7fdfcd68e880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0e9d92518, pmtime=0x7fe0e9d92520, epoch=0x7fe0e9d92528, attrs=0x7fe0e9d92958, first_chunk=0x0, objv_tracker=0x7fdfcd68f3d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfcd690620, obj=..., state=state@entry=0x7fdfcd68eb48, objv_tracker=objv_tracker@entry=0x7fdfcd68f3d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfcd690620, obj=..., state=state@entry=0x7fdfcd68eb48, objv_tracker=objv_tracker@entry=0x7fdfcd68f3d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfcd68f4b8, lastmod=0x7fdfcd68f4b0, obj_size=0x0, objv_tracker=0x7fdfcd68f3d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfcd68ed50, objv_tracker=objv_tracker@entry=0x7fdfcd68f3d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfcd68f3d8, pmtime=pmtime@entry=0x7fdfcd68f4b0, pattrs=pattrs@entry=0x7fdfcd68f4b8, cache_info=cache_info@entry=0x7fdfcd68f1c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfcd68f4b0, pattrs=pattrs@entry=0x7fdfcd68f4b8, cache_info=cache_info@entry=0x7fdfcd68f1c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfcd6903c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfcd6900e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bd952e0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7870f3c0, client_io=client_io@entry=0x7fdfcd690710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7870f3c0) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7870f3c0) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074160) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 143 (Thread 0x7fdfcce91700 (LWP 137260)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfcce8d6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfcce8d6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfcce8d898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfcce8d8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfcce8d9d0, bucket=bucket@entry=0x7fdfcce8da20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0e7d91b18, pmtime=0x7fe0e7d91b20, epoch=0x7fe0e7d91b28, attrs=0x7fe0e7d91f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfcce8e4c0, obj=..., state=state@entry=0x7fdfcce8dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfcce8e4c0, obj=..., state=state@entry=0x7fdfcce8dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfcce8e4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfcce8df30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfcce8e4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfcce8f0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfcce8f0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb2c0, client_io=client_io@entry=0x7fdfcce8f710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb2c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb2c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70741c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 142 (Thread 0x7fdfcc690700 (LWP 137261)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfcc68c1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfcc68c1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0e7885c00, sul=..., ptid=ptid@entry=0x7fdfcc68c3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0e7885c00, sul=..., ptid=ptid@entry=0x7fdfcc68c3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0e7885c00, ptid=0x7fdfcc68c3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf74409e00, oid=..., o=0x7fdf85c69f00, pbl=pbl@entry=0x7fdfcc68c7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfcc68c760, oid="test1", o=o@entry=0x7fdfcc68c740, pbl=pbl@entry=0x7fdfcc68c7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0e798bb18, pmtime=0x7fe0e798bb20, epoch=0x7fe0e798bb28, attrs=0x7fe0e798bf58, first_chunk=0x0, objv_tracker=0x7fdfcc68d1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfcc68e620, obj=..., state=state@entry=0x7fdfcc68caa8, objv_tracker=objv_tracker@entry=0x7fdfcc68d1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfcc68e620, obj=..., state=state@entry=0x7fdfcc68caa8, objv_tracker=objv_tracker@entry=0x7fdfcc68d1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfcc68e3c8, lastmod=0x7fdfcc68d180, obj_size=0x0, objv_tracker=0x7fdfcc68d1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfcc68ccb0, objv_tracker=objv_tracker@entry=0x7fdfcc68d1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfcc68d1e0, pmtime=pmtime@entry=0x7fdfcc68d180, pattrs=pattrs@entry=0x7fdfcc68e3c8, cache_info=cache_info@entry=0x7fdfcc68d1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfcc68d1e0, pmtime=pmtime@entry=0x7fdfcc68d180, pattrs=pattrs@entry=0x7fdfcc68e3c8, cache_info=cache_info@entry=0x7fdfcc68d1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfcc68e3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfcc68e0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c2897e0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7cbed180, client_io=client_io@entry=0x7fdfcc68e710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7cbed180) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7cbed180) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074220) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 141 (Thread 0x7fdfcbe8f700 (LWP 137262)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfcbe8b6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfcbe8b6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfcbe8b898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfcbe8b8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfcbe8b9d0, bucket=bucket@entry=0x7fdfcbe8ba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d6986b18, pmtime=0x7fe0d6986b20, epoch=0x7fe0d6986b28, attrs=0x7fe0d6986f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfcbe8c4c0, obj=..., state=state@entry=0x7fdfcbe8bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfcbe8c4c0, obj=..., state=state@entry=0x7fdfcbe8bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfcbe8c4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfcbe8bf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfcbe8c4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfcbe8d0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfcbe8d0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d640, client_io=client_io@entry=0x7fdfcbe8d710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d640) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d640) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074280) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 140 (Thread 0x7fdfcb68e700 (LWP 137263)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfcb68a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfcb68a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfcb68a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfcb68a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfcb68a9d0, bucket=bucket@entry=0x7fdfcb68aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d598cb18, pmtime=0x7fe0d598cb20, epoch=0x7fe0d598cb28, attrs=0x7fe0d598cf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfcb68b4c0, obj=..., state=state@entry=0x7fdfcb68ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfcb68b4c0, obj=..., state=state@entry=0x7fdfcb68ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfcb68b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfcb68af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfcb68b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfcb68c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfcb68c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d440, client_io=client_io@entry=0x7fdfcb68c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d440) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d440) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70742e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 139 (Thread 0x7fdfcae8d700 (LWP 137264)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfcae89950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337a400, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fdfcae89d58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfcae89ae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fdfcae8a1c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fdfcae89d50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdfcae8a3d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfcae8a3d8, pmtime=pmtime@entry=0x7fdfcae8a4b0, pattrs=pattrs@entry=0x7fdfcae8a4b8, cache_info=cache_info@entry=0x7fdfcae8a1c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfcae8a4b0, pattrs=pattrs@entry=0x7fdfcae8a4b8, cache_info=cache_info@entry=0x7fdfcae8a1c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfcae8b3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfcae8b0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cbcd520) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a5b0540, client_io=client_io@entry=0x7fdfcae8b710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a5b0540) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a5b0540) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074340) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 138 (Thread 0x7fdfca68c700 (LWP 137265)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfca6886c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfca6886c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfca688898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfca6888c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfca6889d0, bucket=bucket@entry=0x7fdfca688a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d45d3518, pmtime=0x7fe0d45d3520, epoch=0x7fe0d45d3528, attrs=0x7fe0d45d3958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfca6894c0, obj=..., state=state@entry=0x7fdfca688d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfca6894c0, obj=..., state=state@entry=0x7fdfca688d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfca6894b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfca688f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfca6894b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfca68a0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfca68a0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8c80, client_io=client_io@entry=0x7fdfca68a710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8c80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8c80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70743a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 137 (Thread 0x7fdfc9e8b700 (LWP 137266)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfc9e876c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfc9e876c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfc9e87898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfc9e878c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfc9e879d0, bucket=bucket@entry=0x7fdfc9e87a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d3580b18, pmtime=0x7fe0d3580b20, epoch=0x7fe0d3580b28, attrs=0x7fe0d3580f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc9e884c0, obj=..., state=state@entry=0x7fdfc9e87d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc9e884c0, obj=..., state=state@entry=0x7fdfc9e87d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfc9e884b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc9e87f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfc9e884b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfc9e890e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfc9e890e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd080, client_io=client_io@entry=0x7fdfc9e89710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd080) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd080) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074400) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 136 (Thread 0x7fdfc968a700 (LWP 137267)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfc96866c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfc96866c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfc9686898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfc96868c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfc96869d0, bucket=bucket@entry=0x7fdfc9686a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d2581b18, pmtime=0x7fe0d2581b20, epoch=0x7fe0d2581b28, attrs=0x7fe0d2581f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc96874c0, obj=..., state=state@entry=0x7fdfc9686d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc96874c0, obj=..., state=state@entry=0x7fdfc9686d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfc96874b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc9686f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfc96874b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfc96880e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfc96880e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8400, client_io=client_io@entry=0x7fdfc9688710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8400) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8400) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074460) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 135 (Thread 0x7fdfc8e89700 (LWP 137268)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfc8e856c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfc8e856c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfc8e85898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfc8e858c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfc8e859d0, bucket=bucket@entry=0x7fdfc8e85a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d1581b18, pmtime=0x7fe0d1581b20, epoch=0x7fe0d1581b28, attrs=0x7fe0d1581f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc8e864c0, obj=..., state=state@entry=0x7fdfc8e85d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc8e864c0, obj=..., state=state@entry=0x7fdfc8e85d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfc8e864b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc8e85f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfc8e864b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfc8e870e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfc8e870e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd180, client_io=client_io@entry=0x7fdfc8e87710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd180) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd180) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70744c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 134 (Thread 0x7fdfc8688700 (LWP 137269)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfc86846c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfc86846c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfc8684898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfc86848c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfc86849d0, bucket=bucket@entry=0x7fdfc8684a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d0537518, pmtime=0x7fe0d0537520, epoch=0x7fe0d0537528, attrs=0x7fe0d0537958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc86854c0, obj=..., state=state@entry=0x7fdfc8684d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc86854c0, obj=..., state=state@entry=0x7fdfc8684d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfc86854b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc8684f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfc86854b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfc86860e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfc86860e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb540, client_io=client_io@entry=0x7fdfc8686710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb540) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb540) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074520) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 133 (Thread 0x7fdfc7e87700 (LWP 137270)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfc7e836c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfc7e836c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfc7e83898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfc7e838c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfc7e839d0, bucket=bucket@entry=0x7fdfc7e83a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7c437718, pmtime=0x7fdf7c437720, epoch=0x7fdf7c437728, attrs=0x7fdf7c437b58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc7e844c0, obj=..., state=state@entry=0x7fdfc7e83d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc7e844c0, obj=..., state=state@entry=0x7fdfc7e83d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfc7e844b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc7e83f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfc7e844b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfc7e850e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfc7e850e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce580, client_io=client_io@entry=0x7fdfc7e85710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce580) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce580) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074580) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 132 (Thread 0x7fdfc7686700 (LWP 137271)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfc76821a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfc76821a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cf068180, sul=..., ptid=ptid@entry=0x7fdfc76823c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cf068180, sul=..., ptid=ptid@entry=0x7fdfc76823c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0cf068180, ptid=0x7fdfc76823c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fe200, oid=..., o=0x7fe0e7c53380, pbl=pbl@entry=0x7fdfc76827e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfc7682760, oid="test1", o=o@entry=0x7fdfc7682740, pbl=pbl@entry=0x7fdfc76827e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0cf17c518, pmtime=0x7fe0cf17c520, epoch=0x7fe0cf17c528, attrs=0x7fe0cf17c958, first_chunk=0x0, objv_tracker=0x7fdfc76831e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc7684620, obj=..., state=state@entry=0x7fdfc7682aa8, objv_tracker=objv_tracker@entry=0x7fdfc76831e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc7684620, obj=..., state=state@entry=0x7fdfc7682aa8, objv_tracker=objv_tracker@entry=0x7fdfc76831e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfc76843c8, lastmod=0x7fdfc7683180, obj_size=0x0, objv_tracker=0x7fdfc76831e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc7682cb0, objv_tracker=objv_tracker@entry=0x7fdfc76831e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfc76831e0, pmtime=pmtime@entry=0x7fdfc7683180, pattrs=pattrs@entry=0x7fdfc76843c8, cache_info=cache_info@entry=0x7fdfc76831b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfc76831e0, pmtime=pmtime@entry=0x7fdfc7683180, pattrs=pattrs@entry=0x7fdfc76843c8, cache_info=cache_info@entry=0x7fdfc76831b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfc76843c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfc76840e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cb34980) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722ce00, client_io=client_io@entry=0x7fdfc7684710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722ce00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722ce00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70745e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 131 (Thread 0x7fdfc6e85700 (LWP 137272)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfc6e811a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfc6e811a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cec52000, sul=..., ptid=ptid@entry=0x7fdfc6e813c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cec52000, sul=..., ptid=ptid@entry=0x7fdfc6e813c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0cec52000, ptid=0x7fdfc6e813c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c3600, oid=..., o=0x7fdf80067700, pbl=pbl@entry=0x7fdfc6e817e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfc6e81760, oid="test1", o=o@entry=0x7fdfc6e81740, pbl=pbl@entry=0x7fdfc6e817e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ced78518, pmtime=0x7fe0ced78520, epoch=0x7fe0ced78528, attrs=0x7fe0ced78958, first_chunk=0x0, objv_tracker=0x7fdfc6e821e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc6e83620, obj=..., state=state@entry=0x7fdfc6e81aa8, objv_tracker=objv_tracker@entry=0x7fdfc6e821e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc6e83620, obj=..., state=state@entry=0x7fdfc6e81aa8, objv_tracker=objv_tracker@entry=0x7fdfc6e821e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfc6e833c8, lastmod=0x7fdfc6e82180, obj_size=0x0, objv_tracker=0x7fdfc6e821e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc6e81cb0, objv_tracker=objv_tracker@entry=0x7fdfc6e821e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfc6e821e0, pmtime=pmtime@entry=0x7fdfc6e82180, pattrs=pattrs@entry=0x7fdfc6e833c8, cache_info=cache_info@entry=0x7fdfc6e821b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfc6e821e0, pmtime=pmtime@entry=0x7fdfc6e82180, pattrs=pattrs@entry=0x7fdfc6e833c8, cache_info=cache_info@entry=0x7fdfc6e821b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfc6e833c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfc6e830e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bea4e40) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79b91e00, client_io=client_io@entry=0x7fdfc6e83710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79b91e00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79b91e00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074640) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 130 (Thread 0x7fdfc6684700 (LWP 137273)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfc66806c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfc66806c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfc6680898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfc66808c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfc66809d0, bucket=bucket@entry=0x7fdfc6680a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0cdd79518, pmtime=0x7fe0cdd79520, epoch=0x7fe0cdd79528, attrs=0x7fe0cdd79958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc66814c0, obj=..., state=state@entry=0x7fdfc6680d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc66814c0, obj=..., state=state@entry=0x7fdfc6680d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfc66814b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc6680f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfc66814b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfc66820e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfc66820e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9de00, client_io=client_io@entry=0x7fdfc6682710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9de00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9de00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70746a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 129 (Thread 0x7fdfc5e83700 (LWP 137274)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfc5e7f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfc5e7f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfc5e7f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfc5e7f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfc5e7f9d0, bucket=bucket@entry=0x7fdfc5e7fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ccd5bb18, pmtime=0x7fe0ccd5bb20, epoch=0x7fe0ccd5bb28, attrs=0x7fe0ccd5bf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc5e804c0, obj=..., state=state@entry=0x7fdfc5e7fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc5e804c0, obj=..., state=state@entry=0x7fdfc5e7fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfc5e804b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc5e7ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfc5e804b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfc5e810e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfc5e810e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce500, client_io=client_io@entry=0x7fdfc5e81710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce500) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce500) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074700) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 128 (Thread 0x7fdfc5682700 (LWP 137275)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfc567e1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfc567e1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cbc14700, sul=..., ptid=ptid@entry=0x7fdfc567e3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cbc14700, sul=..., ptid=ptid@entry=0x7fdfc567e3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0cbc14700, ptid=0x7fdfc567e3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c8000, oid=..., o=0x7fdf7f467400, pbl=pbl@entry=0x7fdfc567e7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfc567e760, oid="test1", o=o@entry=0x7fdfc567e740, pbl=pbl@entry=0x7fdfc567e7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0cbd74518, pmtime=0x7fe0cbd74520, epoch=0x7fe0cbd74528, attrs=0x7fe0cbd74958, first_chunk=0x0, objv_tracker=0x7fdfc567f1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc5680620, obj=..., state=state@entry=0x7fdfc567eaa8, objv_tracker=objv_tracker@entry=0x7fdfc567f1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc5680620, obj=..., state=state@entry=0x7fdfc567eaa8, objv_tracker=objv_tracker@entry=0x7fdfc567f1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfc56803c8, lastmod=0x7fdfc567f180, obj_size=0x0, objv_tracker=0x7fdfc567f1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc567ecb0, objv_tracker=objv_tracker@entry=0x7fdfc567f1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfc567f1e0, pmtime=pmtime@entry=0x7fdfc567f180, pattrs=pattrs@entry=0x7fdfc56803c8, cache_info=cache_info@entry=0x7fdfc567f1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfc567f1e0, pmtime=pmtime@entry=0x7fdfc567f180, pattrs=pattrs@entry=0x7fdfc56803c8, cache_info=cache_info@entry=0x7fdfc567f1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfc56803c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfc56800e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf76a53900) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868b80, client_io=client_io@entry=0x7fdfc5680710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868b80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868b80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074760) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 127 (Thread 0x7fdfc4e81700 (LWP 137276)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfc4e7d1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfc4e7d1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cac74200, sul=..., ptid=ptid@entry=0x7fdfc4e7d3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0cac74200, sul=..., ptid=ptid@entry=0x7fdfc4e7d3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0cac74200, ptid=0x7fdfc4e7d3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c6400, oid=..., o=0x7fdf726cc180, pbl=pbl@entry=0x7fdfc4e7d7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfc4e7d760, oid="test1", o=o@entry=0x7fdfc4e7d740, pbl=pbl@entry=0x7fdfc4e7d7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0cad79518, pmtime=0x7fe0cad79520, epoch=0x7fe0cad79528, attrs=0x7fe0cad79958, first_chunk=0x0, objv_tracker=0x7fdfc4e7e1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc4e7f620, obj=..., state=state@entry=0x7fdfc4e7daa8, objv_tracker=objv_tracker@entry=0x7fdfc4e7e1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc4e7f620, obj=..., state=state@entry=0x7fdfc4e7daa8, objv_tracker=objv_tracker@entry=0x7fdfc4e7e1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfc4e7f3c8, lastmod=0x7fdfc4e7e180, obj_size=0x0, objv_tracker=0x7fdfc4e7e1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc4e7dcb0, objv_tracker=objv_tracker@entry=0x7fdfc4e7e1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfc4e7e1e0, pmtime=pmtime@entry=0x7fdfc4e7e180, pattrs=pattrs@entry=0x7fdfc4e7f3c8, cache_info=cache_info@entry=0x7fdfc4e7e1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfc4e7e1e0, pmtime=pmtime@entry=0x7fdfc4e7e180, pattrs=pattrs@entry=0x7fdfc4e7f3c8, cache_info=cache_info@entry=0x7fdfc4e7e1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfc4e7f3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfc4e7f0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bff4fe0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868480, client_io=client_io@entry=0x7fdfc4e7f710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868480) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868480) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70747c0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 126 (Thread 0x7fdfc4680700 (LWP 137277)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfc467c6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfc467c6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfc467c898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfc467c8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfc467c9d0, bucket=bucket@entry=0x7fdfc467ca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ca95a518, pmtime=0x7fe0ca95a520, epoch=0x7fe0ca95a528, attrs=0x7fe0ca95a958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc467d4c0, obj=..., state=state@entry=0x7fdfc467cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc467d4c0, obj=..., state=state@entry=0x7fdfc467cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfc467d4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc467cf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfc467d4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfc467e0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfc467e0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357d40, client_io=client_io@entry=0x7fdfc467e710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357d40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357d40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074820) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 125 (Thread 0x7fdfc3e7f700 (LWP 137278)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfc3e7b950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337a800, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fdfc3e7bd58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfc3e7bae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fdfc3e7c1c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fdfc3e7bd50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdfc3e7c3d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfc3e7c3d8, pmtime=pmtime@entry=0x7fdfc3e7c4b0, pattrs=pattrs@entry=0x7fdfc3e7c4b8, cache_info=cache_info@entry=0x7fdfc3e7c1c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfc3e7c4b0, pattrs=pattrs@entry=0x7fdfc3e7c4b8, cache_info=cache_info@entry=0x7fdfc3e7c1c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfc3e7d3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfc3e7d0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7a37b7a0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a61fec0, client_io=client_io@entry=0x7fdfc3e7d710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a61fec0) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a61fec0) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074880) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 124 (Thread 0x7fdfc367e700 (LWP 137279)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfc367a1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfc367a1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c9441980, sul=..., ptid=ptid@entry=0x7fdfc367a3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c9441980, sul=..., ptid=ptid@entry=0x7fdfc367a3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0c9441980, ptid=0x7fdfc367a3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf74415200, oid=..., o=0x7fe0f0d7ae80, pbl=pbl@entry=0x7fdfc367a7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfc367a760, oid="test1", o=o@entry=0x7fdfc367a740, pbl=pbl@entry=0x7fdfc367a7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c957d518, pmtime=0x7fe0c957d520, epoch=0x7fe0c957d528, attrs=0x7fe0c957d958, first_chunk=0x0, objv_tracker=0x7fdfc367b1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc367c620, obj=..., state=state@entry=0x7fdfc367aaa8, objv_tracker=objv_tracker@entry=0x7fdfc367b1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc367c620, obj=..., state=state@entry=0x7fdfc367aaa8, objv_tracker=objv_tracker@entry=0x7fdfc367b1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfc367c3c8, lastmod=0x7fdfc367b180, obj_size=0x0, objv_tracker=0x7fdfc367b1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc367acb0, objv_tracker=objv_tracker@entry=0x7fdfc367b1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfc367b1e0, pmtime=pmtime@entry=0x7fdfc367b180, pattrs=pattrs@entry=0x7fdfc367c3c8, cache_info=cache_info@entry=0x7fdfc367b1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfc367b1e0, pmtime=pmtime@entry=0x7fdfc367b180, pattrs=pattrs@entry=0x7fdfc367c3c8, cache_info=cache_info@entry=0x7fdfc367b1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfc367c3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfc367c0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b7ce260) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c73c0180, client_io=client_io@entry=0x7fdfc367c710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c73c0180) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c73c0180) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70748e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 123 (Thread 0x7fdfc2e7d700 (LWP 137280)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfc2e791a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfc2e791a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c840fe80, sul=..., ptid=ptid@entry=0x7fdfc2e793c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c840fe80, sul=..., ptid=ptid@entry=0x7fdfc2e793c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0c840fe80, ptid=0x7fdfc2e793c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7f9a00, oid=..., o=0x7fe0e9dc0200, pbl=pbl@entry=0x7fdfc2e797e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfc2e79760, oid="test1", o=o@entry=0x7fdfc2e79740, pbl=pbl@entry=0x7fdfc2e797e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c8578518, pmtime=0x7fe0c8578520, epoch=0x7fe0c8578528, attrs=0x7fe0c8578958, first_chunk=0x0, objv_tracker=0x7fdfc2e7a1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc2e7b620, obj=..., state=state@entry=0x7fdfc2e79aa8, objv_tracker=objv_tracker@entry=0x7fdfc2e7a1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc2e7b620, obj=..., state=state@entry=0x7fdfc2e79aa8, objv_tracker=objv_tracker@entry=0x7fdfc2e7a1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfc2e7b3c8, lastmod=0x7fdfc2e7a180, obj_size=0x0, objv_tracker=0x7fdfc2e7a1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc2e79cb0, objv_tracker=objv_tracker@entry=0x7fdfc2e7a1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfc2e7a1e0, pmtime=pmtime@entry=0x7fdfc2e7a180, pattrs=pattrs@entry=0x7fdfc2e7b3c8, cache_info=cache_info@entry=0x7fdfc2e7a1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfc2e7a1e0, pmtime=pmtime@entry=0x7fdfc2e7a180, pattrs=pattrs@entry=0x7fdfc2e7b3c8, cache_info=cache_info@entry=0x7fdfc2e7a1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfc2e7b3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfc2e7b0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cabf6c0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79f9e980, client_io=client_io@entry=0x7fdfc2e7b710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79f9e980) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79f9e980) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074940) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 122 (Thread 0x7fdfc267c700 (LWP 137281)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfc2677de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7264d800, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfc2678010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfc2677f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfc2677f70, pbl=pbl@entry=0x7fdfc2678010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c74f0f18, pmtime=0x7fe0c74f0f20, epoch=0x7fe0c74f0f28, attrs=0x7fe0c74f1358, first_chunk=0x0, objv_tracker=0x7fdfc2678ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc2678b90, obj=..., state=state@entry=0x7fdfc26782d8, objv_tracker=objv_tracker@entry=0x7fdfc2678ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc2678b90, obj=..., state=state@entry=0x7fdfc26782d8, objv_tracker=objv_tracker@entry=0x7fdfc2678ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfc2678ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc26784e0, objv_tracker=objv_tracker@entry=0x7fdfc2678ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfc2678ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2222", bucket_obj=bucket_obj@entry=0x7fdfc2679210, shard_id=shard_id@entry=0x7fdfc2679200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdfc26791b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdfc2679120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdfc2679120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfc2679500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fe0c7666800, etag=..., mtime=0x7fe0c7656768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fe0c7666800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fe0c7656400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7ca8e600, client_io=client_io@entry=0x7fdfc267a710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7ca8e600) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7ca8e600) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70749a0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 121 (Thread 0x7fdfc1e7b700 (LWP 137282)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fac2f0a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0fac2f018) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfc1e77120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfc1e77120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c70c8200, sul=..., ptid=ptid@entry=0x7fdfc1e77348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c70c8200, sul=..., ptid=ptid@entry=0x7fdfc1e77348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0c70c8200, ptid=0x7fdfc1e77348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf55e11200, oid=..., o=0x7fdf8406a500, pbl=pbl@entry=0x7fdfc1e77760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfc1e776e0, oid="system.user", o=o@entry=0x7fdfc1e776c0, pbl=pbl@entry=0x7fdfc1e77760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7bd61b18, pmtime=0x7fdf7bd61b20, epoch=0x7fdf7bd61b28, attrs=0x7fdf7bd61f58, first_chunk=0x0, objv_tracker=0x7fdfc1e78498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc1e77ff0, obj=..., state=state@entry=0x7fdfc1e77a28, objv_tracker=objv_tracker@entry=0x7fdfc1e78498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc1e77ff0, obj=..., state=state@entry=0x7fdfc1e77a28, objv_tracker=objv_tracker@entry=0x7fdfc1e78498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfc1e78498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc1e77c30, objv_tracker=objv_tracker@entry=0x7fdfc1e78498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="system.user", bl=..., objv_tracker=objv_tracker@entry=0x7fdfc1e78498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fdfc1e78150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fdfc1e78498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fdfc1e78150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfc1e790e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfc1e790e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c73d6e40, client_io=client_io@entry=0x7fdfc1e79710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c73d6e40) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c73d6e40) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074a00) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 120 (Thread 0x7fdfc167a700 (LWP 137283)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfc16766c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfc16766c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfc1676898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfc16768c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfc16769d0, bucket=bucket@entry=0x7fdfc1676a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c6d75518, pmtime=0x7fe0c6d75520, epoch=0x7fe0c6d75528, attrs=0x7fe0c6d75958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc16774c0, obj=..., state=state@entry=0x7fdfc1676d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc16774c0, obj=..., state=state@entry=0x7fdfc1676d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfc16774b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc1676f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfc16774b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfc16780e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfc16780e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf780f2a40, client_io=client_io@entry=0x7fdfc1678710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf780f2a40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf780f2a40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074a60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 119 (Thread 0x7fdfc0e79700 (LWP 137284)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfc0e751a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfc0e751a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c5c14200, sul=..., ptid=ptid@entry=0x7fdfc0e753c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c5c14200, sul=..., ptid=ptid@entry=0x7fdfc0e753c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0c5c14200, ptid=0x7fdfc0e753c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb717200, oid=..., o=0x7fe0ec9edb00, pbl=pbl@entry=0x7fdfc0e757e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfc0e75760, oid="test1", o=o@entry=0x7fdfc0e75740, pbl=pbl@entry=0x7fdfc0e757e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c5d78518, pmtime=0x7fe0c5d78520, epoch=0x7fe0c5d78528, attrs=0x7fe0c5d78958, first_chunk=0x0, objv_tracker=0x7fdfc0e761e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc0e77620, obj=..., state=state@entry=0x7fdfc0e75aa8, objv_tracker=objv_tracker@entry=0x7fdfc0e761e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc0e77620, obj=..., state=state@entry=0x7fdfc0e75aa8, objv_tracker=objv_tracker@entry=0x7fdfc0e761e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfc0e773c8, lastmod=0x7fdfc0e76180, obj_size=0x0, objv_tracker=0x7fdfc0e761e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc0e75cb0, objv_tracker=objv_tracker@entry=0x7fdfc0e761e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfc0e761e0, pmtime=pmtime@entry=0x7fdfc0e76180, pattrs=pattrs@entry=0x7fdfc0e773c8, cache_info=cache_info@entry=0x7fdfc0e761b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfc0e761e0, pmtime=pmtime@entry=0x7fdfc0e76180, pattrs=pattrs@entry=0x7fdfc0e773c8, cache_info=cache_info@entry=0x7fdfc0e761b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfc0e773c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfc0e770e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7ba00160) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b5f4c80, client_io=client_io@entry=0x7fdfc0e77710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b5f4c80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b5f4c80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074ac0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 118 (Thread 0x7fdfc0678700 (LWP 137285)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfc06741a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfc06741a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c4c0e580, sul=..., ptid=ptid@entry=0x7fdfc06743c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0c4c0e580, sul=..., ptid=ptid@entry=0x7fdfc06743c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0c4c0e580, ptid=0x7fdfc06743c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fb600, oid=..., o=0x7fdf7d8aff80, pbl=pbl@entry=0x7fdfc06747e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfc0674760, oid="test1", o=o@entry=0x7fdfc0674740, pbl=pbl@entry=0x7fdfc06747e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0c4d74518, pmtime=0x7fe0c4d74520, epoch=0x7fe0c4d74528, attrs=0x7fe0c4d74958, first_chunk=0x0, objv_tracker=0x7fdfc06751e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfc0676620, obj=..., state=state@entry=0x7fdfc0674aa8, objv_tracker=objv_tracker@entry=0x7fdfc06751e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfc0676620, obj=..., state=state@entry=0x7fdfc0674aa8, objv_tracker=objv_tracker@entry=0x7fdfc06751e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfc06763c8, lastmod=0x7fdfc0675180, obj_size=0x0, objv_tracker=0x7fdfc06751e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfc0674cb0, objv_tracker=objv_tracker@entry=0x7fdfc06751e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfc06751e0, pmtime=pmtime@entry=0x7fdfc0675180, pattrs=pattrs@entry=0x7fdfc06763c8, cache_info=cache_info@entry=0x7fdfc06751b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfc06751e0, pmtime=pmtime@entry=0x7fdfc0675180, pattrs=pattrs@entry=0x7fdfc06763c8, cache_info=cache_info@entry=0x7fdfc06751b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfc06763c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfc06760e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bcc7f00) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c800, client_io=client_io@entry=0x7fdfc0676710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c800) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c800) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074b20) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 117 (Thread 0x7fdfbfe77700 (LWP 137286)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfbfe736c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfbfe736c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfbfe73898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfbfe738c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfbfe739d0, bucket=bucket@entry=0x7fdfbfe73a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c3580b18, pmtime=0x7fe0c3580b20, epoch=0x7fe0c3580b28, attrs=0x7fe0c3580f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfbfe744c0, obj=..., state=state@entry=0x7fdfbfe73d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfbfe744c0, obj=..., state=state@entry=0x7fdfbfe73d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfbfe744b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfbfe73f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfbfe744b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfbfe750e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfbfe750e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8ac0, client_io=client_io@entry=0x7fdfbfe75710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8ac0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8ac0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074b80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 116 (Thread 0x7fdfbf676700 (LWP 137287)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfbf6726c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfbf6726c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfbf672898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfbf6728c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfbf6729d0, bucket=bucket@entry=0x7fdfbf672a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c157cb18, pmtime=0x7fe0c157cb20, epoch=0x7fe0c157cb28, attrs=0x7fe0c157cf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfbf6734c0, obj=..., state=state@entry=0x7fdfbf672d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfbf6734c0, obj=..., state=state@entry=0x7fdfbf672d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfbf6734b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfbf672f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfbf6734b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfbf6740e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfbf6740e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d4c0, client_io=client_io@entry=0x7fdfbf674710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d4c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d4c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074be0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 115 (Thread 0x7fdfbee75700 (LWP 137288)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfbee711a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfbee711a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0bec43200, sul=..., ptid=ptid@entry=0x7fdfbee713c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0bec43200, sul=..., ptid=ptid@entry=0x7fdfbee713c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0bec43200, ptid=0x7fdfbee713c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c4a00, oid=..., o=0x7fe0ec9f1180, pbl=pbl@entry=0x7fdfbee717e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfbee71760, oid="test1", o=o@entry=0x7fdfbee71740, pbl=pbl@entry=0x7fdfbee717e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0bedb3518, pmtime=0x7fe0bedb3520, epoch=0x7fe0bedb3528, attrs=0x7fe0bedb3958, first_chunk=0x0, objv_tracker=0x7fdfbee721e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfbee73620, obj=..., state=state@entry=0x7fdfbee71aa8, objv_tracker=objv_tracker@entry=0x7fdfbee721e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfbee73620, obj=..., state=state@entry=0x7fdfbee71aa8, objv_tracker=objv_tracker@entry=0x7fdfbee721e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfbee733c8, lastmod=0x7fdfbee72180, obj_size=0x0, objv_tracker=0x7fdfbee721e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfbee71cb0, objv_tracker=objv_tracker@entry=0x7fdfbee721e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfbee721e0, pmtime=pmtime@entry=0x7fdfbee72180, pattrs=pattrs@entry=0x7fdfbee733c8, cache_info=cache_info@entry=0x7fdfbee721b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfbee721e0, pmtime=pmtime@entry=0x7fdfbee72180, pattrs=pattrs@entry=0x7fdfbee733c8, cache_info=cache_info@entry=0x7fdfbee721b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfbee733c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfbee730e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf76ba2c00) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b32d600, client_io=client_io@entry=0x7fdfbee73710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b32d600) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b32d600) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074c40) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 114 (Thread 0x7fdfbe674700 (LWP 137289)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfbe6706c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfbe6706c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfbe670898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfbe6708c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfbe6709d0, bucket=bucket@entry=0x7fdfbe670a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0c05b0b18, pmtime=0x7fe0c05b0b20, epoch=0x7fe0c05b0b28, attrs=0x7fe0c05b0f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfbe6714c0, obj=..., state=state@entry=0x7fdfbe670d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfbe6714c0, obj=..., state=state@entry=0x7fdfbe670d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfbe6714b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfbe670f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfbe6714b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfbe6720e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfbe6720e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8380, client_io=client_io@entry=0x7fdfbe672710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8380) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8380) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074ca0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 113 (Thread 0x7fdfbde73700 (LWP 137290)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfbde6f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfbde6f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfbde6f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfbde6f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfbde6f9d0, bucket=bucket@entry=0x7fdfbde6fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0be97d518, pmtime=0x7fe0be97d520, epoch=0x7fe0be97d528, attrs=0x7fe0be97d958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfbde704c0, obj=..., state=state@entry=0x7fdfbde6fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfbde704c0, obj=..., state=state@entry=0x7fdfbde6fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfbde704b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfbde6ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfbde704b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfbde710e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfbde710e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdbd40, client_io=client_io@entry=0x7fdfbde71710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdbd40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdbd40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074d00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 112 (Thread 0x7fdfbd672700 (LWP 137291)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfbd66e6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfbd66e6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfbd66e898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfbd66e8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfbd66e9d0, bucket=bucket@entry=0x7fdfbd66ea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0bc179518, pmtime=0x7fe0bc179520, epoch=0x7fe0bc179528, attrs=0x7fe0bc179958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfbd66f4c0, obj=..., state=state@entry=0x7fdfbd66ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfbd66f4c0, obj=..., state=state@entry=0x7fdfbd66ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfbd66f4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfbd66ef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfbd66f4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfbd6700e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfbd6700e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ceb80, client_io=client_io@entry=0x7fdfbd670710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ceb80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ceb80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074d60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 111 (Thread 0x7fdfbce71700 (LWP 137292)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfbce6d6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfbce6d6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfbce6d898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfbce6d8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfbce6d9d0, bucket=bucket@entry=0x7fdfbce6da20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b9d7f518, pmtime=0x7fe0b9d7f520, epoch=0x7fe0b9d7f528, attrs=0x7fe0b9d7f958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfbce6e4c0, obj=..., state=state@entry=0x7fdfbce6dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfbce6e4c0, obj=..., state=state@entry=0x7fdfbce6dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfbce6e4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfbce6df30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfbce6e4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfbce6f0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfbce6f0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfae00, client_io=client_io@entry=0x7fdfbce6f710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfae00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfae00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074dc0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 110 (Thread 0x7fdfbc670700 (LWP 137293)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfbc66c6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfbc66c6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfbc66c898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfbc66c8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfbc66c9d0, bucket=bucket@entry=0x7fdfbc66ca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b8579518, pmtime=0x7fe0b8579520, epoch=0x7fe0b8579528, attrs=0x7fe0b8579958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfbc66d4c0, obj=..., state=state@entry=0x7fdfbc66cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfbc66d4c0, obj=..., state=state@entry=0x7fdfbc66cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfbc66d4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfbc66cf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfbc66d4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfbc66e0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfbc66e0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb5c0, client_io=client_io@entry=0x7fdfbc66e710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb5c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb5c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074e20) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 109 (Thread 0x7fdfbbe6f700 (LWP 137294)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfbbe6b6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfbbe6b6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfbbe6b898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfbbe6b8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfbbe6b9d0, bucket=bucket@entry=0x7fdfbbe6ba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b5d7d518, pmtime=0x7fe0b5d7d520, epoch=0x7fe0b5d7d528, attrs=0x7fe0b5d7d958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfbbe6c4c0, obj=..., state=state@entry=0x7fdfbbe6bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfbbe6c4c0, obj=..., state=state@entry=0x7fdfbbe6bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfbbe6c4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfbbe6bf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfbbe6c4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfbbe6d0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfbbe6d0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f040, client_io=client_io@entry=0x7fdfbbe6d710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f040) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f040) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074e80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 108 (Thread 0x7fdfbb66e700 (LWP 137295)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfbb66a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfbb66a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfbb66a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfbb66a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfbb66a9d0, bucket=bucket@entry=0x7fdfbb66aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b4d78b18, pmtime=0x7fe0b4d78b20, epoch=0x7fe0b4d78b28, attrs=0x7fe0b4d78f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfbb66b4c0, obj=..., state=state@entry=0x7fdfbb66ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfbb66b4c0, obj=..., state=state@entry=0x7fdfbb66ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfbb66b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfbb66af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfbb66b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfbb66c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfbb66c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdbec0, client_io=client_io@entry=0x7fdfbb66c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdbec0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdbec0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074ee0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 107 (Thread 0x7fdfbae6d700 (LWP 137296)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfbae696c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfbae696c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfbae69898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfbae698c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfbae699d0, bucket=bucket@entry=0x7fdfbae69a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b3d80518, pmtime=0x7fe0b3d80520, epoch=0x7fe0b3d80528, attrs=0x7fe0b3d80958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfbae6a4c0, obj=..., state=state@entry=0x7fdfbae69d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfbae6a4c0, obj=..., state=state@entry=0x7fdfbae69d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfbae6a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfbae69f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfbae6a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfbae6b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfbae6b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd100, client_io=client_io@entry=0x7fdfbae6b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd100) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd100) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074f40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 106 (Thread 0x7fdfba66c700 (LWP 137297)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfba668650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fe0e9ce5c00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfba668880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfba668800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfba6687e0, pbl=pbl@entry=0x7fdfba668880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0b397a518, pmtime=0x7fe0b397a520, epoch=0x7fe0b397a528, attrs=0x7fe0b397a958, first_chunk=0x0, objv_tracker=0x7fdfba6693d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfba66a620, obj=..., state=state@entry=0x7fdfba668b48, objv_tracker=objv_tracker@entry=0x7fdfba6693d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfba66a620, obj=..., state=state@entry=0x7fdfba668b48, objv_tracker=objv_tracker@entry=0x7fdfba6693d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfba6694b8, lastmod=0x7fdfba6694b0, obj_size=0x0, objv_tracker=0x7fdfba6693d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfba668d50, objv_tracker=objv_tracker@entry=0x7fdfba6693d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfba6693d8, pmtime=pmtime@entry=0x7fdfba6694b0, pattrs=pattrs@entry=0x7fdfba6694b8, cache_info=cache_info@entry=0x7fdfba6691c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfba6694b0, pattrs=pattrs@entry=0x7fdfba6694b8, cache_info=cache_info@entry=0x7fdfba6691c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfba66a3c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfba66a0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf794ee5e0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35afc0, client_io=client_io@entry=0x7fdfba66a710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35afc0) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35afc0) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7074fa0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 105 (Thread 0x7fdfb9e6b700 (LWP 137298)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb9e676c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb9e676c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb9e67898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb9e678c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb9e679d0, bucket=bucket@entry=0x7fdfb9e67a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b1d7db18, pmtime=0x7fe0b1d7db20, epoch=0x7fe0b1d7db28, attrs=0x7fe0b1d7df58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb9e684c0, obj=..., state=state@entry=0x7fdfb9e67d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb9e684c0, obj=..., state=state@entry=0x7fdfb9e67d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb9e684b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb9e67f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb9e684b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb9e690e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb9e690e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357c80, client_io=client_io@entry=0x7fdfb9e69710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357c80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357c80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e040) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 104 (Thread 0x7fdfb966a700 (LWP 137299)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb96666c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb96666c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb9666898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb96668c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb96669d0, bucket=bucket@entry=0x7fdfb9666a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b2183b18, pmtime=0x7fe0b2183b20, epoch=0x7fe0b2183b28, attrs=0x7fe0b2183f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb96674c0, obj=..., state=state@entry=0x7fdfb9666d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb96674c0, obj=..., state=state@entry=0x7fdfb9666d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb96674b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb9666f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb96674b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb96680e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb96680e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d080, client_io=client_io@entry=0x7fdfb9668710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d080) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d080) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e0a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 103 (Thread 0x7fdfb8e69700 (LWP 137300)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb8e656c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb8e656c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb8e65898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb8e658c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb8e659d0, bucket=bucket@entry=0x7fdfb8e65a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b0d68518, pmtime=0x7fe0b0d68520, epoch=0x7fe0b0d68528, attrs=0x7fe0b0d68958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb8e664c0, obj=..., state=state@entry=0x7fdfb8e65d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb8e664c0, obj=..., state=state@entry=0x7fdfb8e65d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb8e664b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb8e65f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb8e664b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb8e670e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb8e670e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8fc0, client_io=client_io@entry=0x7fdfb8e67710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8fc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8fc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e100) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 102 (Thread 0x7fdfb8668700 (LWP 137301)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb86646c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb86646c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb8664898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb86648c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb86649d0, bucket=bucket@entry=0x7fdfb8664a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ae17cb18, pmtime=0x7fe0ae17cb20, epoch=0x7fe0ae17cb28, attrs=0x7fe0ae17cf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb86654c0, obj=..., state=state@entry=0x7fdfb8664d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb86654c0, obj=..., state=state@entry=0x7fdfb8664d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb86654b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb8664f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb86654b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb86660e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb86660e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f1c0, client_io=client_io@entry=0x7fdfb8666710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f1c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f1c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e160) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 101 (Thread 0x7fdfb7e67700 (LWP 137302)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb7e636c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb7e636c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb7e63898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb7e638c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb7e639d0, bucket=bucket@entry=0x7fdfb7e63a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0b0972518, pmtime=0x7fe0b0972520, epoch=0x7fe0b0972528, attrs=0x7fe0b0972958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb7e644c0, obj=..., state=state@entry=0x7fdfb7e63d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb7e644c0, obj=..., state=state@entry=0x7fdfb7e63d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb7e644b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb7e63f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb7e644b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb7e650e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb7e650e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc180, client_io=client_io@entry=0x7fdfb7e65710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc180) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc180) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e1c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 100 (Thread 0x7fdfb7666700 (LWP 137303)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb76626c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb76626c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb7662898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb76628c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb76629d0, bucket=bucket@entry=0x7fdfb7662a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ac180518, pmtime=0x7fe0ac180520, epoch=0x7fe0ac180528, attrs=0x7fe0ac180958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb76634c0, obj=..., state=state@entry=0x7fdfb7662d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb76634c0, obj=..., state=state@entry=0x7fdfb7662d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb76634b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb7662f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb76634b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb76640e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb76640e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f780, client_io=client_io@entry=0x7fdfb7664710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f780) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f780) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e220) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 99 (Thread 0x7fdfb6e65700 (LWP 137304)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb6e616c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb6e616c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb6e61898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb6e618c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb6e619d0, bucket=bucket@entry=0x7fdfb6e61a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0af96fb18, pmtime=0x7fe0af96fb20, epoch=0x7fe0af96fb28, attrs=0x7fe0af96ff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb6e624c0, obj=..., state=state@entry=0x7fdfb6e61d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb6e624c0, obj=..., state=state@entry=0x7fdfb6e61d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb6e624b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb6e61f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb6e624b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb6e630e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb6e630e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8fd00, client_io=client_io@entry=0x7fdfb6e63710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8fd00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8fd00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e280) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 98 (Thread 0x7fdfb6664700 (LWP 137305)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfb66601a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfb66601a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0a5035d00, sul=..., ptid=ptid@entry=0x7fdfb66603c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0a5035d00, sul=..., ptid=ptid@entry=0x7fdfb66603c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0a5035d00, ptid=0x7fdfb66603c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fd200, oid=..., o=0x7fdf76f23400, pbl=pbl@entry=0x7fdfb66607e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfb6660760, oid="test1", o=o@entry=0x7fdfb6660740, pbl=pbl@entry=0x7fdfb66607e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0a516f518, pmtime=0x7fe0a516f520, epoch=0x7fe0a516f528, attrs=0x7fe0a516f958, first_chunk=0x0, objv_tracker=0x7fdfb66611e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb6662620, obj=..., state=state@entry=0x7fdfb6660aa8, objv_tracker=objv_tracker@entry=0x7fdfb66611e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb6662620, obj=..., state=state@entry=0x7fdfb6660aa8, objv_tracker=objv_tracker@entry=0x7fdfb66611e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfb66623c8, lastmod=0x7fdfb6661180, obj_size=0x0, objv_tracker=0x7fdfb66611e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb6660cb0, objv_tracker=objv_tracker@entry=0x7fdfb66611e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfb66611e0, pmtime=pmtime@entry=0x7fdfb6661180, pattrs=pattrs@entry=0x7fdfb66623c8, cache_info=cache_info@entry=0x7fdfb66611b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfb66611e0, pmtime=pmtime@entry=0x7fdfb6661180, pattrs=pattrs@entry=0x7fdfb66623c8, cache_info=cache_info@entry=0x7fdfb66611b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfb66623c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfb66620e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7a1c9e80) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722cb80, client_io=client_io@entry=0x7fdfb6662710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722cb80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722cb80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e2e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 97 (Thread 0x7fdfb5e63700 (LWP 137306)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb5e5f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb5e5f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb5e5f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb5e5f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb5e5f9d0, bucket=bucket@entry=0x7fdfb5e5fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe08417d518, pmtime=0x7fe08417d520, epoch=0x7fe08417d528, attrs=0x7fe08417d958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb5e604c0, obj=..., state=state@entry=0x7fdfb5e5fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb5e604c0, obj=..., state=state@entry=0x7fdfb5e5fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb5e604b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb5e5ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb5e604b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb5e610e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb5e610e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d900, client_io=client_io@entry=0x7fdfb5e61710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d900) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d900) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e340) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 96 (Thread 0x7fdfb5662700 (LWP 137307)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb565e6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb565e6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb565e898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb565e8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb565e9d0, bucket=bucket@entry=0x7fdfb565ea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf899b0518, pmtime=0x7fdf899b0520, epoch=0x7fdf899b0528, attrs=0x7fdf899b0958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb565f4c0, obj=..., state=state@entry=0x7fdfb565ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb565f4c0, obj=..., state=state@entry=0x7fdfb565ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb565f4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb565ef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb565f4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb56600e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb56600e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d9c0, client_io=client_io@entry=0x7fdfb5660710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d9c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d9c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e3a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 95 (Thread 0x7fdfb4e61700 (LWP 137308)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb4e5d6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb4e5d6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb4e5d898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb4e5d8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb4e5d9d0, bucket=bucket@entry=0x7fdfb4e5da20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf895b2b18, pmtime=0x7fdf895b2b20, epoch=0x7fdf895b2b28, attrs=0x7fdf895b2f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb4e5e4c0, obj=..., state=state@entry=0x7fdfb4e5dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb4e5e4c0, obj=..., state=state@entry=0x7fdfb4e5dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb4e5e4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb4e5df30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb4e5e4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb4e5f0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb4e5f0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa1c0, client_io=client_io@entry=0x7fdfb4e5f710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa1c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa1c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e400) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 94 (Thread 0x7fdfb4660700 (LWP 137309)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfb465c120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfb465c120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8904c080, sul=..., ptid=ptid@entry=0x7fdfb465c348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8904c080, sul=..., ptid=ptid@entry=0x7fdfb465c348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8904c080, ptid=0x7fdfb465c348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf788cb000, oid=..., o=0x7fdf7f100600, pbl=pbl@entry=0x7fdfb465c760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfb465c6e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fdfb465c6c0, pbl=pbl@entry=0x7fdfb465c760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf891b0b18, pmtime=0x7fdf891b0b20, epoch=0x7fdf891b0b28, attrs=0x7fdf891b0f58, first_chunk=0x0, objv_tracker=0x7fdfb465d498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb465cff0, obj=..., state=state@entry=0x7fdfb465ca28, objv_tracker=objv_tracker@entry=0x7fdfb465d498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb465cff0, obj=..., state=state@entry=0x7fdfb465ca28, objv_tracker=objv_tracker@entry=0x7fdfb465d498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfb465d498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb465cc30, objv_tracker=objv_tracker@entry=0x7fdfb465d498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfb465d498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fdfb465d150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fdfb465d498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fdfb465d150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb465e0e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb465e0e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b3576c0, client_io=client_io@entry=0x7fdfb465e710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b3576c0) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b3576c0) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e460) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 93 (Thread 0x7fdfb3e5f700 (LWP 137310)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfb3e5b950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7307f000, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fdfb3e5bd58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfb3e5bae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fdfb3e5c1c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fdfb3e5bd50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdfb3e5c3d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfb3e5c3d8, pmtime=pmtime@entry=0x7fdfb3e5c4b0, pattrs=pattrs@entry=0x7fdfb3e5c4b8, cache_info=cache_info@entry=0x7fdfb3e5c1c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfb3e5c4b0, pattrs=pattrs@entry=0x7fdfb3e5c4b8, cache_info=cache_info@entry=0x7fdfb3e5c1c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfb3e5d3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfb3e5d0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7be278a0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a680, client_io=client_io@entry=0x7fdfb3e5d710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a680) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a680) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e4c0) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 92 (Thread 0x7fdfb365e700 (LWP 137311)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb365a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb365a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb365a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb365a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb365a9d0, bucket=bucket@entry=0x7fdfb365aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf889b4b18, pmtime=0x7fdf889b4b20, epoch=0x7fdf889b4b28, attrs=0x7fdf889b4f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb365b4c0, obj=..., state=state@entry=0x7fdfb365ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb365b4c0, obj=..., state=state@entry=0x7fdfb365ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb365b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb365af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb365b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb365c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb365c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c71693c0, client_io=client_io@entry=0x7fdfb365c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c71693c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c71693c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e520) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 91 (Thread 0x7fdfb2e5d700 (LWP 137312)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb2e596c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb2e596c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb2e59898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb2e598c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb2e599d0, bucket=bucket@entry=0x7fdfb2e59a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf885b0518, pmtime=0x7fdf885b0520, epoch=0x7fdf885b0528, attrs=0x7fdf885b0958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb2e5a4c0, obj=..., state=state@entry=0x7fdfb2e59d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb2e5a4c0, obj=..., state=state@entry=0x7fdfb2e59d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb2e5a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb2e59f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb2e5a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb2e5b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb2e5b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8fd80, client_io=client_io@entry=0x7fdfb2e5b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8fd80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8fd80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e580) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 90 (Thread 0x7fdfb265c700 (LWP 137313)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfb2658650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733c8600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfb2658880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfb2658800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfb26587e0, pbl=pbl@entry=0x7fdfb2658880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf881b6518, pmtime=0x7fdf881b6520, epoch=0x7fdf881b6528, attrs=0x7fdf881b6958, first_chunk=0x0, objv_tracker=0x7fdfb26593d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb265a620, obj=..., state=state@entry=0x7fdfb2658b48, objv_tracker=objv_tracker@entry=0x7fdfb26593d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb265a620, obj=..., state=state@entry=0x7fdfb2658b48, objv_tracker=objv_tracker@entry=0x7fdfb26593d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfb26594b8, lastmod=0x7fdfb26594b0, obj_size=0x0, objv_tracker=0x7fdfb26593d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb2658d50, objv_tracker=objv_tracker@entry=0x7fdfb26593d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfb26593d8, pmtime=pmtime@entry=0x7fdfb26594b0, pattrs=pattrs@entry=0x7fdfb26594b8, cache_info=cache_info@entry=0x7fdfb26591c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfb26594b0, pattrs=pattrs@entry=0x7fdfb26594b8, cache_info=cache_info@entry=0x7fdfb26591c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfb265a3c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfb265a0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c70e4c60) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35aa40, client_io=client_io@entry=0x7fdfb265a710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35aa40) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35aa40) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e5e0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 89 (Thread 0x7fdfb1e5b700 (LWP 137314)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb1e576c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb1e576c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb1e57898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb1e578c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb1e579d0, bucket=bucket@entry=0x7fdfb1e57a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf87db1b18, pmtime=0x7fdf87db1b20, epoch=0x7fdf87db1b28, attrs=0x7fdf87db1f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb1e584c0, obj=..., state=state@entry=0x7fdfb1e57d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb1e584c0, obj=..., state=state@entry=0x7fdfb1e57d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb1e584b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb1e57f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb1e584b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb1e590e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb1e590e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce640, client_io=client_io@entry=0x7fdfb1e59710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce640) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce640) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e640) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 88 (Thread 0x7fdfb165a700 (LWP 137315)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfb1656120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfb1656120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8784b900, sul=..., ptid=ptid@entry=0x7fdfb1656348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8784b900, sul=..., ptid=ptid@entry=0x7fdfb1656348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8784b900, ptid=0x7fdfb1656348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0ecbc0600, oid=..., o=0x7fdf80068480, pbl=pbl@entry=0x7fdfb1656760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfb16566e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fdfb16566c0, pbl=pbl@entry=0x7fdfb1656760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf879afb18, pmtime=0x7fdf879afb20, epoch=0x7fdf879afb28, attrs=0x7fdf879aff58, first_chunk=0x0, objv_tracker=0x7fdfb1657498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb1656ff0, obj=..., state=state@entry=0x7fdfb1656a28, objv_tracker=objv_tracker@entry=0x7fdfb1657498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb1656ff0, obj=..., state=state@entry=0x7fdfb1656a28, objv_tracker=objv_tracker@entry=0x7fdfb1657498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfb1657498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb1656c30, objv_tracker=objv_tracker@entry=0x7fdfb1657498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfb1657498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fdfb1657150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fdfb1657498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fdfb1657150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb16580e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb16580e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b3574c0, client_io=client_io@entry=0x7fdfb1658710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b3574c0) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b3574c0) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e6a0) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 87 (Thread 0x7fdfb0e59700 (LWP 137316)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfb0e56120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfb0e56120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf87424c80, sul=..., ptid=ptid@entry=0x7fdfb0e56348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf87424c80, sul=..., ptid=ptid@entry=0x7fdfb0e56348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf87424c80, ptid=0x7fdfb0e56348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf795d8200, oid=..., o=0x7fdf55c12680, pbl=pbl@entry=0x7fdfb0e56710, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfb0e566c0, oid="anonymous.buckets", o=o@entry=0x7fdfb0e566a0, pbl=pbl@entry=0x7fdfb0e56710) at librados/librados.cc:1424
#10 0x00007fe10baaed35 in RGWRados::cls_user_list_buckets (this=this@entry=0x7fe0fad50c00, obj=..., in_marker="", end_marker="", max_entries=max_entries@entry=1000, entries=empty std::list, out_marker=out_marker@entry=0x7fdfb0e56850, truncated=truncated@entry=0x7fdfb0e5683c) at rgw/rgw_rados.cc:12302
#11 0x00007fe10b993449 in rgw_read_user_buckets (store=0x7fe0fad50c00, user_id=..., buckets=..., marker="", end_marker="", max=max@entry=1000, need_stats=false, is_truncated=is_truncated@entry=0x7fdf87482c80, default_amount=default_amount@entry=1000) at rgw/rgw_bucket.cc:130
#12 0x00007fe10ba531ff in RGWListBuckets::execute (this=0x7fdf87482b80) at rgw/rgw_op.cc:1510
#13 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c2c0, client_io=client_io@entry=0x7fdfb0e57710, olog=0x0) at rgw/rgw_process.cc:174
#14 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c2c0) at rgw/rgw_fcgi_process.cc:121
#15 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c2c0) at rgw/rgw_process.h:84
#16 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e700) at common/WorkQueue.cc:128
#17 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#18 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#19 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 86 (Thread 0x7fdfb0658700 (LWP 137317)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfb06546c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfb06546c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfb0654898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfb06548c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfb06549d0, bucket=bucket@entry=0x7fdfb0654a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf871b2518, pmtime=0x7fdf871b2520, epoch=0x7fdf871b2528, attrs=0x7fdf871b2958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfb06554c0, obj=..., state=state@entry=0x7fdfb0654d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfb06554c0, obj=..., state=state@entry=0x7fdfb0654d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfb06554b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfb0654f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfb06554b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfb06560e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfb06560e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77790ac0, client_io=client_io@entry=0x7fdfb0656710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77790ac0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77790ac0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e760) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 85 (Thread 0x7fdfafe57700 (LWP 137318)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfafe531a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfafe531a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf86c28d80, sul=..., ptid=ptid@entry=0x7fdfafe533c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf86c28d80, sul=..., ptid=ptid@entry=0x7fdfafe533c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf86c28d80, ptid=0x7fdfafe533c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c5600, oid=..., o=0x7fe0ecb9e780, pbl=pbl@entry=0x7fdfafe537e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfafe53760, oid="test1", o=o@entry=0x7fdfafe53740, pbl=pbl@entry=0x7fdfafe537e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf86db4518, pmtime=0x7fdf86db4520, epoch=0x7fdf86db4528, attrs=0x7fdf86db4958, first_chunk=0x0, objv_tracker=0x7fdfafe541e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfafe55620, obj=..., state=state@entry=0x7fdfafe53aa8, objv_tracker=objv_tracker@entry=0x7fdfafe541e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfafe55620, obj=..., state=state@entry=0x7fdfafe53aa8, objv_tracker=objv_tracker@entry=0x7fdfafe541e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfafe553c8, lastmod=0x7fdfafe54180, obj_size=0x0, objv_tracker=0x7fdfafe541e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfafe53cb0, objv_tracker=objv_tracker@entry=0x7fdfafe541e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfafe541e0, pmtime=pmtime@entry=0x7fdfafe54180, pattrs=pattrs@entry=0x7fdfafe553c8, cache_info=cache_info@entry=0x7fdfafe541b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfafe541e0, pmtime=pmtime@entry=0x7fdfafe54180, pattrs=pattrs@entry=0x7fdfafe553c8, cache_info=cache_info@entry=0x7fdfafe541b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfafe553c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfafe550e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b8aaac0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf778680c0, client_io=client_io@entry=0x7fdfafe55710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf778680c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf778680c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e7c0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 84 (Thread 0x7fdfaf656700 (LWP 137319)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfaf652650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733eb400, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfaf652880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfaf652800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfaf6527e0, pbl=pbl@entry=0x7fdfaf652880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf869b4518, pmtime=0x7fdf869b4520, epoch=0x7fdf869b4528, attrs=0x7fdf869b4958, first_chunk=0x0, objv_tracker=0x7fdfaf6533d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfaf654620, obj=..., state=state@entry=0x7fdfaf652b48, objv_tracker=objv_tracker@entry=0x7fdfaf6533d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfaf654620, obj=..., state=state@entry=0x7fdfaf652b48, objv_tracker=objv_tracker@entry=0x7fdfaf6533d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfaf6534b8, lastmod=0x7fdfaf6534b0, obj_size=0x0, objv_tracker=0x7fdfaf6533d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfaf652d50, objv_tracker=objv_tracker@entry=0x7fdfaf6533d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfaf6533d8, pmtime=pmtime@entry=0x7fdfaf6534b0, pattrs=pattrs@entry=0x7fdfaf6534b8, cache_info=cache_info@entry=0x7fdfaf6531c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfaf6534b0, pattrs=pattrs@entry=0x7fdfaf6534b8, cache_info=cache_info@entry=0x7fdfaf6531c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfaf6543c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfaf6540e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bff47a0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35abc0, client_io=client_io@entry=0x7fdfaf654710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35abc0) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35abc0) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e820) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 83 (Thread 0x7fdfaee55700 (LWP 137320)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfaee50de0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf77652200, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfaee51010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfaee50f90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfaee50f70, pbl=pbl@entry=0x7fdfaee51010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf86482d18, pmtime=0x7fdf86482d20, epoch=0x7fdf86482d28, attrs=0x7fdf86483158, first_chunk=0x0, objv_tracker=0x7fdfaee51ab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfaee51b90, obj=..., state=state@entry=0x7fdfaee512d8, objv_tracker=objv_tracker@entry=0x7fdfaee51ab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfaee51b90, obj=..., state=state@entry=0x7fdfaee512d8, objv_tracker=objv_tracker@entry=0x7fdfaee51ab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfaee51ab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfaee514e0, objv_tracker=objv_tracker@entry=0x7fdfaee51ab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfaee51ab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2269", bucket_obj=bucket_obj@entry=0x7fdfaee52210, shard_id=shard_id@entry=0x7fdfaee52200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdfaee521b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdfaee52120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdfaee52120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfaee52500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf8667ca00, etag=..., mtime=0x7fdf865cd368, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf8667ca00, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf865cd000) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf76eb7b40, client_io=client_io@entry=0x7fdfaee53710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf76eb7b40) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf76eb7b40) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e880) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 82 (Thread 0x7fdfae654700 (LWP 137321)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfae6506c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfae6506c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfae650898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfae6508c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfae6509d0, bucket=bucket@entry=0x7fdfae650a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf861b4b18, pmtime=0x7fdf861b4b20, epoch=0x7fdf861b4b28, attrs=0x7fdf861b4f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfae6514c0, obj=..., state=state@entry=0x7fdfae650d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfae6514c0, obj=..., state=state@entry=0x7fdfae650d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfae6514b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfae650f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfae6514b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfae6520e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfae6520e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357f40, client_io=client_io@entry=0x7fdfae652710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357f40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357f40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e8e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 81 (Thread 0x7fdfade53700 (LWP 137322)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfade4f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfade4f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfade4f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfade4f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfade4f9d0, bucket=bucket@entry=0x7fdfade4fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf85db0b18, pmtime=0x7fdf85db0b20, epoch=0x7fdf85db0b28, attrs=0x7fdf85db0f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfade504c0, obj=..., state=state@entry=0x7fdfade4fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfade504c0, obj=..., state=state@entry=0x7fdfade4fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfade504b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfade4ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfade504b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfade510e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfade510e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77aeec40, client_io=client_io@entry=0x7fdfade51710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77aeec40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77aeec40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e940) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 80 (Thread 0x7fdfad652700 (LWP 137323)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfad64e6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfad64e6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfad64e898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfad64e8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfad64e9d0, bucket=bucket@entry=0x7fdfad64ea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf859b4b18, pmtime=0x7fdf859b4b20, epoch=0x7fdf859b4b28, attrs=0x7fdf859b4f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfad64f4c0, obj=..., state=state@entry=0x7fdfad64ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfad64f4c0, obj=..., state=state@entry=0x7fdfad64ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfad64f4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfad64ef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfad64f4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfad6500e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfad6500e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dca80, client_io=client_io@entry=0x7fdfad650710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dca80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dca80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707e9a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 79 (Thread 0x7fdface51700 (LWP 137324)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdface4d6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdface4d6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdface4d898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdface4d8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdface4d9d0, bucket=bucket@entry=0x7fdface4da20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf855b4b18, pmtime=0x7fdf855b4b20, epoch=0x7fdf855b4b28, attrs=0x7fdf855b4f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdface4e4c0, obj=..., state=state@entry=0x7fdface4dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdface4e4c0, obj=..., state=state@entry=0x7fdface4dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdface4e4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdface4df30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdface4e4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdface4f0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdface4f0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce240, client_io=client_io@entry=0x7fdface4f710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce240) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce240) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707ea00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 78 (Thread 0x7fdfac650700 (LWP 137325)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfac64c1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfac64c1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8500ea80, sul=..., ptid=ptid@entry=0x7fdfac64c3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8500ea80, sul=..., ptid=ptid@entry=0x7fdfac64c3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8500ea80, ptid=0x7fdfac64c3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf7440ac00, oid=..., o=0x7fe0ac0d8e00, pbl=pbl@entry=0x7fdfac64c7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfac64c760, oid="test1", o=o@entry=0x7fdfac64c740, pbl=pbl@entry=0x7fdfac64c7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf851b4518, pmtime=0x7fdf851b4520, epoch=0x7fdf851b4528, attrs=0x7fdf851b4958, first_chunk=0x0, objv_tracker=0x7fdfac64d1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfac64e620, obj=..., state=state@entry=0x7fdfac64caa8, objv_tracker=objv_tracker@entry=0x7fdfac64d1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfac64e620, obj=..., state=state@entry=0x7fdfac64caa8, objv_tracker=objv_tracker@entry=0x7fdfac64d1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfac64e3c8, lastmod=0x7fdfac64d180, obj_size=0x0, objv_tracker=0x7fdfac64d1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfac64ccb0, objv_tracker=objv_tracker@entry=0x7fdfac64d1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfac64d1e0, pmtime=pmtime@entry=0x7fdfac64d180, pattrs=pattrs@entry=0x7fdfac64e3c8, cache_info=cache_info@entry=0x7fdfac64d1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfac64d1e0, pmtime=pmtime@entry=0x7fdfac64d180, pattrs=pattrs@entry=0x7fdfac64e3c8, cache_info=cache_info@entry=0x7fdfac64d1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfac64e3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfac64e0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bb9e980) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868c00, client_io=client_io@entry=0x7fdfac64e710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868c00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868c00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707ea60) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 77 (Thread 0x7fdfabe4f700 (LWP 137326)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfabe4b6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfabe4b6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfabe4b898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfabe4b8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfabe4b9d0, bucket=bucket@entry=0x7fdfabe4ba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf84db6b18, pmtime=0x7fdf84db6b20, epoch=0x7fdf84db6b28, attrs=0x7fdf84db6f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfabe4c4c0, obj=..., state=state@entry=0x7fdfabe4bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfabe4c4c0, obj=..., state=state@entry=0x7fdfabe4bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfabe4c4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfabe4bf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfabe4c4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfabe4d0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfabe4d0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d040, client_io=client_io@entry=0x7fdfabe4d710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d040) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d040) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707eac0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 76 (Thread 0x7fdfab64e700 (LWP 137327)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfab64a950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf73396400, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fdfab64ad58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfab64aae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fdfab64b1c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fdfab64ad50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdfab64b3d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfab64b3d8, pmtime=pmtime@entry=0x7fdfab64b4b0, pattrs=pattrs@entry=0x7fdfab64b4b8, cache_info=cache_info@entry=0x7fdfab64b1c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdfab64b4b0, pattrs=pattrs@entry=0x7fdfab64b4b8, cache_info=cache_info@entry=0x7fdfab64b1c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfab64c3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfab64c0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cbc05a0) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf78510900, client_io=client_io@entry=0x7fdfab64c710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf78510900) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf78510900) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707eb20) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 75 (Thread 0x7fdfaae4d700 (LWP 137328)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfaae49820) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfaae49820) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf84010d80, sul=..., ptid=ptid@entry=0x7fdf840e2530) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf84010d80, sul=..., ptid=ptid@entry=0x7fdf840e2530, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=op@entry=0x7fdf84010d80, ptid=ptid@entry=0x7fdf840e2530, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a1895b in librados::IoCtxImpl::aio_operate (this=0x7fe0eb5e0600, oid=..., o=0x7fe0f0d61880, c=0x7fdf840e2480, snap_context=..., flags=flags@entry=0) at librados/IoCtxImpl.cc:771
#9  0x00007fe1009e4a6b in librados::IoCtx::aio_operate (this=this@entry=0x7fdfaae4a208, oid=".dir.01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3.29", c=c@entry=0x7fdf84091100, o=o@entry=0x7fdfaae49c30) at librados/librados.cc:1432
#10 0x00007fe10ba9b5dc in RGWRados::cls_obj_complete_op (this=this@entry=0x7fe0fad50c00, bs=..., op=op@entry=CLS_RGW_OP_ADD, tag="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.46455", pool=pool@entry=21, epoch=epoch@entry=20, ent=..., category=category@entry=RGW_OBJ_CATEGORY_MAIN, remove_objs=remove_objs@entry=0x0, bilog_flags=bilog_flags@entry=0) at rgw/rgw_rados.cc:11773
#11 0x00007fe10ba9b7c3 in RGWRados::cls_obj_complete_add (this=this@entry=0x7fe0fad50c00, bs=..., tag="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.46455", pool=pool@entry=21, epoch=epoch@entry=20, ent=..., category=category@entry=RGW_OBJ_CATEGORY_MAIN, remove_objs=remove_objs@entry=0x0, bilog_flags=0) at rgw/rgw_rados.cc:11783
#12 0x00007fe10bab3a7d in RGWRados::Bucket::UpdateIndex::complete (this=this@entry=0x7fdfaae4a120, poolid=poolid@entry=21, epoch=epoch@entry=20, size=size@entry=512000, ut=..., etag="3eb0c18bde4385b161ecea07c0f7c6f3", content_type="application/octet-stream", acl_bl=acl_bl@entry=0x7fdfaae4a0d0, category=RGW_OBJ_CATEGORY_MAIN, remove_objs=0x0) at rgw/rgw_rados.cc:9192
#13 0x00007fe10bac1e6d in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfaae4a500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6363
#14 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf62c37800, etag=..., mtime=0x7fdf62c27768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#15 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf62c37800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#16 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf62c27400) at rgw/rgw_op.cc:2877
#17 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c97aac0, client_io=client_io@entry=0x7fdfaae4b710, olog=0x0) at rgw/rgw_process.cc:174
#18 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c97aac0) at rgw/rgw_fcgi_process.cc:121
#19 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c97aac0) at rgw/rgw_process.h:84
#20 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707eb80) at common/WorkQueue.cc:128
#21 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#22 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#23 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 74 (Thread 0x7fdfaa64c700 (LWP 137329)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfaa6486c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfaa6486c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfaa648898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfaa6488c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfaa6489d0, bucket=bucket@entry=0x7fdfaa648a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf845b4518, pmtime=0x7fdf845b4520, epoch=0x7fdf845b4528, attrs=0x7fdf845b4958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfaa6494c0, obj=..., state=state@entry=0x7fdfaa648d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfaa6494c0, obj=..., state=state@entry=0x7fdfaa648d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfaa6494b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfaa648f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfaa6494b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfaa64a0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfaa64a0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ced00, client_io=client_io@entry=0x7fdfaa64a710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ced00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ced00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707ebe0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 73 (Thread 0x7fdfa9e4b700 (LWP 137330)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa9e476c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa9e476c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa9e47898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa9e478c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa9e479d0, bucket=bucket@entry=0x7fdfa9e47a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf83db4b18, pmtime=0x7fdf83db4b20, epoch=0x7fdf83db4b28, attrs=0x7fdf83db4f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa9e484c0, obj=..., state=state@entry=0x7fdfa9e47d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa9e484c0, obj=..., state=state@entry=0x7fdfa9e47d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa9e484b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa9e47f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa9e484b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa9e490e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa9e490e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc980, client_io=client_io@entry=0x7fdfa9e49710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc980) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc980) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707ec40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 72 (Thread 0x7fdfa964a700 (LWP 137331)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfa9646440) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfa9646440) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf80847f80, sul=..., ptid=ptid@entry=0x7fdfa9646668) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf80847f80, sul=..., ptid=ptid@entry=0x7fdfa9646668, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf80847f80, ptid=0x7fdfa9646668, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf73376200, oid=..., o=0x7fdf55c1cf80, pbl=pbl@entry=0x7fdfa9646a80, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfa9646a00, oid="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3_100w_512K2272", o=o@entry=0x7fdfa96469e0, pbl=pbl@entry=0x7fdfa9646a80) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=this@entry=0x7fe0fad50c00, obj=..., psize=psize@entry=0x7fdf83889d18, pmtime=pmtime@entry=0x7fdf83889d20, epoch=epoch@entry=0x7fdf83889d28, attrs=attrs@entry=0x7fdf8388a158, first_chunk=0x0, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10bab7456 in RGWRados::get_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa9648620, obj=..., state=state@entry=0x7fdfa9647028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8375
#12 0x00007fe10bab8b84 in RGWRados::get_obj_state (this=0x7fe0fad50c00, rctx=0x7fdfa9648620, obj=..., state=state@entry=0x7fdfa9647028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8491
#13 0x00007fe10babb2a0 in RGWRados::Object::get_state (this=<optimized out>, pstate=pstate@entry=0x7fdfa9647028, follow_olh=follow_olh@entry=false) at rgw/rgw_rados.cc:8649
#14 0x00007fe10bac1939 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfa9647500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6227
#15 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf83a04800, etag=..., mtime=0x7fdf83ac5768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#16 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf83a04800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#17 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf83ac5400) at rgw/rgw_op.cc:2877
#18 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a4a0b40, client_io=client_io@entry=0x7fdfa9648710, olog=0x0) at rgw/rgw_process.cc:174
#19 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a4a0b40) at rgw/rgw_fcgi_process.cc:121
#20 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a4a0b40) at rgw/rgw_process.h:84
#21 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707eca0) at common/WorkQueue.cc:128
#22 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#23 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#24 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 71 (Thread 0x7fdfa8e49700 (LWP 137332)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a17b21 in Wait (mutex=..., this=0x7fdfa8e45e00) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate (this=0x7fdf73389200, oid=..., o=<optimized out>, pmtime=<optimized out>, flags=flags@entry=0) at librados/IoCtxImpl.cc:690
#3  0x00007fe1009e4963 in librados::IoCtx::operate (this=this@entry=0x7fdfa8e46060, oid="01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3_100w_512K2235", o=o@entry=0x7fdfa8e46070) at librados/librados.cc:1418
#4  0x00007fe10bac1de0 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfa8e46500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6346
#5  0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf83708400, etag=..., mtime=0x7fdf83746768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#6  0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf83708400, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#7  0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf83746400) at rgw/rgw_op.cc:2877
#8  0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a533740, client_io=client_io@entry=0x7fdfa8e47710, olog=0x0) at rgw/rgw_process.cc:174
#9  0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a533740) at rgw/rgw_fcgi_process.cc:121
#10 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a533740) at rgw/rgw_process.h:84
#11 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707ed00) at common/WorkQueue.cc:128
#12 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#13 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#14 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 70 (Thread 0x7fdfa8648700 (LWP 137333)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfa86441a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfa86441a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8300e800, sul=..., ptid=ptid@entry=0x7fdfa86443c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf8300e800, sul=..., ptid=ptid@entry=0x7fdfa86443c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf8300e800, ptid=0x7fdfa86443c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c7400, oid=..., o=0x7fe0ec9efe00, pbl=pbl@entry=0x7fdfa86447e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfa8644760, oid="test1", o=o@entry=0x7fdfa8644740, pbl=pbl@entry=0x7fdfa86447e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf831b0b18, pmtime=0x7fdf831b0b20, epoch=0x7fdf831b0b28, attrs=0x7fdf831b0f58, first_chunk=0x0, objv_tracker=0x7fdfa86451e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa8646620, obj=..., state=state@entry=0x7fdfa8644aa8, objv_tracker=objv_tracker@entry=0x7fdfa86451e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa8646620, obj=..., state=state@entry=0x7fdfa8644aa8, objv_tracker=objv_tracker@entry=0x7fdfa86451e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfa86463c8, lastmod=0x7fdfa8645180, obj_size=0x0, objv_tracker=0x7fdfa86451e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa8644cb0, objv_tracker=objv_tracker@entry=0x7fdfa86451e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfa86451e0, pmtime=pmtime@entry=0x7fdfa8645180, pattrs=pattrs@entry=0x7fdfa86463c8, cache_info=cache_info@entry=0x7fdfa86451b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfa86451e0, pmtime=pmtime@entry=0x7fdfa8645180, pattrs=pattrs@entry=0x7fdfa86463c8, cache_info=cache_info@entry=0x7fdfa86451b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfa86463c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfa86460e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b8aae00) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868880, client_io=client_io@entry=0x7fdfa8646710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868880) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868880) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707ed60) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 69 (Thread 0x7fdfa7e47700 (LWP 137334)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa7e436c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa7e436c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa7e43898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa7e438c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa7e439d0, bucket=bucket@entry=0x7fdfa7e43a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf82dafb18, pmtime=0x7fdf82dafb20, epoch=0x7fdf82dafb28, attrs=0x7fdf82daff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa7e444c0, obj=..., state=state@entry=0x7fdfa7e43d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa7e444c0, obj=..., state=state@entry=0x7fdfa7e43d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa7e444b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa7e43f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa7e444b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa7e450e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa7e450e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8840, client_io=client_io@entry=0x7fdfa7e45710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8840) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8840) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707edc0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 68 (Thread 0x7fdfa7646700 (LWP 137335)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa76426c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa76426c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa7642898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa76428c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa76429d0, bucket=bucket@entry=0x7fdfa7642a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf829b4518, pmtime=0x7fdf829b4520, epoch=0x7fdf829b4528, attrs=0x7fdf829b4958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa76434c0, obj=..., state=state@entry=0x7fdfa7642d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa76434c0, obj=..., state=state@entry=0x7fdfa7642d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa76434b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa7642f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa76434b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa76440e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa76440e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8bc0, client_io=client_io@entry=0x7fdfa7644710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8bc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8bc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707ee20) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 67 (Thread 0x7fdfa6e45700 (LWP 137336)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa6e416c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa6e416c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa6e41898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa6e418c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa6e419d0, bucket=bucket@entry=0x7fdfa6e41a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf825b4518, pmtime=0x7fdf825b4520, epoch=0x7fdf825b4528, attrs=0x7fdf825b4958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa6e424c0, obj=..., state=state@entry=0x7fdfa6e41d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa6e424c0, obj=..., state=state@entry=0x7fdfa6e41d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa6e424b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa6e41f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa6e424b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa6e430e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa6e430e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdba40, client_io=client_io@entry=0x7fdfa6e43710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdba40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdba40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707ee80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 66 (Thread 0x7fdfa6644700 (LWP 137337)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa66406c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa66406c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa6640898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa66408c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa66409d0, bucket=bucket@entry=0x7fdfa6640a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf821b6518, pmtime=0x7fdf821b6520, epoch=0x7fdf821b6528, attrs=0x7fdf821b6958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa66414c0, obj=..., state=state@entry=0x7fdfa6640d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa66414c0, obj=..., state=state@entry=0x7fdfa6640d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa66414b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa6640f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa66414b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa66420e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa66420e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8fa80, client_io=client_io@entry=0x7fdfa6642710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8fa80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8fa80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707eee0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 65 (Thread 0x7fdfa5e43700 (LWP 137338)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa5e3f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa5e3f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa5e3f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa5e3f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa5e3f9d0, bucket=bucket@entry=0x7fdfa5e3fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf81db4b18, pmtime=0x7fdf81db4b20, epoch=0x7fdf81db4b28, attrs=0x7fdf81db4f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa5e404c0, obj=..., state=state@entry=0x7fdfa5e3fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa5e404c0, obj=..., state=state@entry=0x7fdfa5e3fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa5e404b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa5e3ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa5e404b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa5e410e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa5e410e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d880, client_io=client_io@entry=0x7fdfa5e41710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d880) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d880) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707ef40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 64 (Thread 0x7fdfa5642700 (LWP 137339)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa563e6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa563e6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa563e898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa563e8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa563e9d0, bucket=bucket@entry=0x7fdfa563ea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf819b1518, pmtime=0x7fdf819b1520, epoch=0x7fdf819b1528, attrs=0x7fdf819b1958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa563f4c0, obj=..., state=state@entry=0x7fdfa563ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa563f4c0, obj=..., state=state@entry=0x7fdfa563ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa563f4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa563ef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa563f4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa56400e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa56400e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8c40, client_io=client_io@entry=0x7fdfa5640710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8c40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8c40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c707efa0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 63 (Thread 0x7fdfa4e41700 (LWP 137340)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa4e3d6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa4e3d6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa4e3d898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa4e3d8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa4e3d9d0, bucket=bucket@entry=0x7fdfa4e3da20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf815b0518, pmtime=0x7fdf815b0520, epoch=0x7fdf815b0528, attrs=0x7fdf815b0958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa4e3e4c0, obj=..., state=state@entry=0x7fdfa4e3dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa4e3e4c0, obj=..., state=state@entry=0x7fdfa4e3dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa4e3e4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa4e3df30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa4e3e4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa4e3f0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa4e3f0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a5b0080, client_io=client_io@entry=0x7fdfa4e3f710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a5b0080) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a5b0080) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088040) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 62 (Thread 0x7fdfa4640700 (LWP 137341)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfa463c1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfa463c1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf81011000, sul=..., ptid=ptid@entry=0x7fdfa463c3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf81011000, sul=..., ptid=ptid@entry=0x7fdfa463c3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf81011000, ptid=0x7fdfa463c3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c3000, oid=..., o=0x7fdf72642e00, pbl=pbl@entry=0x7fdfa463c7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfa463c760, oid="test1", o=o@entry=0x7fdfa463c740, pbl=pbl@entry=0x7fdfa463c7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf811b4518, pmtime=0x7fdf811b4520, epoch=0x7fdf811b4528, attrs=0x7fdf811b4958, first_chunk=0x0, objv_tracker=0x7fdfa463d1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa463e620, obj=..., state=state@entry=0x7fdfa463caa8, objv_tracker=objv_tracker@entry=0x7fdfa463d1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa463e620, obj=..., state=state@entry=0x7fdfa463caa8, objv_tracker=objv_tracker@entry=0x7fdfa463d1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfa463e3c8, lastmod=0x7fdfa463d180, obj_size=0x0, objv_tracker=0x7fdfa463d1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa463ccb0, objv_tracker=objv_tracker@entry=0x7fdfa463d1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfa463d1e0, pmtime=pmtime@entry=0x7fdfa463d180, pattrs=pattrs@entry=0x7fdfa463e3c8, cache_info=cache_info@entry=0x7fdfa463d1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfa463d1e0, pmtime=pmtime@entry=0x7fdfa463d180, pattrs=pattrs@entry=0x7fdfa463e3c8, cache_info=cache_info@entry=0x7fdfa463d1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfa463e3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfa463e0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bc8eba0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868e80, client_io=client_io@entry=0x7fdfa463e710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868e80) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868e80) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70880a0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 61 (Thread 0x7fdfa3e3f700 (LWP 137342)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdfa3e3ade0) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf55d7ee00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdfa3e3b010, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfa3e3af90, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdfa3e3af70, pbl=pbl@entry=0x7fdfa3e3b010) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf80886318, pmtime=0x7fdf80886320, epoch=0x7fdf80886328, attrs=0x7fdf80886758, first_chunk=0x0, objv_tracker=0x7fdfa3e3bab8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa3e3bb90, obj=..., state=state@entry=0x7fdfa3e3b2d8, objv_tracker=objv_tracker@entry=0x7fdfa3e3bab8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa3e3bb90, obj=..., state=state@entry=0x7fdfa3e3b2d8, objv_tracker=objv_tracker@entry=0x7fdfa3e3bab8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdfa3e3bab8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa3e3b4e0, objv_tracker=objv_tracker@entry=0x7fdfa3e3bab8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdfa3e3bab8, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa2a57 in RGWRados::get_bucket_instance_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., info=..., pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0) at rgw/rgw_rados.cc:10909
#12 0x00007fe10bab32f0 in RGWRados::open_bucket_index_shard (this=0x7fe0fad50c00, bucket=..., index_ctx=..., obj_key="100w_512K2256", bucket_obj=bucket_obj@entry=0x7fdfa3e3c210, shard_id=shard_id@entry=0x7fdfa3e3c200) at rgw/rgw_rados.cc:7854
#13 0x00007fe10bab3677 in RGWRados::BucketShard::init (this=this@entry=0x7fdfa3e3c1b8, _bucket=..., obj=...) at rgw/rgw_rados.cc:5943
#14 0x00007fe10bac0703 in get_bucket_shard (pbs=<synthetic pointer>, this=0x7fdfa3e3c120) at rgw/rgw_rados.h:2481
#15 RGWRados::Bucket::UpdateIndex::prepare (this=this@entry=0x7fdfa3e3c120, op=op@entry=CLS_RGW_OP_ADD) at rgw/rgw_rados.cc:9143
#16 0x00007fe10bac1dc4 in RGWRados::Object::Write::write_meta (this=this@entry=0x7fdfa3e3c500, size=512000, attrs=std::map with 3 elements) at rgw/rgw_rados.cc:6342
#17 0x00007fe10bac2b74 in RGWPutObjProcessor_Atomic::do_complete (this=0x7fdf809e2800, etag=..., mtime=0x7fdf80a76768, set_mtime=..., attrs=std::map with 3 elements, delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2555
#18 0x00007fe10ba89f03 in RGWPutObjProcessor::complete (this=0x7fdf809e2800, etag=..., mtime=<optimized out>, set_mtime=..., attrs=..., delete_at=..., if_match=0x0, if_nomatch=0x0) at rgw/rgw_rados.cc:2181
#19 0x00007fe10ba5a2ca in RGWPutObj::execute (this=0x7fdf80a76400) at rgw/rgw_op.cc:2877
#20 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf780f2340, client_io=client_io@entry=0x7fdfa3e3d710, olog=0x0) at rgw/rgw_process.cc:174
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf780f2340) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf780f2340) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088100) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 60 (Thread 0x7fdfa363e700 (LWP 137343)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa363a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa363a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa363a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa363a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa363a9d0, bucket=bucket@entry=0x7fdfa363aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf805b8518, pmtime=0x7fdf805b8520, epoch=0x7fdf805b8528, attrs=0x7fdf805b8958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa363b4c0, obj=..., state=state@entry=0x7fdfa363ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa363b4c0, obj=..., state=state@entry=0x7fdfa363ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa363b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa363af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa363b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa363c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa363c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f3c0, client_io=client_io@entry=0x7fdfa363c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f3c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f3c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088160) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 59 (Thread 0x7fdfa2e3d700 (LWP 137344)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa2e396c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa2e396c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa2e39898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa2e398c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa2e399d0, bucket=bucket@entry=0x7fdfa2e39a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf801b1518, pmtime=0x7fdf801b1520, epoch=0x7fdf801b1528, attrs=0x7fdf801b1958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa2e3a4c0, obj=..., state=state@entry=0x7fdfa2e39d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa2e3a4c0, obj=..., state=state@entry=0x7fdfa2e39d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa2e3a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa2e39f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa2e3a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa2e3b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa2e3b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f4c0, client_io=client_io@entry=0x7fdfa2e3b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f4c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f4c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70881c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 58 (Thread 0x7fdfa263c700 (LWP 137345)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa26386c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa26386c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa2638898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa26388c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa26389d0, bucket=bucket@entry=0x7fdfa2638a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7fdb6518, pmtime=0x7fdf7fdb6520, epoch=0x7fdf7fdb6528, attrs=0x7fdf7fdb6958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa26394c0, obj=..., state=state@entry=0x7fdfa2638d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa26394c0, obj=..., state=state@entry=0x7fdfa2638d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa26394b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa2638f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa26394b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa263a0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa263a0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfaa00, client_io=client_io@entry=0x7fdfa263a710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfaa00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfaa00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088220) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 57 (Thread 0x7fdfa1e3b700 (LWP 137346)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa1e376c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa1e376c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa1e37898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa1e378c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa1e379d0, bucket=bucket@entry=0x7fdfa1e37a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7f9b1b18, pmtime=0x7fdf7f9b1b20, epoch=0x7fdf7f9b1b28, attrs=0x7fdf7f9b1f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa1e384c0, obj=..., state=state@entry=0x7fdfa1e37d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa1e384c0, obj=..., state=state@entry=0x7fdfa1e37d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa1e384b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa1e37f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa1e384b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa1e390e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa1e390e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c15a640, client_io=client_io@entry=0x7fdfa1e39710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c15a640) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c15a640) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088280) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 56 (Thread 0x7fdfa163a700 (LWP 137347)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa16366c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa16366c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa1636898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa16368c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa16369d0, bucket=bucket@entry=0x7fdfa1636a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7f5b5b18, pmtime=0x7fdf7f5b5b20, epoch=0x7fdf7f5b5b28, attrs=0x7fdf7f5b5f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa16374c0, obj=..., state=state@entry=0x7fdfa1636d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa16374c0, obj=..., state=state@entry=0x7fdfa1636d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa16374b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa1636f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa16374b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa16380e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa16380e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dcd80, client_io=client_io@entry=0x7fdfa1638710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dcd80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dcd80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70882e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 55 (Thread 0x7fdfa0e39700 (LWP 137348)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdfa0e356c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdfa0e356c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdfa0e35898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdfa0e358c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdfa0e359d0, bucket=bucket@entry=0x7fdfa0e35a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7f1b0b18, pmtime=0x7fdf7f1b0b20, epoch=0x7fdf7f1b0b28, attrs=0x7fdf7f1b0f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa0e364c0, obj=..., state=state@entry=0x7fdfa0e35d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa0e364c0, obj=..., state=state@entry=0x7fdfa0e35d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdfa0e364b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa0e35f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdfa0e364b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdfa0e370e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdfa0e370e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b4a3fc0, client_io=client_io@entry=0x7fdfa0e37710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b4a3fc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b4a3fc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088340) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 54 (Thread 0x7fdfa0638700 (LWP 137349)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdfa06341a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdfa06341a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7ec3b600, sul=..., ptid=ptid@entry=0x7fdfa06343c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7ec3b600, sul=..., ptid=ptid@entry=0x7fdfa06343c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7ec3b600, ptid=0x7fdfa06343c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fc400, oid=..., o=0x7fe0f0513f80, pbl=pbl@entry=0x7fdfa06347e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdfa0634760, oid="test1", o=o@entry=0x7fdfa0634740, pbl=pbl@entry=0x7fdfa06347e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7edac518, pmtime=0x7fdf7edac520, epoch=0x7fdf7edac528, attrs=0x7fdf7edac958, first_chunk=0x0, objv_tracker=0x7fdfa06351e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdfa0636620, obj=..., state=state@entry=0x7fdfa0634aa8, objv_tracker=objv_tracker@entry=0x7fdfa06351e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdfa0636620, obj=..., state=state@entry=0x7fdfa0634aa8, objv_tracker=objv_tracker@entry=0x7fdfa06351e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdfa06363c8, lastmod=0x7fdfa0635180, obj_size=0x0, objv_tracker=0x7fdfa06351e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdfa0634cb0, objv_tracker=objv_tracker@entry=0x7fdfa06351e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdfa06351e0, pmtime=pmtime@entry=0x7fdfa0635180, pattrs=pattrs@entry=0x7fdfa06363c8, cache_info=cache_info@entry=0x7fdfa06351b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdfa06351e0, pmtime=pmtime@entry=0x7fdfa0635180, pattrs=pattrs@entry=0x7fdfa06363c8, cache_info=cache_info@entry=0x7fdfa06351b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdfa06363c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdfa06360e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b48f740) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722c880, client_io=client_io@entry=0x7fdfa0636710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722c880) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722c880) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70883a0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 53 (Thread 0x7fdf9fe37700 (LWP 137350)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf9fe336c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf9fe336c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf9fe33898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf9fe338c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf9fe339d0, bucket=bucket@entry=0x7fdf9fe33a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7e9ab518, pmtime=0x7fdf7e9ab520, epoch=0x7fdf7e9ab528, attrs=0x7fdf7e9ab958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9fe344c0, obj=..., state=state@entry=0x7fdf9fe33d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9fe344c0, obj=..., state=state@entry=0x7fdf9fe33d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf9fe344b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9fe33f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf9fe344b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf9fe350e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf9fe350e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1cee80, client_io=client_io@entry=0x7fdf9fe35710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1cee80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1cee80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088400) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 52 (Thread 0x7fdf9f636700 (LWP 137351)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdf9f6321a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdf9f6321a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7e423d80, sul=..., ptid=ptid@entry=0x7fdf9f6323c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7e423d80, sul=..., ptid=ptid@entry=0x7fdf9f6323c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7e423d80, ptid=0x7fdf9f6323c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb717400, oid=..., o=0x7fe0ec9ebc80, pbl=pbl@entry=0x7fdf9f6327e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdf9f632760, oid="test1", o=o@entry=0x7fdf9f632740, pbl=pbl@entry=0x7fdf9f6327e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7e5af518, pmtime=0x7fdf7e5af520, epoch=0x7fdf7e5af528, attrs=0x7fdf7e5af958, first_chunk=0x0, objv_tracker=0x7fdf9f6331e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9f634620, obj=..., state=state@entry=0x7fdf9f632aa8, objv_tracker=objv_tracker@entry=0x7fdf9f6331e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9f634620, obj=..., state=state@entry=0x7fdf9f632aa8, objv_tracker=objv_tracker@entry=0x7fdf9f6331e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdf9f6343c8, lastmod=0x7fdf9f633180, obj_size=0x0, objv_tracker=0x7fdf9f6331e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9f632cb0, objv_tracker=objv_tracker@entry=0x7fdf9f6331e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdf9f6331e0, pmtime=pmtime@entry=0x7fdf9f633180, pattrs=pattrs@entry=0x7fdf9f6343c8, cache_info=cache_info@entry=0x7fdf9f6331b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdf9f6331e0, pmtime=pmtime@entry=0x7fdf9f633180, pattrs=pattrs@entry=0x7fdf9f6343c8, cache_info=cache_info@entry=0x7fdf9f6331b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdf9f6343c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdf9f6340e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c869e40) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b222600, client_io=client_io@entry=0x7fdf9f634710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b222600) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b222600) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088460) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 51 (Thread 0x7fdf9ee35700 (LWP 137352)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf9ee316c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf9ee316c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf9ee31898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf9ee318c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf9ee319d0, bucket=bucket@entry=0x7fdf9ee31a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7e1ac518, pmtime=0x7fdf7e1ac520, epoch=0x7fdf7e1ac528, attrs=0x7fdf7e1ac958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9ee324c0, obj=..., state=state@entry=0x7fdf9ee31d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9ee324c0, obj=..., state=state@entry=0x7fdf9ee31d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf9ee324b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9ee31f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf9ee324b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf9ee330e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf9ee330e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd5c0, client_io=client_io@entry=0x7fdf9ee33710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd5c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd5c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70884c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 50 (Thread 0x7fdf9e634700 (LWP 137353)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf9e6306c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf9e6306c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf9e630898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf9e6308c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf9e6309d0, bucket=bucket@entry=0x7fdf9e630a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7ddb5b18, pmtime=0x7fdf7ddb5b20, epoch=0x7fdf7ddb5b28, attrs=0x7fdf7ddb5f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9e6314c0, obj=..., state=state@entry=0x7fdf9e630d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9e6314c0, obj=..., state=state@entry=0x7fdf9e630d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf9e6314b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9e630f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf9e6314b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf9e6320e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf9e6320e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9dc80, client_io=client_io@entry=0x7fdf9e632710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9dc80) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9dc80) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088520) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 49 (Thread 0x7fdf9de33700 (LWP 137354)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf9de2f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf9de2f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf9de2f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf9de2f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf9de2f9d0, bucket=bucket@entry=0x7fdf9de2fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7d96ab18, pmtime=0x7fdf7d96ab20, epoch=0x7fdf7d96ab28, attrs=0x7fdf7d96af58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9de304c0, obj=..., state=state@entry=0x7fdf9de2fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9de304c0, obj=..., state=state@entry=0x7fdf9de2fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf9de304b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9de2ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf9de304b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf9de310e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf9de310e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d740, client_io=client_io@entry=0x7fdf9de31710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d740) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d740) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088580) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 48 (Thread 0x7fdf9d632700 (LWP 137355)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdf9d62e1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdf9d62e1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7d427480, sul=..., ptid=ptid@entry=0x7fdf9d62e3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fdf7d427480, sul=..., ptid=ptid@entry=0x7fdf9d62e3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fdf7d427480, ptid=0x7fdf9d62e3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c7e00, oid=..., o=0x7fe0ea83d000, pbl=pbl@entry=0x7fdf9d62e7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdf9d62e760, oid="test1", o=o@entry=0x7fdf9d62e740, pbl=pbl@entry=0x7fdf9d62e7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fdf7d5b0b18, pmtime=0x7fdf7d5b0b20, epoch=0x7fdf7d5b0b28, attrs=0x7fdf7d5b0f58, first_chunk=0x0, objv_tracker=0x7fdf9d62f1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9d630620, obj=..., state=state@entry=0x7fdf9d62eaa8, objv_tracker=objv_tracker@entry=0x7fdf9d62f1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9d630620, obj=..., state=state@entry=0x7fdf9d62eaa8, objv_tracker=objv_tracker@entry=0x7fdf9d62f1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdf9d6303c8, lastmod=0x7fdf9d62f180, obj_size=0x0, objv_tracker=0x7fdf9d62f1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9d62ecb0, objv_tracker=objv_tracker@entry=0x7fdf9d62f1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdf9d62f1e0, pmtime=pmtime@entry=0x7fdf9d62f180, pattrs=pattrs@entry=0x7fdf9d6303c8, cache_info=cache_info@entry=0x7fdf9d62f1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdf9d62f1e0, pmtime=pmtime@entry=0x7fdf9d62f180, pattrs=pattrs@entry=0x7fdf9d6303c8, cache_info=cache_info@entry=0x7fdf9d62f1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdf9d6303c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdf9d6300e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b8edf60) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf77868b00, client_io=client_io@entry=0x7fdf9d630710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf77868b00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf77868b00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70885e0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 47 (Thread 0x7fdf9ce31700 (LWP 137356)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf9ce2d6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf9ce2d6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf9ce2d898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf9ce2d8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf9ce2d9d0, bucket=bucket@entry=0x7fdf9ce2da20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7d1b0b18, pmtime=0x7fdf7d1b0b20, epoch=0x7fdf7d1b0b28, attrs=0x7fdf7d1b0f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9ce2e4c0, obj=..., state=state@entry=0x7fdf9ce2dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9ce2e4c0, obj=..., state=state@entry=0x7fdf9ce2dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf9ce2e4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9ce2df30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf9ce2e4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf9ce2f0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf9ce2f0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79d30400, client_io=client_io@entry=0x7fdf9ce2f710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79d30400) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79d30400) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088640) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 46 (Thread 0x7fdf9c630700 (LWP 137357)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf9c62c6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf9c62c6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf9c62c898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf9c62c8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf9c62c9d0, bucket=bucket@entry=0x7fdf9c62ca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fdf7cdb5518, pmtime=0x7fdf7cdb5520, epoch=0x7fdf7cdb5528, attrs=0x7fdf7cdb5958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9c62d4c0, obj=..., state=state@entry=0x7fdf9c62cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9c62d4c0, obj=..., state=state@entry=0x7fdf9c62cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf9c62d4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9c62cf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf9c62d4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf9c62e0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf9c62e0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce480, client_io=client_io@entry=0x7fdf9c62e710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce480) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce480) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70886a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 45 (Thread 0x7fdf9be2f700 (LWP 137358)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf9be2b6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf9be2b6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf9be2b898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf9be2b8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf9be2b9d0, bucket=bucket@entry=0x7fdf9be2ba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0fafb4b18, pmtime=0x7fe0fafb4b20, epoch=0x7fe0fafb4b28, attrs=0x7fe0fafb4f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9be2c4c0, obj=..., state=state@entry=0x7fdf9be2bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9be2c4c0, obj=..., state=state@entry=0x7fdf9be2bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf9be2c4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9be2bf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf9be2c4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf9be2d0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf9be2d0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd200, client_io=client_io@entry=0x7fdf9be2d710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd200) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd200) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088700) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 44 (Thread 0x7fdf9b62e700 (LWP 137359)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdf9b62a1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdf9b62a1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f7c1ad00, sul=..., ptid=ptid@entry=0x7fdf9b62a3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f7c1ad00, sul=..., ptid=ptid@entry=0x7fdf9b62a3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0f7c1ad00, ptid=0x7fdf9b62a3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c8200, oid=..., o=0x7fdf80467900, pbl=pbl@entry=0x7fdf9b62a7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdf9b62a760, oid="test1", o=o@entry=0x7fdf9b62a740, pbl=pbl@entry=0x7fdf9b62a7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f7dbb518, pmtime=0x7fe0f7dbb520, epoch=0x7fe0f7dbb528, attrs=0x7fe0f7dbb958, first_chunk=0x0, objv_tracker=0x7fdf9b62b1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9b62c620, obj=..., state=state@entry=0x7fdf9b62aaa8, objv_tracker=objv_tracker@entry=0x7fdf9b62b1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9b62c620, obj=..., state=state@entry=0x7fdf9b62aaa8, objv_tracker=objv_tracker@entry=0x7fdf9b62b1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdf9b62c3c8, lastmod=0x7fdf9b62b180, obj_size=0x0, objv_tracker=0x7fdf9b62b1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9b62acb0, objv_tracker=objv_tracker@entry=0x7fdf9b62b1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdf9b62b1e0, pmtime=pmtime@entry=0x7fdf9b62b180, pattrs=pattrs@entry=0x7fdf9b62c3c8, cache_info=cache_info@entry=0x7fdf9b62b1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdf9b62b1e0, pmtime=pmtime@entry=0x7fdf9b62b180, pattrs=pattrs@entry=0x7fdf9b62c3c8, cache_info=cache_info@entry=0x7fdf9b62b1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdf9b62c3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdf9b62c0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bfb6b20) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c70f5280, client_io=client_io@entry=0x7fdf9b62c710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c70f5280) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c70f5280) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088760) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 43 (Thread 0x7fdf9ae2d700 (LWP 137360)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdf9ae29650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf733bea00, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdf9ae29880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdf9ae29800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdf9ae297e0, pbl=pbl@entry=0x7fdf9ae29880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f45d4b18, pmtime=0x7fe0f45d4b20, epoch=0x7fe0f45d4b28, attrs=0x7fe0f45d4f58, first_chunk=0x0, objv_tracker=0x7fdf9ae2a3d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9ae2b620, obj=..., state=state@entry=0x7fdf9ae29b48, objv_tracker=objv_tracker@entry=0x7fdf9ae2a3d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9ae2b620, obj=..., state=state@entry=0x7fdf9ae29b48, objv_tracker=objv_tracker@entry=0x7fdf9ae2a3d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdf9ae2a4b8, lastmod=0x7fdf9ae2a4b0, obj_size=0x0, objv_tracker=0x7fdf9ae2a3d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9ae29d50, objv_tracker=objv_tracker@entry=0x7fdf9ae2a3d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdf9ae2a3d8, pmtime=pmtime@entry=0x7fdf9ae2a4b0, pattrs=pattrs@entry=0x7fdf9ae2a4b8, cache_info=cache_info@entry=0x7fdf9ae2a1c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdf9ae2a4b0, pattrs=pattrs@entry=0x7fdf9ae2a4b8, cache_info=cache_info@entry=0x7fdf9ae2a1c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdf9ae2b3c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdf9ae2b0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7bc8ecc0) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c35a9c0, client_io=client_io@entry=0x7fdf9ae2b710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c35a9c0) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c35a9c0) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70887c0) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 42 (Thread 0x7fdf9a62c700 (LWP 137361)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf9a6286c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf9a6286c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf9a628898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf9a6288c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf9a6289d0, bucket=bucket@entry=0x7fdf9a628a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f11c4b18, pmtime=0x7fe0f11c4b20, epoch=0x7fe0f11c4b28, attrs=0x7fe0f11c4f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9a6294c0, obj=..., state=state@entry=0x7fdf9a628d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9a6294c0, obj=..., state=state@entry=0x7fdf9a628d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf9a6294b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9a628f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf9a6294b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf9a62a0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf9a62a0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a9dd400, client_io=client_io@entry=0x7fdf9a62a710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a9dd400) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a9dd400) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088820) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 41 (Thread 0x7fdf99e2b700 (LWP 137362)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf99e276c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf99e276c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf99e27898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf99e278c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf99e279d0, bucket=bucket@entry=0x7fdf99e27a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f41e9b18, pmtime=0x7fe0f41e9b20, epoch=0x7fe0f41e9b28, attrs=0x7fe0f41e9f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf99e284c0, obj=..., state=state@entry=0x7fdf99e27d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf99e284c0, obj=..., state=state@entry=0x7fdf99e27d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf99e284b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf99e27f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf99e284b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf99e290e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf99e290e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb0c0, client_io=client_io@entry=0x7fdf99e29710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb0c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb0c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088880) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 40 (Thread 0x7fdf9962a700 (LWP 137363)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf996266c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf996266c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf99626898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf996268c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf996269d0, bucket=bucket@entry=0x7fdf99626a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f3dd6b18, pmtime=0x7fe0f3dd6b20, epoch=0x7fe0f3dd6b28, attrs=0x7fe0f3dd6f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf996274c0, obj=..., state=state@entry=0x7fdf99626d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf996274c0, obj=..., state=state@entry=0x7fdf99626d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf996274b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf99626f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf996274b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf996280e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf996280e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b8307c0, client_io=client_io@entry=0x7fdf99628710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b8307c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b8307c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70888e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 39 (Thread 0x7fdf98e29700 (LWP 137364)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf98e256c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf98e256c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf98e25898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf98e258c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf98e259d0, bucket=bucket@entry=0x7fdf98e25a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f15bc518, pmtime=0x7fe0f15bc520, epoch=0x7fe0f15bc528, attrs=0x7fe0f15bc958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf98e264c0, obj=..., state=state@entry=0x7fdf98e25d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf98e264c0, obj=..., state=state@entry=0x7fdf98e25d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf98e264b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf98e25f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf98e264b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf98e270e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf98e270e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1cea00, client_io=client_io@entry=0x7fdf98e27710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1cea00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1cea00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088940) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 38 (Thread 0x7fdf98628700 (LWP 137365)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf986253c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf986253c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4ba98 "FUTIAN_MASTER.rgw.users.uid") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4ba98 "FUTIAN_MASTER.rgw.users.uid", io=io@entry=0x7fdf98625598) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf986255c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.uid", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf986256b0, bucket=bucket@entry=0x7fdf986256d0) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baaecb8 in RGWRados::cls_user_list_buckets (this=this@entry=0x7fe0fad50c00, obj=..., in_marker="", end_marker="", max_entries=max_entries@entry=1000, entries=empty std::list, out_marker=out_marker@entry=0x7fdf98625850, truncated=truncated@entry=0x7fdf9862583c) at rgw/rgw_rados.cc:12292
#15 0x00007fe10b993449 in rgw_read_user_buckets (store=0x7fe0fad50c00, user_id=..., buckets=..., marker="", end_marker="", max=max@entry=1000, need_stats=false, is_truncated=is_truncated@entry=0x7fe0f0c10b80, default_amount=default_amount@entry=1000) at rgw/rgw_bucket.cc:130
#16 0x00007fe10ba531ff in RGWListBuckets::execute (this=0x7fe0f0c10a80) at rgw/rgw_op.cc:1510
#17 0x00007fe10ba813e1 in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf79dfa6c0, client_io=client_io@entry=0x7fdf98626710, olog=0x0) at rgw/rgw_process.cc:174
#18 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf79dfa6c0) at rgw/rgw_fcgi_process.cc:121
#19 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf79dfa6c0) at rgw/rgw_process.h:84
#20 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70889a0) at common/WorkQueue.cc:128
#21 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#22 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#23 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 37 (Thread 0x7fdf97e27700 (LWP 137366)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdf97e231a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdf97e231a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f0847800, sul=..., ptid=ptid@entry=0x7fdf97e233c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f0847800, sul=..., ptid=ptid@entry=0x7fdf97e233c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0f0847800, ptid=0x7fdf97e233c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7fcc00, oid=..., o=0x7fdf726c1a00, pbl=pbl@entry=0x7fdf97e237e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdf97e23760, oid="test1", o=o@entry=0x7fdf97e23740, pbl=pbl@entry=0x7fdf97e237e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f09ccb18, pmtime=0x7fe0f09ccb20, epoch=0x7fe0f09ccb28, attrs=0x7fe0f09ccf58, first_chunk=0x0, objv_tracker=0x7fdf97e241e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf97e25620, obj=..., state=state@entry=0x7fdf97e23aa8, objv_tracker=objv_tracker@entry=0x7fdf97e241e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf97e25620, obj=..., state=state@entry=0x7fdf97e23aa8, objv_tracker=objv_tracker@entry=0x7fdf97e241e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdf97e253c8, lastmod=0x7fdf97e24180, obj_size=0x0, objv_tracker=0x7fdf97e241e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf97e23cb0, objv_tracker=objv_tracker@entry=0x7fdf97e241e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdf97e241e0, pmtime=pmtime@entry=0x7fdf97e24180, pattrs=pattrs@entry=0x7fdf97e253c8, cache_info=cache_info@entry=0x7fdf97e241b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdf97e241e0, pmtime=pmtime@entry=0x7fdf97e24180, pattrs=pattrs@entry=0x7fdf97e253c8, cache_info=cache_info@entry=0x7fdf97e241b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdf97e253c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdf97e250e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7c3ea8e0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c722ca00, client_io=client_io@entry=0x7fdf97e25710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c722ca00) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c722ca00) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088a00) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 36 (Thread 0x7fdf97626700 (LWP 137367)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf976226c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf976226c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf97622898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf976228c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf976229d0, bucket=bucket@entry=0x7fdf97622a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0f05fd518, pmtime=0x7fe0f05fd520, epoch=0x7fe0f05fd528, attrs=0x7fe0f05fd958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf976234c0, obj=..., state=state@entry=0x7fdf97622d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf976234c0, obj=..., state=state@entry=0x7fdf97622d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf976234b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf97622f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf976234b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf976240e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf976240e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d940, client_io=client_io@entry=0x7fdf97624710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d940) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d940) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088a60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 35 (Thread 0x7fdf96e25700 (LWP 137368)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0ebc272a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0ebc27218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdf96e21120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdf96e21120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f0030a80, sul=..., ptid=ptid@entry=0x7fdf96e21348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0f0030a80, sul=..., ptid=ptid@entry=0x7fdf96e21348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0f0030a80, ptid=0x7fdf96e21348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf55d82600, oid=..., o=0x7fdf55c9af80, pbl=pbl@entry=0x7fdf96e21760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdf96e216e0, oid="21232f297a57a5a743894a0e4a801fc3", o=o@entry=0x7fdf96e216c0, pbl=pbl@entry=0x7fdf96e21760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0f01cc518, pmtime=0x7fe0f01cc520, epoch=0x7fe0f01cc528, attrs=0x7fe0f01cc958, first_chunk=0x0, objv_tracker=0x7fdf96e22498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf96e21ff0, obj=..., state=state@entry=0x7fdf96e21a28, objv_tracker=objv_tracker@entry=0x7fdf96e22498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf96e21ff0, obj=..., state=state@entry=0x7fdf96e21a28, objv_tracker=objv_tracker@entry=0x7fdf96e22498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdf96e22498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf96e21c30, objv_tracker=objv_tracker@entry=0x7fdf96e22498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="21232f297a57a5a743894a0e4a801fc3", bl=..., objv_tracker=objv_tracker@entry=0x7fdf96e22498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fdf96e22150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fdf96e22498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fdf96e22150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf96e230e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf96e230e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357940, client_io=client_io@entry=0x7fdf96e23710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357940) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357940) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088ac0) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 34 (Thread 0x7fdf96624700 (LWP 137369)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf966206c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf966206c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf96620898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf966208c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf966209d0, bucket=bucket@entry=0x7fdf96620a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0efdef518, pmtime=0x7fe0efdef520, epoch=0x7fe0efdef528, attrs=0x7fe0efdef958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf966214c0, obj=..., state=state@entry=0x7fdf96620d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf966214c0, obj=..., state=state@entry=0x7fdf96620d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf966214b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf96620f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf966214b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf966220e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf966220e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8f680, client_io=client_io@entry=0x7fdf96622710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8f680) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8f680) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088b20) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 33 (Thread 0x7fdf95e23700 (LWP 137370)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf95e1f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf95e1f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf95e1f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf95e1f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf95e1f9d0, bucket=bucket@entry=0x7fdf95e1fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ef9cfb18, pmtime=0x7fe0ef9cfb20, epoch=0x7fe0ef9cfb28, attrs=0x7fe0ef9cff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf95e204c0, obj=..., state=state@entry=0x7fdf95e1fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf95e204c0, obj=..., state=state@entry=0x7fdf95e1fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf95e204b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf95e1ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf95e204b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf95e210e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf95e210e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d6c0, client_io=client_io@entry=0x7fdf95e21710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d6c0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d6c0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088b80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 32 (Thread 0x7fdf95622700 (LWP 137371)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdf9561e1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdf9561e1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ef458d80, sul=..., ptid=ptid@entry=0x7fdf9561e3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ef458d80, sul=..., ptid=ptid@entry=0x7fdf9561e3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ef458d80, ptid=0x7fdf9561e3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf74413e00, oid=..., o=0x7fe0f0d7ad80, pbl=pbl@entry=0x7fdf9561e7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdf9561e760, oid="test1", o=o@entry=0x7fdf9561e740, pbl=pbl@entry=0x7fdf9561e7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ef657118, pmtime=0x7fe0ef657120, epoch=0x7fe0ef657128, attrs=0x7fe0ef657558, first_chunk=0x0, objv_tracker=0x7fdf9561f1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf95620620, obj=..., state=state@entry=0x7fdf9561eaa8, objv_tracker=objv_tracker@entry=0x7fdf9561f1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf95620620, obj=..., state=state@entry=0x7fdf9561eaa8, objv_tracker=objv_tracker@entry=0x7fdf9561f1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdf956203c8, lastmod=0x7fdf9561f180, obj_size=0x0, objv_tracker=0x7fdf9561f1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9561ecb0, objv_tracker=objv_tracker@entry=0x7fdf9561f1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdf9561f1e0, pmtime=pmtime@entry=0x7fdf9561f180, pattrs=pattrs@entry=0x7fdf956203c8, cache_info=cache_info@entry=0x7fdf9561f1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdf9561f1e0, pmtime=pmtime@entry=0x7fdf9561f180, pattrs=pattrs@entry=0x7fdf956203c8, cache_info=cache_info@entry=0x7fdf9561f1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdf956203c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdf956200e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7cbcd180) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c72b2900, client_io=client_io@entry=0x7fdf95620710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c72b2900) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c72b2900) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088be0) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 31 (Thread 0x7fdf94e21700 (LWP 137372)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf94e1d6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf94e1d6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf94e1d898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf94e1d8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf94e1d9d0, bucket=bucket@entry=0x7fdf94e1da20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0eedce518, pmtime=0x7fe0eedce520, epoch=0x7fe0eedce528, attrs=0x7fe0eedce958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf94e1e4c0, obj=..., state=state@entry=0x7fdf94e1dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf94e1e4c0, obj=..., state=state@entry=0x7fdf94e1dd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf94e1e4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf94e1df30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf94e1e4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf94e1f0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf94e1f0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357e00, client_io=client_io@entry=0x7fdf94e1f710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357e00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357e00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088c40) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 30 (Thread 0x7fdf94620700 (LWP 137373)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf9461c6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf9461c6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf9461c898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf9461c8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf9461c9d0, bucket=bucket@entry=0x7fdf9461ca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ee9fc518, pmtime=0x7fe0ee9fc520, epoch=0x7fe0ee9fc528, attrs=0x7fe0ee9fc958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9461d4c0, obj=..., state=state@entry=0x7fdf9461cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9461d4c0, obj=..., state=state@entry=0x7fdf9461cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf9461d4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9461cf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf9461d4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf9461e0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf9461e0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdbac0, client_io=client_io@entry=0x7fdf9461e710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdbac0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdbac0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088ca0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 29 (Thread 0x7fdf93e1f700 (LWP 137374)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf93e1b6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf93e1b6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf93e1b898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf93e1b8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf93e1b9d0, bucket=bucket@entry=0x7fdf93e1ba20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ee5c4b18, pmtime=0x7fe0ee5c4b20, epoch=0x7fe0ee5c4b28, attrs=0x7fe0ee5c4f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf93e1c4c0, obj=..., state=state@entry=0x7fdf93e1bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf93e1c4c0, obj=..., state=state@entry=0x7fdf93e1bd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf93e1c4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf93e1bf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf93e1c4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf93e1d0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf93e1d0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9dcc0, client_io=client_io@entry=0x7fdf93e1d710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9dcc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9dcc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088d00) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 28 (Thread 0x7fdf9361e700 (LWP 137375)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf9361a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf9361a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf9361a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf9361a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf9361a9d0, bucket=bucket@entry=0x7fdf9361aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0eddffb18, pmtime=0x7fe0eddffb20, epoch=0x7fe0eddffb28, attrs=0x7fe0eddfff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf9361b4c0, obj=..., state=state@entry=0x7fdf9361ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf9361b4c0, obj=..., state=state@entry=0x7fdf9361ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf9361b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf9361af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf9361b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf9361c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf9361c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357fc0, client_io=client_io@entry=0x7fdf9361c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357fc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357fc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088d60) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 27 (Thread 0x7fdf92e1d700 (LWP 137376)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf92e196c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf92e196c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf92e19898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf92e198c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf92e199d0, bucket=bucket@entry=0x7fdf92e19a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ed9d3b18, pmtime=0x7fe0ed9d3b20, epoch=0x7fe0ed9d3b28, attrs=0x7fe0ed9d3f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf92e1a4c0, obj=..., state=state@entry=0x7fdf92e19d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf92e1a4c0, obj=..., state=state@entry=0x7fdf92e19d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf92e1a4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf92e19f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf92e1a4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf92e1b0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf92e1b0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdbf40, client_io=client_io@entry=0x7fdf92e1b710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdbf40) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdbf40) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088dc0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 26 (Thread 0x7fdf9261c700 (LWP 137377)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fac2f0a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0fac2f018) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdf92618120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdf92618120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ecc68d00, sul=..., ptid=ptid@entry=0x7fdf92618348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ecc68d00, sul=..., ptid=ptid@entry=0x7fdf92618348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ecc68d00, ptid=0x7fdf92618348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf77ea2e00, oid=..., o=0x7fdf55c5d480, pbl=pbl@entry=0x7fdf92618760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdf926186e0, oid="system.user", o=o@entry=0x7fdf926186c0, pbl=pbl@entry=0x7fdf92618760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ecdc3b18, pmtime=0x7fe0ecdc3b20, epoch=0x7fe0ecdc3b28, attrs=0x7fe0ecdc3f58, first_chunk=0x0, objv_tracker=0x7fdf92619498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf92618ff0, obj=..., state=state@entry=0x7fdf92618a28, objv_tracker=objv_tracker@entry=0x7fdf92619498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf92618ff0, obj=..., state=state@entry=0x7fdf92618a28, objv_tracker=objv_tracker@entry=0x7fdf92619498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdf92619498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf92618c30, objv_tracker=objv_tracker@entry=0x7fdf92619498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="system.user", bl=..., objv_tracker=objv_tracker@entry=0x7fdf92619498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fdf92619150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fdf92619498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fdf92619150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf9261a0e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf9261a0e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c73d6300, client_io=client_io@entry=0x7fdf9261a710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c73d6300) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c73d6300) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088e20) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 25 (Thread 0x7fdf91e1b700 (LWP 137378)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf91e176c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf91e176c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf91e17898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf91e178c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf91e179d0, bucket=bucket@entry=0x7fdf91e17a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ed5e5518, pmtime=0x7fe0ed5e5520, epoch=0x7fe0ed5e5528, attrs=0x7fe0ed5e5958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf91e184c0, obj=..., state=state@entry=0x7fdf91e17d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf91e184c0, obj=..., state=state@entry=0x7fdf91e17d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf91e184b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf91e17f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf91e184b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf91e190e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf91e190e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d100, client_io=client_io@entry=0x7fdf91e19710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d100) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d100) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088e80) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 24 (Thread 0x7fdf9161a700 (LWP 137379)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf916166c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf916166c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf91616898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf916168c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf916169d0, bucket=bucket@entry=0x7fdf91616a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0eca04b18, pmtime=0x7fe0eca04b20, epoch=0x7fe0eca04b28, attrs=0x7fe0eca04f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf916174c0, obj=..., state=state@entry=0x7fdf91616d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf916174c0, obj=..., state=state@entry=0x7fdf91616d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf916174b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf91616f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf916174b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf916180e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf916180e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c0dc100, client_io=client_io@entry=0x7fdf91618710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c0dc100) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c0dc100) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088ee0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 23 (Thread 0x7fdf90e19700 (LWP 137380)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdf90e151a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdf90e151a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ec46d580, sul=..., ptid=ptid@entry=0x7fdf90e153c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0ec46d580, sul=..., ptid=ptid@entry=0x7fdf90e153c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0ec46d580, ptid=0x7fdf90e153c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf745c5e00, oid=..., o=0x7fe0ec9ef380, pbl=pbl@entry=0x7fdf90e157e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdf90e15760, oid="test1", o=o@entry=0x7fdf90e15740, pbl=pbl@entry=0x7fdf90e157e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0ec5d1518, pmtime=0x7fe0ec5d1520, epoch=0x7fe0ec5d1528, attrs=0x7fe0ec5d1958, first_chunk=0x0, objv_tracker=0x7fdf90e161e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf90e17620, obj=..., state=state@entry=0x7fdf90e15aa8, objv_tracker=objv_tracker@entry=0x7fdf90e161e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf90e17620, obj=..., state=state@entry=0x7fdf90e15aa8, objv_tracker=objv_tracker@entry=0x7fdf90e161e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdf90e173c8, lastmod=0x7fdf90e16180, obj_size=0x0, objv_tracker=0x7fdf90e161e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf90e15cb0, objv_tracker=objv_tracker@entry=0x7fdf90e161e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdf90e161e0, pmtime=pmtime@entry=0x7fdf90e16180, pattrs=pattrs@entry=0x7fdf90e173c8, cache_info=cache_info@entry=0x7fdf90e161b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdf90e161e0, pmtime=pmtime@entry=0x7fdf90e16180, pattrs=pattrs@entry=0x7fdf90e173c8, cache_info=cache_info@entry=0x7fdf90e161b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdf90e173c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdf90e170e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c7109ae0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf778682c0, client_io=client_io@entry=0x7fdf90e17710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf778682c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf778682c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088f40) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 22 (Thread 0x7fdf90618700 (LWP 137381)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf906146c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf906146c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf90614898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf906148c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf906149d0, bucket=bucket@entry=0x7fdf90614a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ebe08b18, pmtime=0x7fe0ebe08b20, epoch=0x7fe0ebe08b28, attrs=0x7fe0ebe08f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf906154c0, obj=..., state=state@entry=0x7fdf90614d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf906154c0, obj=..., state=state@entry=0x7fdf90614d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf906154b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf90614f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf906154b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf906160e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf906160e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7c1ce740, client_io=client_io@entry=0x7fdf90616710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7c1ce740) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7c1ce740) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7088fa0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 21 (Thread 0x7fdf8fe17700 (LWP 137382)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf8fe136c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf8fe136c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf8fe13898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf8fe138c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf8fe139d0, bucket=bucket@entry=0x7fdf8fe13a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0eb9cc518, pmtime=0x7fe0eb9cc520, epoch=0x7fe0eb9cc528, attrs=0x7fe0eb9cc958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf8fe144c0, obj=..., state=state@entry=0x7fdf8fe13d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf8fe144c0, obj=..., state=state@entry=0x7fdf8fe13d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf8fe144b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf8fe13f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf8fe144b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf8fe150e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf8fe150e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8fa00, client_io=client_io@entry=0x7fdf8fe15710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8fa00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8fa00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7092040) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 20 (Thread 0x7fdf8f616700 (LWP 137383)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0fac2f0a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0fac2f018) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdf8f612120) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdf8f612120) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eb476800, sul=..., ptid=ptid@entry=0x7fdf8f612348) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0eb476800, sul=..., ptid=ptid@entry=0x7fdf8f612348, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0eb476800, ptid=0x7fdf8f612348, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fdf55cafc00, oid=..., o=0x7fe0ea952c00, pbl=pbl@entry=0x7fdf8f612760, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdf8f6126e0, oid="system.user", o=o@entry=0x7fdf8f6126c0, pbl=pbl@entry=0x7fdf8f612760) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0eb654518, pmtime=0x7fe0eb654520, epoch=0x7fe0eb654528, attrs=0x7fe0eb654958, first_chunk=0x0, objv_tracker=0x7fdf8f613498) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf8f612ff0, obj=..., state=state@entry=0x7fdf8f612a28, objv_tracker=objv_tracker@entry=0x7fdf8f613498) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf8f612ff0, obj=..., state=state@entry=0x7fdf8f612a28, objv_tracker=objv_tracker@entry=0x7fdf8f613498) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x0, obj_size=0x0, objv_tracker=0x7fdf8f613498) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf8f612c30, objv_tracker=objv_tracker@entry=0x7fdf8f613498) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="system.user", bl=..., objv_tracker=objv_tracker@entry=0x7fdf8f613498, pmtime=pmtime@entry=0x0, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x7fdf8f613150) at rgw/rgw_tools.cc:63
#16 0x00007fe10bb93bf1 in rgw_get_user_info_by_uid (store=store@entry=0x7fe0fad50c00, uid=..., info=..., objv_tracker=objv_tracker@entry=0x7fdf8f613498, pmtime=pmtime@entry=0x0, cache_info=cache_info@entry=0x7fdf8f613150, pattrs=pattrs@entry=0x0) at rgw/rgw_user.cc:284
#17 0x00007fe10bb94986 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:244
#18 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#19 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf8f6140e0) at rgw/rgw_rest_s3.cc:4412
#20 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf8f6140e0) at rgw/rgw_rest_s3.cc:3681
#21 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fe0c71970c0, client_io=client_io@entry=0x7fdf8f614710, olog=0x0) at rgw/rgw_process.cc:91
#22 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fe0c71970c0) at rgw/rgw_fcgi_process.cc:121
#23 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fe0c71970c0) at rgw/rgw_process.h:84
#24 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70920a0) at common/WorkQueue.cc:128
#25 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#26 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#27 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 19 (Thread 0x7fdf8ee15700 (LWP 137384)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf8ee116c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf8ee116c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf8ee11898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf8ee118c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf8ee119d0, bucket=bucket@entry=0x7fdf8ee11a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0eadcdb18, pmtime=0x7fe0eadcdb20, epoch=0x7fe0eadcdb28, attrs=0x7fe0eadcdf58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf8ee124c0, obj=..., state=state@entry=0x7fdf8ee11d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf8ee124c0, obj=..., state=state@entry=0x7fdf8ee11d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf8ee124b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf8ee11f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf8ee124b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf8ee130e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf8ee130e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bb8fe00, client_io=client_io@entry=0x7fdf8ee13710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bb8fe00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bb8fe00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7092100) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 18 (Thread 0x7fdf8e614700 (LWP 137385)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf8e6106c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf8e6106c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf8e610898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf8e6108c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf8e6109d0, bucket=bucket@entry=0x7fdf8e610a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ea9efb18, pmtime=0x7fe0ea9efb20, epoch=0x7fe0ea9efb28, attrs=0x7fe0ea9eff58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf8e6114c0, obj=..., state=state@entry=0x7fdf8e610d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf8e6114c0, obj=..., state=state@entry=0x7fdf8e610d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf8e6114b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf8e610f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf8e6114b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf8e6120e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf8e6120e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdb740, client_io=client_io@entry=0x7fdf8e612710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdb740) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdb740) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7092160) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 17 (Thread 0x7fdf8de13700 (LWP 137386)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf8de0f6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf8de0f6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf8de0f898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf8de0f8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf8de0f9d0, bucket=bucket@entry=0x7fdf8de0fa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0ea5ce518, pmtime=0x7fe0ea5ce520, epoch=0x7fe0ea5ce528, attrs=0x7fe0ea5ce958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf8de104c0, obj=..., state=state@entry=0x7fdf8de0fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf8de104c0, obj=..., state=state@entry=0x7fdf8de0fd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf8de104b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf8de0ff30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf8de104b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf8de110e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf8de110e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7bce8f00, client_io=client_io@entry=0x7fdf8de11710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7bce8f00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7bce8f00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70921c0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 16 (Thread 0x7fdf8d612700 (LWP 137387)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf8d60e6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf8d60e6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf8d60e898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf8d60e8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf8d60e9d0, bucket=bucket@entry=0x7fdf8d60ea20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0e9dd8518, pmtime=0x7fe0e9dd8520, epoch=0x7fe0e9dd8528, attrs=0x7fe0e9dd8958, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf8d60f4c0, obj=..., state=state@entry=0x7fdf8d60ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf8d60f4c0, obj=..., state=state@entry=0x7fdf8d60ed28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf8d60f4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf8d60ef30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf8d60f4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf8d6100e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf8d6100e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b357d00, client_io=client_io@entry=0x7fdf8d610710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b357d00) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b357d00) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7092220) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 15 (Thread 0x7fdf8ce11700 (LWP 137388)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdf8ce0d950) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf7337ac00, oid=..., o=<optimized out>, pbl=pbl@entry=0x0, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=0x7fdf8ce0dd58, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdf8ce0dae0, pbl=pbl@entry=0x0) at librados/librados.cc:1424
#4  0x00007fe10baab3e2 in RGWRados::get_system_obj (this=0x7fe0fad50c00, obj_ctx=..., read_state=..., objv_tracker=<optimized out>, obj=..., bl=..., ofs=0, end=524287, attrs=0x0, cache_info=0x7fdf8ce0e1c0) at rgw/rgw_rados.cc:9408
#5  0x00007fe10ba8eaec in RGWRados::SystemObject::Read::read (this=this@entry=0x7fdf8ce0dd50, ofs=ofs@entry=0, end=end@entry=524287, bl=..., objv_tracker=objv_tracker@entry=0x7fdf8ce0e3d8) at rgw/rgw_rados.cc:9433
#6  0x00007fe10b988951 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdf8ce0e3d8, pmtime=pmtime@entry=0x7fdf8ce0e4b0, pattrs=pattrs@entry=0x7fdf8ce0e4b8, cache_info=cache_info@entry=0x7fdf8ce0e1c0) at rgw/rgw_tools.cc:69
#7  0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdf8ce0e4b0, pattrs=pattrs@entry=0x7fdf8ce0e4b8, cache_info=cache_info@entry=0x7fdf8ce0e1c0) at rgw/rgw_rados.cc:10920
#8  0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdf8ce0f3c8) at rgw/rgw_rados.cc:11100
#9  0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdf8ce0f0e0) at rgw/rgw_op.cc:361
#10 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fe0c70d1320) at rgw/rgw_op.cc:5048
#11 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7b35b640, client_io=client_io@entry=0x7fdf8ce0f710, olog=0x0) at rgw/rgw_process.cc:113
#12 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7b35b640) at rgw/rgw_fcgi_process.cc:121
#13 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7b35b640) at rgw/rgw_process.h:84
#14 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7092280) at common/WorkQueue.cc:128
#15 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#16 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#17 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 14 (Thread 0x7fdf8c610700 (LWP 137389)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf8c60c6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf8c60c6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf8c60c898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf8c60c8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf8c60c9d0, bucket=bucket@entry=0x7fdf8c60ca20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0e7a43b18, pmtime=0x7fe0e7a43b20, epoch=0x7fe0e7a43b28, attrs=0x7fe0e7a43f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf8c60d4c0, obj=..., state=state@entry=0x7fdf8c60cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf8c60d4c0, obj=..., state=state@entry=0x7fdf8c60cd28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf8c60d4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf8c60cf30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf8c60d4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf8c60e0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf8c60e0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d180, client_io=client_io@entry=0x7fdf8c60e710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d180) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d180) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70922e0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 13 (Thread 0x7fdf8be0f700 (LWP 137390)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a5d34b in boost::condition_variable::wait (this=this@entry=0x7fe0edc2e2a0, m=...) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  0x00007fe100a5d6ef in boost::shared_mutex::lock (this=0x7fe0edc2e218) at /usr/include/boost/thread/pthread/shared_mutex.hpp:176
#3  0x00007fe100a3fcfa in lock (this=0x7fdf8be0b1a0) at /usr/include/c++/4.8.2/mutex:511
#4  unique_lock (__m=..., this=0x7fdf8be0b1a0) at /usr/include/c++/4.8.2/mutex:443
#5  Objecter::_op_submit (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d6813a80, sul=..., ptid=ptid@entry=0x7fdf8be0b3c8) at osdc/Objecter.cc:2327
#6  0x00007fe100a432ee in Objecter::_op_submit_with_budget (this=this@entry=0x7fe0fad71d00, op=op@entry=0x7fe0d6813a80, sul=..., ptid=ptid@entry=0x7fdf8be0b3c8, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2171
#7  0x00007fe100a435dd in Objecter::op_submit (this=0x7fe0fad71d00, op=0x7fe0d6813a80, ptid=0x7fdf8be0b3c8, ptid@entry=0x0, ctx_budget=ctx_budget@entry=0x0) at osdc/Objecter.cc:2138
#8  0x00007fe100a180c7 in librados::IoCtxImpl::operate_read (this=0x7fe0eb7f9e00, oid=..., o=0x7fdf72437580, pbl=pbl@entry=0x7fdf8be0b7e0, flags=flags@entry=0) at librados/IoCtxImpl.cc:721
#9  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdf8be0b760, oid="test1", o=o@entry=0x7fdf8be0b740, pbl=pbl@entry=0x7fdf8be0b7e0) at librados/librados.cc:1424
#10 0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0d69d7b18, pmtime=0x7fe0d69d7b20, epoch=0x7fe0d69d7b28, attrs=0x7fe0d69d7f58, first_chunk=0x0, objv_tracker=0x7fdf8be0c1e0) at rgw/rgw_rados.cc:10670
#11 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf8be0d620, obj=..., state=state@entry=0x7fdf8be0baa8, objv_tracker=objv_tracker@entry=0x7fdf8be0c1e0) at rgw/rgw_rados.cc:8325
#12 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf8be0d620, obj=..., state=state@entry=0x7fdf8be0baa8, objv_tracker=objv_tracker@entry=0x7fdf8be0c1e0) at rgw/rgw_rados.cc:8353
#13 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdf8be0d3c8, lastmod=0x7fdf8be0c180, obj_size=0x0, objv_tracker=0x7fdf8be0c1e0) at rgw/rgw_rados.cc:9101
#14 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf8be0bcb0, objv_tracker=objv_tracker@entry=0x7fdf8be0c1e0) at rgw/rgw_rados.cc:9133
#15 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="test1", bl=..., objv_tracker=objv_tracker@entry=0x7fdf8be0c1e0, pmtime=pmtime@entry=0x7fdf8be0c180, pattrs=pattrs@entry=0x7fdf8be0d3c8, cache_info=cache_info@entry=0x7fdf8be0c1b0) at rgw/rgw_tools.cc:63
#16 0x00007fe10baa2bc1 in RGWRados::get_bucket_entrypoint_info (this=this@entry=0x7fe0fad50c00, obj_ctx=..., tenant_name="", bucket_name="test1", entry_point=..., objv_tracker=objv_tracker@entry=0x7fdf8be0c1e0, pmtime=pmtime@entry=0x7fdf8be0c180, pattrs=pattrs@entry=0x7fdf8be0d3c8, cache_info=cache_info@entry=0x7fdf8be0c1b0) at rgw/rgw_rados.cc:10991
#17 0x00007fe10baa42c5 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdf8be0d3c8) at rgw/rgw_rados.cc:11066
#18 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdf8be0d0e0) at rgw/rgw_op.cc:361
#19 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7b86fea0) at rgw/rgw_op.cc:5048
#20 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7a61f4c0, client_io=client_io@entry=0x7fdf8be0d710, olog=0x0) at rgw/rgw_process.cc:113
#21 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7a61f4c0) at rgw/rgw_fcgi_process.cc:121
#22 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7a61f4c0) at rgw/rgw_process.h:84
#23 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7092340) at common/WorkQueue.cc:128
#24 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#25 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#26 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 12 (Thread 0x7fdf8b60e700 (LWP 137391)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf8b60a6c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf8b60a6c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf8b60a898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf8b60a8c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf8b60a9d0, bucket=bucket@entry=0x7fdf8b60aa20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0d59d4b18, pmtime=0x7fe0d59d4b20, epoch=0x7fe0d59d4b28, attrs=0x7fe0d59d4f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf8b60b4c0, obj=..., state=state@entry=0x7fdf8b60ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf8b60b4c0, obj=..., state=state@entry=0x7fdf8b60ad28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf8b60b4b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf8b60af30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="YAEPY6AUI9HDPE4ORC12", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf8b60b4b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="YAEPY6AUI9HDPE4ORC12", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="YAEPY6AUI9HDPE4ORC12", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf8b60c0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf8b60c0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7abdbfc0, client_io=client_io@entry=0x7fdf8b60c710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7abdbfc0) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7abdbfc0) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c70923a0) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 11 (Thread 0x7fdf8ae0d700 (LWP 137392)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a18169 in Wait (mutex=..., this=0x7fdf8ae09650) at ./common/Cond.h:56
#2  librados::IoCtxImpl::operate_read (this=0x7fdf76514600, oid=..., o=<optimized out>, pbl=pbl@entry=0x7fdf8ae09880, flags=flags@entry=0) at librados/IoCtxImpl.cc:725
#3  0x00007fe1009e49e6 in librados::IoCtx::operate (this=this@entry=0x7fdf8ae09800, oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", o=o@entry=0x7fdf8ae097e0, pbl=pbl@entry=0x7fdf8ae09880) at librados/librados.cc:1424
#4  0x00007fe10baad5b1 in RGWRados::raw_obj_stat (this=<optimized out>, obj=..., psize=0x7fe0d49b3b18, pmtime=0x7fe0d49b3b20, epoch=0x7fe0d49b3b28, attrs=0x7fe0d49b3f58, first_chunk=0x0, objv_tracker=0x7fdf8ae0a3d8) at rgw/rgw_rados.cc:10670
#5  0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf8ae0b620, obj=..., state=state@entry=0x7fdf8ae09b48, objv_tracker=objv_tracker@entry=0x7fdf8ae0a3d8) at rgw/rgw_rados.cc:8325
#6  0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf8ae0b620, obj=..., state=state@entry=0x7fdf8ae09b48, objv_tracker=objv_tracker@entry=0x7fdf8ae0a3d8) at rgw/rgw_rados.cc:8353
#7  0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x7fdf8ae0a4b8, lastmod=0x7fdf8ae0a4b0, obj_size=0x0, objv_tracker=0x7fdf8ae0a3d8) at rgw/rgw_rados.cc:9101
#8  0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf8ae09d50, objv_tracker=objv_tracker@entry=0x7fdf8ae0a3d8) at rgw/rgw_rados.cc:9133
#9  0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", bl=..., objv_tracker=objv_tracker@entry=0x7fdf8ae0a3d8, pmtime=pmtime@entry=0x7fdf8ae0a4b0, pattrs=pattrs@entry=0x7fdf8ae0a4b8, cache_info=cache_info@entry=0x7fdf8ae0a1c0) at rgw/rgw_tools.cc:63
#10 0x00007fe10baa2733 in RGWRados::get_bucket_instance_from_oid (this=this@entry=0x7fe0fad50c00, obj_ctx=..., oid=".bucket.meta.test1:01e3669b-1c46-4d12-80d7-cea44d699f66.6070.3", info=..., pmtime=pmtime@entry=0x7fdf8ae0a4b0, pattrs=pattrs@entry=0x7fdf8ae0a4b8, cache_info=cache_info@entry=0x7fdf8ae0a1c0) at rgw/rgw_rados.cc:10920
#11 0x00007fe10baa43c7 in RGWRados::get_bucket_info (this=0x7fe0fad50c00, obj_ctx=..., tenant="", bucket_name="test1", info=..., pmtime=0x0, pattrs=0x7fdf8ae0b3c8) at rgw/rgw_rados.cc:11100
#12 0x00007fe10ba6c214 in rgw_build_bucket_policies (store=0x7fe0fad50c00, s=0x7fdf8ae0b0e0) at rgw/rgw_op.cc:361
#13 0x00007fe10ba6d09f in RGWHandler::do_init_permissions (this=0x7fdf7beced20) at rgw/rgw_op.cc:5048
#14 0x00007fe10ba8125d in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf780f2b40, client_io=client_io@entry=0x7fdf8ae0b710, olog=0x0) at rgw/rgw_process.cc:113
#15 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf780f2b40) at rgw/rgw_fcgi_process.cc:121
#16 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf780f2b40) at rgw/rgw_process.h:84
#17 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7092400) at common/WorkQueue.cc:128
#18 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#19 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#20 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 10 (Thread 0x7fdf8a60c700 (LWP 137393)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100a1183b in wait (m=..., this=0x7fe0fad71df8) at /usr/include/boost/thread/pthread/condition_variable.hpp:73
#2  lock_shared (this=0x7fe0fad71dc8) at /usr/include/boost/thread/pthread/shared_mutex.hpp:75
#3  boost::shared_lock<boost::shared_mutex>::lock (this=this@entry=0x7fdf8a6086c0) at /usr/include/boost/thread/lock_types.hpp:642
#4  0x00007fe100a04be4 in shared_lock (m_=..., this=0x7fdf8a6086c0) at /usr/include/boost/thread/lock_types.hpp:518
#5  with_osdmap<librados::RadosClient::wait_for_osdmap()::__lambda4> (cb=<optimized out>, this=0x7fe0fad71d00) at ./osdc/Objecter.h:1998
#6  librados::RadosClient::wait_for_osdmap (this=this@entry=0x7fe0facbb800) at librados/RadosClient.cc:520
#7  0x00007fe100a052a3 in librados::RadosClient::lookup_pool (this=this@entry=0x7fe0facbb800, name=name@entry=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys") at librados/RadosClient.cc:84
#8  0x00007fe100a05378 in librados::RadosClient::create_ioctx (this=0x7fe0facbb800, name=0x7fe0fad4b858 "FUTIAN_MASTER.rgw.users.keys", io=io@entry=0x7fdf8a608898) at librados/RadosClient.cc:430
#9  0x00007fe1009e70b3 in rados_ioctx_create (cluster=<optimized out>, name=<optimized out>, io=io@entry=0x7fdf8a6088c8) at librados/librados.cc:3129
#10 0x00007fe1009e70f5 in librados::Rados::ioctx_create (this=this@entry=0x7fe0fac3f108, name=<optimized out>, io=...) at librados/librados.cc:2258
#11 0x00007fe10baa7fba in RGWRados::open_pool_ctx (this=this@entry=0x7fe0fad50c00, pool="FUTIAN_MASTER.rgw.users.keys", io_ctx=...) at rgw/rgw_rados.cc:4271
#12 0x00007fe10baa801d in RGWRados::open_bucket_data_ctx (this=this@entry=0x7fe0fad50c00, bucket=..., data_ctx=...) at rgw/rgw_rados.cc:4289
#13 0x00007fe10baab979 in RGWRados::get_obj_ref (this=this@entry=0x7fe0fad50c00, obj=..., ref=ref@entry=0x7fdf8a6089d0, bucket=bucket@entry=0x7fdf8a608a20) at rgw/rgw_rados.cc:5681
#14 0x00007fe10baad49d in RGWRados::raw_obj_stat (this=0x7fe0fad50c00, obj=..., psize=0x7fe0bec84b18, pmtime=0x7fe0bec84b20, epoch=0x7fe0bec84b28, attrs=0x7fe0bec84f58, first_chunk=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:10647
#15 0x00007fe10baa6c70 in RGWRados::get_system_obj_state_impl (this=this@entry=0x7fe0fad50c00, rctx=rctx@entry=0x7fdf8a6094c0, obj=..., state=state@entry=0x7fdf8a608d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8325
#16 0x00007fe10baa7184 in RGWRados::get_system_obj_state (this=this@entry=0x7fe0fad50c00, rctx=0x7fdf8a6094c0, obj=..., state=state@entry=0x7fdf8a608d28, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:8353
#17 0x00007fe10baa71fa in RGWRados::stat_system_obj (this=0x7fe0fad50c00, obj_ctx=..., state=..., obj=..., attrs=0x0, lastmod=0x7fdf8a6094b8, obj_size=0x0, objv_tracker=0x0) at rgw/rgw_rados.cc:9101
#18 0x00007fe10ba8ea9b in RGWRados::SystemObject::Read::stat (this=this@entry=0x7fdf8a608f30, objv_tracker=objv_tracker@entry=0x0) at rgw/rgw_rados.cc:9133
#19 0x00007fe10b988923 in rgw_get_system_obj (rgwstore=rgwstore@entry=0x7fe0fad50c00, obj_ctx=..., bucket=..., key="TA0EA7JAWZ5FENN4YAOF", bl=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x7fdf8a6094b8, pattrs=pattrs@entry=0x0, cache_info=cache_info@entry=0x0) at rgw/rgw_tools.cc:63
#20 0x00007fe10bb948c7 in rgw_get_user_info_from_index (store=store@entry=0x7fe0fad50c00, key="TA0EA7JAWZ5FENN4YAOF", bucket=..., info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:235
#21 0x00007fe10bb94e08 in rgw_get_user_info_by_access_key (store=store@entry=0x7fe0fad50c00, access_key="TA0EA7JAWZ5FENN4YAOF", info=..., objv_tracker=objv_tracker@entry=0x0, pmtime=pmtime@entry=0x0) at rgw/rgw_user.cc:334
#22 0x00007fe10bb62551 in RGW_Auth_S3::authorize_v2 (store=store@entry=0x7fe0fad50c00, s=s@entry=0x7fdf8a60a0e0) at rgw/rgw_rest_s3.cc:4412
#23 0x00007fe10bb63d75 in RGW_Auth_S3::authorize (store=0x7fe0fad50c00, s=0x7fdf8a60a0e0) at rgw/rgw_rest_s3.cc:3681
#24 0x00007fe10ba811ec in process_request (store=0x7fe0fad50c00, rest=0x7ffe64a3f920, req=req@entry=0x7fdf7be9d200, client_io=client_io@entry=0x7fdf8a60a710, olog=0x0) at rgw/rgw_process.cc:91
#25 0x00007fe115542cd0 in RGWFCGXProcess::handle_request (this=0x7fe0fadcfe00, r=0x7fdf7be9d200) at rgw/rgw_fcgi_process.cc:121
#26 0x00007fe1155449a0 in RGWProcess::RGWWQ::_process (this=0x7fe0fadd00b8, req=0x7fdf7be9d200) at rgw/rgw_process.h:84
#27 0x00007fe10bdf1abe in ThreadPool::worker (this=0x7fe0fadcfe70, wt=0x7fe0c7092460) at common/WorkQueue.cc:128
#28 0x00007fe10bdf29a0 in ThreadPool::WorkThread::entry (this=<optimized out>) at common/WorkQueue.h:445
#29 0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#30 0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 9 (Thread 0x7fe0ed1fd700 (LWP 242051)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100c8aedf in Wait (mutex=..., this=0x7fe0b2127248) at ./common/Cond.h:56
#2  Pipe::writer (this=0x7fe0b2126000) at msg/simple/Pipe.cc:1869
#3  0x00007fe100c8e85d in Pipe::Writer::entry (this=<optimized out>) at msg/simple/Pipe.h:63
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 8 (Thread 0x7fe0f4af8700 (LWP 242053)):
#0  0x00007fe10a1b5bcd in poll () from /lib64/libc.so.6
#1  0x00007fe100c76852 in poll (__timeout=<optimized out>, __nfds=1, __fds=0x7fe0f4af6910) at /usr/include/bits/poll2.h:46
#2  Pipe::tcp_read_wait (this=<optimized out>) at msg/simple/Pipe.cc:2508
#3  0x00007fe100c76eb8 in Pipe::tcp_read (this=this@entry=0x7fe0b2126000, buf=buf@entry=0x7fe0f4af6abf "\377", len=len@entry=1) at msg/simple/Pipe.cc:2478
#4  0x00007fe100c845df in Pipe::reader (this=0x7fe0b2126000) at msg/simple/Pipe.cc:1545
#5  0x00007fe100c8e83d in Pipe::Reader::entry (this=<optimized out>) at msg/simple/Pipe.h:52
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 7 (Thread 0x7fde77cf2700 (LWP 407237)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100c8aedf in Wait (mutex=..., this=0x7fe0d1531248) at ./common/Cond.h:56
#2  Pipe::writer (this=0x7fe0d1530000) at msg/simple/Pipe.cc:1869
#3  0x00007fe100c8e85d in Pipe::Writer::entry (this=<optimized out>) at msg/simple/Pipe.h:63
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 6 (Thread 0x7fde778ee700 (LWP 407238)):
#0  0x00007fe10a1b5bcd in poll () from /lib64/libc.so.6
#1  0x00007fe100c76852 in poll (__timeout=<optimized out>, __nfds=1, __fds=0x7fde778ec910) at /usr/include/bits/poll2.h:46
#2  Pipe::tcp_read_wait (this=<optimized out>) at msg/simple/Pipe.cc:2508
#3  0x00007fe100c76eb8 in Pipe::tcp_read (this=this@entry=0x7fe0d1530000, buf=buf@entry=0x7fde778ecabf "\377H", len=len@entry=1) at msg/simple/Pipe.cc:2478
#4  0x00007fe100c845df in Pipe::reader (this=0x7fe0d1530000) at msg/simple/Pipe.cc:1545
#5  0x00007fe100c8e83d in Pipe::Reader::entry (this=<optimized out>) at msg/simple/Pipe.h:52
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 5 (Thread 0x7fde97aee700 (LWP 789494)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100c8aedf in Wait (mutex=..., this=0x7fe0b2125248) at ./common/Cond.h:56
#2  Pipe::writer (this=0x7fe0b2124000) at msg/simple/Pipe.cc:1869
#3  0x00007fe100c8e85d in Pipe::Writer::entry (this=<optimized out>) at msg/simple/Pipe.h:63
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 4 (Thread 0x7fde7a51a700 (LWP 789497)):
#0  0x00007fe10a1b5bcd in poll () from /lib64/libc.so.6
#1  0x00007fe100c76852 in poll (__timeout=<optimized out>, __nfds=1, __fds=0x7fde7a518910) at /usr/include/bits/poll2.h:46
#2  Pipe::tcp_read_wait (this=<optimized out>) at msg/simple/Pipe.cc:2508
#3  0x00007fe100c76eb8 in Pipe::tcp_read (this=this@entry=0x7fe0b2124000, buf=buf@entry=0x7fde7a518abf "\377h\345\301\363\340\177", len=len@entry=1) at msg/simple/Pipe.cc:2478
#4  0x00007fe100c845df in Pipe::reader (this=0x7fe0b2124000) at msg/simple/Pipe.cc:1545
#5  0x00007fe100c8e83d in Pipe::Reader::entry (this=<optimized out>) at msg/simple/Pipe.h:52
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 3 (Thread 0x7fde5e0c5700 (LWP 801531)):
#0  0x00007fe10abb86d5 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0
#1  0x00007fe100c8aedf in Wait (mutex=..., this=0x7fde71e17248) at ./common/Cond.h:56
#2  Pipe::writer (this=0x7fde71e16000) at msg/simple/Pipe.cc:1869
#3  0x00007fe100c8e85d in Pipe::Writer::entry (this=<optimized out>) at msg/simple/Pipe.h:63
#4  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#5  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 2 (Thread 0x7fde5dfc4700 (LWP 801532)):
#0  0x00007fe10a1b5bcd in poll () from /lib64/libc.so.6
#1  0x00007fe100c76852 in poll (__timeout=<optimized out>, __nfds=1, __fds=0x7fde5dfc2910) at /usr/include/bits/poll2.h:46
#2  Pipe::tcp_read_wait (this=<optimized out>) at msg/simple/Pipe.cc:2508
#3  0x00007fe100c76eb8 in Pipe::tcp_read (this=this@entry=0x7fde71e16000, buf=buf@entry=0x7fde5dfc2abf "\377", len=len@entry=1) at msg/simple/Pipe.cc:2478
#4  0x00007fe100c845df in Pipe::reader (this=0x7fde71e16000) at msg/simple/Pipe.cc:1545
#5  0x00007fe100c8e83d in Pipe::Reader::entry (this=<optimized out>) at msg/simple/Pipe.h:52
#6  0x00007fe10abb4dc5 in start_thread () from /lib64/libpthread.so.0
#7  0x00007fe10a1c021d in clone () from /lib64/libc.so.6
Thread 1 (Thread 0x7fe115502a00 (LWP 136674)):
#0  0x00007fe10abbb22d in read () from /lib64/libpthread.so.0
#1  0x00007fe10bee9c9c in read (__nbytes=4, __buf=0x7ffe64a3f62c, __fd=28) at /usr/include/bits/unistd.h:44
#2  safe_read (fd=28, buf=0x7ffe64a3f62c, count=count@entry=4) at common/safe_io.c:32
#3  0x00007fe10bee9ce9 in safe_read_exact (fd=<optimized out>, buf=<optimized out>, count=4) at common/safe_io.c:50
#4  0x00007fe115541e15 in wait_shutdown () at rgw/rgw_main.cc:96
#5  main (argc=<optimized out>, argv=<optimized out>) at rgw/rgw_main.cc:490
